<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-web/security/best-practices" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Best Practices | Personal Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://tazimi.dev/notes/web/security/best-practices"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Best Practices | Personal Notes"><meta data-rh="true" name="description" content="Principles"><meta data-rh="true" property="og:description" content="Principles"><link data-rh="true" rel="icon" href="/notes/img/logo.svg"><link data-rh="true" rel="canonical" href="https://tazimi.dev/notes/web/security/best-practices"><link data-rh="true" rel="alternate" href="https://tazimi.dev/notes/web/security/best-practices" hreflang="en"><link data-rh="true" rel="alternate" href="https://tazimi.dev/notes/web/security/best-practices" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Web","item":"https://tazimi.dev/notes/web/"},{"@type":"ListItem","position":2,"name":"Security","item":"https://tazimi.dev/notes/web/security/"},{"@type":"ListItem","position":3,"name":"Best Practices","item":"https://tazimi.dev/notes/web/security/best-practices"}]}</script><link rel="stylesheet" href="/notes/assets/css/styles.9990f200.css">
<script src="/notes/assets/js/runtime~main.5bc0f878.js" defer="defer"></script>
<script src="/notes/assets/js/main.8113c6d0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/notes/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_HRpg" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_jRUZ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/notes/"><div class="navbar__logo"><img src="/notes/img/logo.svg" alt="Today I Learned" class="themedComponent_WbrK themedComponent--light_a_NW"><img src="/notes/img/logo.svg" alt="Today I Learned" class="themedComponent_WbrK themedComponent--dark_jkFO"></div><b class="navbar__title text--truncate">TIL</b></a><a class="navbar__item navbar__link" href="/notes/intro">Notes</a><a class="navbar__item navbar__link" href="/notes/ai">AI</a><a class="navbar__item navbar__link" href="/notes/cs">CS</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes/web">Web</a><a class="navbar__item navbar__link" href="/notes/language">Language</a><a class="navbar__item navbar__link" href="/notes/programming">Programming</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/notes/web/library">Library Gallery</a><a href="https://github.com/sabertazimi/notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_MQHj colorModeToggle_FDXm"><button class="clean-btn toggleButton_HDqk toggleButtonDisabled_eJSg" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Z9DQ lightToggleIcon_MlZr"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Z9DQ darkToggleIcon_zSCQ"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Z9DQ systemToggleIcon_BoRl"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_h883"><div class="navbar__search searchBarContainer_fqp8" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_piua" value=""><div class="loadingRing_AkKA searchBarLoadingRing_cmJm"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_im2G"><div class="docsWrapper_pEZ9"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_IqI7" type="button"></button><div class="docRoot_MlBp"><aside class="theme-doc-sidebar-container docSidebarContainer_TSKv"><div class="sidebarViewport_kwCN"><div class="sidebar_afXj sidebarWithHideableNavbar_nE9x"><a tabindex="-1" class="sidebarLogo_SJsf" href="/notes/"><img src="/notes/img/logo.svg" alt="Today I Learned" class="themedComponent_WbrK themedComponent--light_a_NW"><img src="/notes/img/logo.svg" alt="Today I Learned" class="themedComponent_WbrK themedComponent--dark_jkFO"><b>TIL</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_eJPi"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes/intro"><span title="Notes" class="linkLabel_LOOH">Notes</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" href="/notes/ai/"><span title="AI" class="categoryLinkLabel_h1lI">AI</span></a><button aria-label="Expand sidebar category &#x27;AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" href="/notes/cs/"><span title="CS" class="categoryLinkLabel_h1lI">CS</span></a><button aria-label="Expand sidebar category &#x27;CS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist menu__link--active" href="/notes/web/"><span title="Web" class="categoryLinkLabel_h1lI">Web</span></a><button aria-label="Collapse sidebar category &#x27;Web&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/angular/"><span title="Angular" class="linkLabel_LOOH">Angular</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/css/"><span title="CSS" class="categoryLinkLabel_h1lI">CSS</span></a><button aria-label="Expand sidebar category &#x27;CSS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/design/"><span title="Design" class="linkLabel_LOOH">Design</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/devops/"><span title="DevOps" class="categoryLinkLabel_h1lI">DevOps</span></a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/electron/"><span title="Electron" class="linkLabel_LOOH">Electron</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/graphql/"><span title="GraphQL" class="linkLabel_LOOH">GraphQL</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/html/"><span title="HTML" class="categoryLinkLabel_h1lI">HTML</span></a><button aria-label="Expand sidebar category &#x27;HTML&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/javascript/"><span title="JavaScript" class="categoryLinkLabel_h1lI">JavaScript</span></a><button aria-label="Expand sidebar category &#x27;JavaScript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/jquery/"><span title="jQuery" class="linkLabel_LOOH">jQuery</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/library/"><span title="Library" class="linkLabel_LOOH">Library</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/message-queue/"><span title="Message Queue" class="linkLabel_LOOH">Message Queue</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/network/"><span title="Network" class="categoryLinkLabel_h1lI">Network</span></a><button aria-label="Expand sidebar category &#x27;Network&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/nginx/"><span title="Nginx" class="linkLabel_LOOH">Nginx</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/node/"><span title="Node.js" class="categoryLinkLabel_h1lI">Node.js</span></a><button aria-label="Expand sidebar category &#x27;Node.js&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/performance/"><span title="Performance" class="categoryLinkLabel_h1lI">Performance</span></a><button aria-label="Expand sidebar category &#x27;Performance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/react/"><span title="React" class="categoryLinkLabel_h1lI">React</span></a><button aria-label="Expand sidebar category &#x27;React&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/redis/"><span title="Redis" class="linkLabel_LOOH">Redis</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist menu__link--active" tabindex="0" href="/notes/web/security/"><span title="Security" class="categoryLinkLabel_h1lI">Security</span></a><button aria-label="Collapse sidebar category &#x27;Security&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/web"><span title="Web" class="linkLabel_LOOH">Web</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/sandbox"><span title="Sandbox" class="linkLabel_LOOH">Sandbox</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/zero-trust"><span title="Zero Trust" class="linkLabel_LOOH">Zero Trust</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/xss"><span title="XSS" class="linkLabel_LOOH">XSS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/csrf"><span title="CSRF" class="linkLabel_LOOH">CSRF</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/sql"><span title="SQL Injection" class="linkLabel_LOOH">SQL Injection</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/command"><span title="Command Injection" class="linkLabel_LOOH">Command Injection</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/http"><span title="HTTP Injection" class="linkLabel_LOOH">HTTP Injection</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/object"><span title="Object Injection" class="linkLabel_LOOH">Object Injection</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/xml"><span title="XML" class="linkLabel_LOOH">XML</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/auth"><span title="Authentication" class="linkLabel_LOOH">Authentication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/session"><span title="Session" class="linkLabel_LOOH">Session</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/click-jacking"><span title="Click Jacking" class="linkLabel_LOOH">Click Jacking</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/file"><span title="File Upload Injection" class="linkLabel_LOOH">File Upload Injection</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/directory"><span title="Directory Traversal" class="linkLabel_LOOH">Directory Traversal</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/leakage"><span title="Information Leakage" class="linkLabel_LOOH">Information Leakage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/denial-of-service"><span title="Denial of Service" class="linkLabel_LOOH">Denial of Service</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/supply-chain"><span title="Supply Chain" class="linkLabel_LOOH">Supply Chain</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/web/security/prompt"><span title="Prompt Injection" class="linkLabel_LOOH">Prompt Injection</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes/web/security/best-practices"><span title="Best Practices" class="linkLabel_LOOH">Best Practices</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/testing/"><span title="Testing" class="categoryLinkLabel_h1lI">Testing</span></a><button aria-label="Expand sidebar category &#x27;Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/typescript/"><span title="TypeScript" class="categoryLinkLabel_h1lI">TypeScript</span></a><button aria-label="Expand sidebar category &#x27;TypeScript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" tabindex="0" href="/notes/web/vue/"><span title="Vue" class="categoryLinkLabel_h1lI">Vue</span></a><button aria-label="Expand sidebar category &#x27;Vue&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" href="/notes/language/"><span title="Language" class="categoryLinkLabel_h1lI">Language</span></a><button aria-label="Expand sidebar category &#x27;Language&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_HAVw menu__link menu__link--sublist" href="/notes/programming/"><span title="Programming" class="categoryLinkLabel_h1lI">Programming</span></a><button aria-label="Expand sidebar category &#x27;Programming&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_FLAC"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_c4_l"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_xo37"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Cqgx"><div class="docItemContainer_UtL2"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_LqrR" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/notes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_fswV"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/notes/web/"><span>Web</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/notes/web/security/"><span>Security</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Best Practices</span></li></ul></nav><div class="tocCollapsible_qViM theme-doc-toc-mobile tocMobile_S7kt"><button type="button" class="clean-btn tocCollapsibleButton_z7d1">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Best Practices</h1></header>
<h2 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="principles">Principles<a href="#principles" class="hash-link" aria-label="Direct link to Principles" title="Direct link to Principles" translate="no">​</a></h2>
<p>安全三要素:</p>
<ul>
<li class="">机密性 (Confidentiality).</li>
<li class="">完整性 (Integrity).</li>
<li class="">可用性 (Availability).</li>
</ul>
<p>安全原则:</p>
<ul>
<li class="">白名单原则:<!-- -->
<ul>
<li class="">防火墙白名单: 默认只开放 <code>80</code> 与 <code>443</code> 端口.</li>
<li class="">XSS 防御白名单: 富文本编辑器只允许 <code>&lt;a&gt;</code> 与 <code>&lt;img&gt;</code> 标签.</li>
</ul>
</li>
<li class="">最小权限原则.</li>
<li class="">纵深防御原则:<!-- -->
<ul>
<li class="">Web 应用安全.</li>
<li class="">网络环境安全.</li>
<li class="">数据库安全.</li>
<li class="">OS 系统安全.</li>
</ul>
</li>
<li class="">数据与代码分离原则:<!-- -->
<ul>
<li class="">缓冲区溢出漏洞: 混淆代码与数据边界, 导致安全问题发生.</li>
<li class="">注入漏洞: 混合应用代码与用户数据, 导致 SQL/XSS/CSRF/XML 漏洞发生.</li>
</ul>
</li>
<li class="">不可预测性原则:<!-- -->
<ul>
<li class="">有效地对抗基于篡改与伪造的攻击.</li>
<li class="">随机栈基址防御缓冲区溢出攻击.</li>
<li class="">加密哈希 Token 防御 CSRF 攻击.</li>
</ul>
</li>
</ul>
<p>STRIDE 威胁分析模型:</p>
<table><thead><tr><th>Threat</th><th>Definition</th><th>Security</th></tr></thead><tbody><tr><td>Spoofing</td><td>伪装 (他人身份)</td><td>认证</td></tr><tr><td>Tampering</td><td>篡改 (数据或代码)</td><td>完整性</td></tr><tr><td>Repudiation</td><td>抵赖 (做过的事情)</td><td>不可抵赖性</td></tr><tr><td>Information Disclosure</td><td>信息泄露 (机密数据)</td><td>机密性</td></tr><tr><td>Denial of Service</td><td>拒绝服务</td><td>可用性</td></tr><tr><td>Elevation of Privilege</td><td>提升权限 (未经授权获得许可)</td><td>授权</td></tr></tbody></table>
<p>DREAD 风险分析模型:</p>
<ul>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Risk</mtext><mo>=</mo><mtext>Probability</mtext><mo>∗</mo><mtext>Damage Potential</mtext></mrow><annotation encoding="application/x-tex">\text{Risk} = \text{Probability} * \text{Damage Potential}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord text"><span class="mord">Risk</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord">Probability</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord">Damage Potential</span></span></span></span></span>:<!-- -->
<ul>
<li class="">高危: 12 ~ 15 分.</li>
<li class="">中危: 8 ~ 11 分.</li>
<li class="">低危: 0 ~ 7 分.</li>
</ul>
</li>
<li class="">Damage Potential:<!-- -->
<ul>
<li class="">High: 完全验证权限, 执行管理员操作, 非法上传文件.</li>
<li class="">Medium: 泄露敏感信息.</li>
<li class="">Low: 泄露其他信息.</li>
</ul>
</li>
<li class="">Reproducibility:<!-- -->
<ul>
<li class="">High: 攻击者可以随意重复攻击.</li>
<li class="">Medium: 攻击者可以重复攻击, 有时间限制.</li>
<li class="">Low: 攻击者难以重复攻击.</li>
</ul>
</li>
<li class="">Exploitability:<!-- -->
<ul>
<li class="">High: 初学者短期能掌握攻击方法.</li>
<li class="">Medium: 熟练者才能掌握攻击方法.</li>
<li class="">Low: 漏洞利用条件非常苛刻.</li>
</ul>
</li>
<li class="">Affected users:<!-- -->
<ul>
<li class="">High: All user, key user, default configuration.</li>
<li class="">Medium: Some user, non-default configuration.</li>
<li class="">Low: Rare user, anonymous user.</li>
</ul>
</li>
<li class="">Discoverability:<!-- -->
<ul>
<li class="">High: 漏洞显眼, 攻击条件容易获得.</li>
<li class="">Medium: 私有区域才可发现漏洞, 需要深入挖掘.</li>
<li class="">Low: 发现漏洞极其困难.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="software">Software<a href="#software" class="hash-link" aria-label="Direct link to Software" title="Direct link to Software" translate="no">​</a></h2>
<ul>
<li class="">逻辑安全.</li>
<li class="">数据安全:<!-- -->
<ul>
<li class="">数据访问权限.</li>
<li class="">数据访问时间.</li>
<li class="">数据存储格式.</li>
<li class="">数据存储位置.</li>
<li class="">数据分解与组合.</li>
</ul>
</li>
<li class="">UI 安全.</li>
<li class="">约束安全:<!-- -->
<ul>
<li class="">数据正确类型.</li>
<li class="">数据正确范围.</li>
<li class="">数据长度的最大值和最小值.</li>
<li class="">数据非法值.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="checklist">Checklist<a href="#checklist" class="hash-link" aria-label="Direct link to Checklist" title="Direct link to Checklist" translate="no">​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="access-control">Access Control<a href="#access-control" class="hash-link" aria-label="Direct link to Access Control" title="Direct link to Access Control" translate="no">​</a></h3>
<p>注册/二次验证/密码重置:</p>
<ul class="contains-task-list containsTaskList_jYew">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->任何地方都使用 HTTPS.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->使用 <code>bcrypt</code> 存储密码哈希.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>登出</code>之后销毁会话 ID .</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->密码重置后销毁所有活跃的会话.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->OAuth2 验证必须包含 <code>state</code> 参数.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->登陆成功之后不能直接重定向到开放的路径 (需要校验, 否则容易存在钓鱼攻击).</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->当解析用户注册/登陆的输入时, 过滤 <code>javascript://</code>, <code>data://</code> 以及其他 CRLF 字符.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->使用 <code>secure</code>/<code>httpOnly</code> <code>Cookie</code>.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->移动端使用 <code>OTP</code> 验证时, 当调用 <code>generate OTP</code> 或者 <code>Resend OTP</code> API 时不能把 OTP
(One Time Password) 直接返回
(一般是通过发送手机验证短信, 邮箱随机 code 等方式, 而不是直接 response).</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->限制单个用户 <code>Login</code>/<code>Verify OTP</code>/ <code>Resend OTP</code>/<code>generate OTP</code> 等 API 的调用次数,
使用 Captcha 等手段防止暴力破解.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->检查邮件或短信里的重置密码的 token, 确保随机性 (无法猜测).</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->给重置密码的 token 设置过期时间.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->重置密码成功后, 将重置使用的 token 失效.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Nodejs 等不使用 sudo 运行.</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication" translate="no">​</a></h3>
<ul class="contains-task-list containsTaskList_jYew">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->诸如<code>我的购物车</code>/<code>我的浏览历史</code>之类的资源访问, 必须检查当前登录的用户是否有这些资源的访问权限.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->避免资源 ID 被连续遍历访问, 使用 <code>/me/orders</code> 代替 <code>/user/37153/orders</code> 以防忘记检查权限, 导致数据泄露.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>修改邮箱/手机号码</code>功能必须首先确认用户已经验证过邮箱/手机 (本人).</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->任何上传功能应过滤用户上传的文件名, 并存储在云存储上防止代码执行.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>个人头像上传</code> 功能应过滤所有的 <code>EXIF</code> 标签.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->用户 ID 或者其他的 ID,
应使用 <a href="http://www.ietf.org/rfc/rfc4122.txt" target="_blank" rel="noopener noreferrer" class="">RFC compliant</a> 的 <code>UUID</code> 而不是整数.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <a href="https://jwt.io" target="_blank" rel="noopener noreferrer" class=""><code>JWT</code></a> (JSON Web Token): 当构建一个 <code>SPA</code>/<code>API</code> 时使用 <code>JWT</code>.</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="mobile">Mobile<a href="#mobile" class="hash-link" aria-label="Direct link to Mobile" title="Direct link to Mobile" translate="no">​</a></h3>
<ul class="contains-task-list containsTaskList_jYew">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->支付网关的 <code>salt</code> (盐) 不应被硬编码.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->来自第三方的 <code>secret</code> 和 <code>auth token</code> 不应被硬编码.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->在服务器之间调用的 API 不应在 app 里面调用.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->在安卓系统下, 要小心评估所有申请的 <a href="https://developer.android.com/guide/topics/security/permissions.html" target="_blank" rel="noopener noreferrer" class="">权限</a>.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->在 iOS 系统下, 使用系统的钥匙串来存储敏感信息 (auth token/API key) <strong>不要</strong> 把这类信息存储在用户配置里面.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->强烈推荐证书绑定 (<a href="https://en.wikipedia.org/wiki/HTTP_Public_Key_Pinning" target="_blank" rel="noopener noreferrer" class="">certificate pinning</a>).</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="server">Server<a href="#server" class="hash-link" aria-label="Direct link to Server" title="Direct link to Server" translate="no">​</a></h3>
<ul class="contains-task-list containsTaskList_jYew">
<li class="task-list-item"><input type="checkbox" disabled=""> <code>添加</code> <a href="https://en.wikipedia.org/wiki/Content_Security_Policy" target="_blank" rel="noopener noreferrer" class="">CSP</a> 头信息,
减缓 XSS 和数据注入攻击. 这很重要.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>添加</code> <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery" target="_blank" rel="noopener noreferrer" class="">CSRF</a> 头信息
防止跨站请求伪造 (CSRF) 攻击.
同时<code>添加</code> <a href="https://tools.ietf.org/html/draft-ietf-httpbis-cookie-same-site-00" target="_blank" rel="noopener noreferrer" class="">SameSite</a>
属性到 cookie 里面.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>添加</code> <a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security" target="_blank" rel="noopener noreferrer" class="">HSTS</a>
头信息防止 SSL stripping 攻击.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>添加</code> 你的域名到 <a href="https://hstspreload.appspot.com" target="_blank" rel="noopener noreferrer" class="">HSTS 预加载列表</a>.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>添加</code> <a href="https://en.wikipedia.org/wiki/Clickjacking#X-Frame-Options" target="_blank" rel="noopener noreferrer" class="">X-Frame-Options</a>
防止点击劫持.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>添加</code> <a href="https://www.owasp.org/index.php/OWASP_Secure_Headers_Project#X-XSS-Protection" target="_blank" rel="noopener noreferrer" class="">X-XSS-Protection</a>
缓解 XSS 攻击.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>更新</code> DNS 记录, 增加 <a href="https://en.wikipedia.org/wiki/Sender_Policy_Framework" target="_blank" rel="noopener noreferrer" class="">SPF</a>
记录防止垃圾邮件和钓鱼攻击.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->如果你的 Javascript 托管在第三方的 CDN 上面,
需要<code>添加</code> <a href="https://en.wikipedia.org/wiki/Subresource_Integrity" target="_blank" rel="noopener noreferrer" class="">内部资源集成检查</a>.
为了更加安全, 添加 <a href="https://w3c.github.io/webappsec-subresource-integrity/#parse-require-sri-for" target="_blank" rel="noopener noreferrer" class="">require-sri-for</a>
CSP-directive 就不会加载到没有 SRI 的资源.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->使用随机的 CSRF token, 业务逻辑 API 可以暴露为 POST 请求.
不要把 CSRF token 通过 HTTP 接口暴露出来, 比如第一次请求更新的时候.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->在 <code>GET</code> 请求参数里面, 不要使用临界数据和 token: 暴露服务器日志的同时也会暴露用户数据.</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="client">Client<a href="#client" class="hash-link" aria-label="Direct link to Client" title="Direct link to Client" translate="no">​</a></h3>
<ul class="contains-task-list containsTaskList_jYew">
<li class="task-list-item"><input type="checkbox" disabled=""> <code>过滤</code>所有暴露给用户的参数输入,
防止 <a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="noopener noreferrer" class="">XSS</a> 攻击.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->使用参数化的查询防止 <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_blank" rel="noopener noreferrer" class="">SQL 注入</a>.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>过滤</code>所有具有功能性的用户输入, 比如 <code>CSV</code> 导入.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>过滤</code>一些特殊的用户输入,
例如将 <code>robots.txt</code> 作为用户名,
提供 <code>coolCorp.io/username</code> 之类的 <code>URL</code> 来提供用户信息访问页面:
此时变成 <code>coolCorp.io/robots.txt</code>, 造成安全漏洞.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->禁止手动拼装 JSON 字符串, 不管这个对象有多么小: 使用所用的语言相应的库或者框架来编写.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>过滤</code> 类似 <code>URL</code> 的输入,
防止 <a href="https://docs.google.com/document/d/1v1TkWZtrhzRLy0bYXBcdLUedXGb9njTNIJXa3u9akHM/edit#heading=h.t4tsk5ixehdd" target="_blank" rel="noopener noreferrer" class="">SSRF</a>
攻击.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->在输出显示给用户之前, <code>过滤</code>输出信息.</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="operation">Operation<a href="#operation" class="hash-link" aria-label="Direct link to Operation" title="Direct link to Operation" translate="no">​</a></h3>
<ul class="contains-task-list containsTaskList_jYew">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->如果你的业务很小或者你缺乏经验, 可以评估一下使用 AWS 或者一个 PaaS 平台来运行代码.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->在云上使用正规的脚本创建虚拟机.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->检查所有机器没有必要开放的 <code>端口</code>.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->检查数据库是否没有设置密码或者使用默认密码, 特别是 MongoDB 和 Redis.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->使用 SSH 登录你的机器, 不要使用密码, 而是通过 SSH key 验证来登录.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->及时更新系统, 防止出现 0day 漏洞, 比如 HeartBleed, ShellShock 等.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->修改服务器配置, HTTPS 使用 TLS1.2, 禁用其他的模式.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->不要在线上开启 DEBUG 模式, 有些框架, DEBUG 模式会开启很多权限以及后门, 或者是暴露一些敏感数据到错误栈信息里面.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->对坏人和 DDOS 攻击要有所准备, 使用那些提供 DDOS 清洗的主机服务.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->监控你的系统, 同时记录到日志里面 (例如使用 <a href="https://newrelic.com" target="_blank" rel="noopener noreferrer" class="">New Relic</a> 或者其他).</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->如果是 2B 的业务, 坚持顺从需求.
如果使用 AWS S3, 可以考虑使用
<a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html" target="_blank" rel="noopener noreferrer" class="">数据加密</a>
功能.
如果使用 AWS EC2, 考虑使用磁盘加密功能 (系统启动盘也可加密).</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="teamwork">Teamwork<a href="#teamwork" class="hash-link" aria-label="Direct link to Teamwork" title="Direct link to Teamwork" translate="no">​</a></h3>
<ul class="contains-task-list containsTaskList_jYew">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->开一个邮件组 (例如: <code>security@coolcorp.io</code>) 和搜集页面, 方便安全研究人员提交漏洞.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->取决于你的业务, 限制用户数据库的访问.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->对报告 BUG 与 漏洞的人有礼貌.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->把你的代码给那些有安全编码观念的同伴进行 review (More eyes).</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->被黑或者数据泄露时, 检查数据访问前的日志, 通知用户更改密码, 可能需要外部的机构来帮助审计.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->使用 <a href="https://github.com/Netflix/Scumblr" target="_blank" rel="noopener noreferrer" class="">Netflix Scumblr</a> 及时了解
你的组织 (公司) 在社交网络或者搜索引擎上的一些讨论信息, 比如黑客攻击/漏洞等等.</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="defensive-programming">Defensive Programming<a href="#defensive-programming" class="hash-link" aria-label="Direct link to Defensive Programming" title="Direct link to Defensive Programming" translate="no">​</a></h2>
<p><a href="https://mp.weixin.qq.com/s/G4pME9xFHdWnFckgytnofQ" target="_blank" rel="noopener noreferrer" class="">Defensive programming</a>:</p>
<p>保护程序免遭非法数据的破坏:</p>
<ul>
<li class="">检查所有来源于外部的数据:
当从外部接口中获取数据时, 应检查所获得的数据值, 以确保它在允许的范围内.<!-- -->
<ul>
<li class="">检查接囗数据字段: <strong>是否存在/数据类型/取值范围/缺省值/正则表达式/特殊字符</strong>.</li>
<li class="">检查方法的属性参数做必要的转换: <strong>是否存在/数据类型/取值范围/缺省值/正则表达式/特殊字符</strong>.</li>
</ul>
</li>
<li class="">检查子程序所有输入参数的值.</li>
<li class="">决定如何处理错误的输入数据:
一旦检测到非法参数, 选择适合的错误处理方处理.</li>
</ul>
<p>断言:</p>
<ul>
<li class="">用错误处理代码处理预期发生的状况, 用断言去处理那些不该发生的错误！</li>
<li class="">利用断言来注解前条件和后条件: 对于<code>入参</code>/ <code>外部数据</code>/<code>返回结果</code>进行检查, 是否符合业务逻辑.</li>
<li class="">避免将需要执行的子程序放到断言中.</li>
<li class="">通过写断言, 不仅可以提高防御性, 还能提高可读性.</li>
</ul>
<p>程序的健壮性:</p>
<ul>
<li class="">健壮性具体指的是应用在不正常的输入或不正常的外部环境下仍能表现出正常的程度.</li>
<li class="">不断尝试采取措施来包容错误的输入以此让程序正常运转 (对自己的代码要保守, 对用户的行为要开放:
主动防御处理是有降级/容错处理, 尽量不要走到 <code>Error Boundary</code>.</li>
<li class="">考虑各种各样的极端情况:<!-- -->
<ul>
<li class="">考虑到各种可能的输入形式, 兼容全面.</li>
<li class="">Mock 各种极端数据进行测试.</li>
</ul>
</li>
<li class="">即使终止执行, 也要准确/无歧义的向用户展示全面的错误信息.</li>
<li class="">抛出有助于 Debug 的错误信息: 丰富捕获到的错误信息, 包含更多上下文信息.</li>
</ul>
<p>程序的正确性:</p>
<ul>
<li class="">返回<code>中立值</code>/<code>默认值</code>: 处理错误的最佳做法就是继续执行操作并简单的返回一个没有危害的值.<!-- -->
<ul>
<li class="">换用下一个正确的数据: 在轮询中, 如返回数据有误就丢掉, 进行下一轮查询.</li>
<li class="">返回上一次正确的数据: 同上, 不跳过的也可以返回上一次正确的数据.</li>
<li class="">选择最接近的合法值.</li>
</ul>
</li>
<li class="">上报错误日志: 上报的错误日志对还原问题和调试友好.</li>
<li class="">返回一个错误状态码.</li>
<li class="">启动错误处理子程序或对象.</li>
<li class="">显示对用户友好的出错消息: 展示给用户的错误信息需要加工, 用户能看明白, 有建设性.</li>
<li class="">正确性要求高的话, 就直接退出程序.</li>
</ul>
<p>异常处理:</p>
<ul>
<li class="">用异常通知程序的其他部分, 发生了不可忽略的错误.</li>
<li class="">只在真正例外的情况下才抛出异常:
当前有错误就直接抛出去, 会导致线上监控的错误信息质量不高.</li>
<li class="">不能用异常来推卸责任: 能在局部处理掉就在局部解决掉, 不要简单抛出去.</li>
<li class="">避免在构造函数和析构函数中抛出异常, 除非你在同一个地方把它们捕获.</li>
<li class="">在恰当的抽象层次抛出异常: 不要把底层的异常抛给高层的调用方, 暴露具体实现的细节.</li>
<li class="">异常消息中加入关于导致异常发生的全部信息.</li>
<li class="">避免使用空 <code>catch</code> 语句.</li>
<li class="">考虑创建一个集中的异常上报机制.</li>
<li class="">考虑异常的替换机制.</li>
</ul>
<p>代码隔栏:</p>
<ul>
<li class="">左侧外部接口数据假定是脏数据 (不可信), 通过中间这些类 (子程序) 构成隔栏, 负责清理与验证数据, 并返回可信的数据.</li>
<li class="">最右侧的类 (子程序) 全部在假定数据干净 (安全) 的基础上工作, 这样可以让大部分的代码无须再担负检查错误数据的职责.</li>
<li class="">适配器模式和门面模式用来隔离或适配变化, 是对不可控变化的防御.</li>
</ul>
<p>辅助调试代码 (<code>Debugging Aids</code>):</p>
<ul>
<li class="">在早期的引入辅助调试代码, 发布时移除调试辅助的代码:<!-- -->
<ul>
<li class=""><code>console.log</code> 算是一种辅助调试代码, 发布时清除.</li>
<li class="">在复杂的调试场景下, 有必要专门写一些辅助调试代码.</li>
<li class="">利用 Chrome 插件追踪变量和状态变化辅助调试.</li>
</ul>
</li>
<li class="">采用进攻式编程:<!-- -->
<ul>
<li class="">尽量让异常的情况在开发期间暴露出来, 而在产品上线时自我恢复.</li>
<li class="">在开发阶段考虑到最坏的情况.</li>
<li class="">写单测是一进攻式编程.</li>
</ul>
</li>
</ul>
<p>UI 的防御性:</p>
<ul>
<li class="">防白屏:<!-- -->
<ul>
<li class="">白屏监控.</li>
<li class="">资源加载失败重试.</li>
<li class=""><code>Service Worker</code>: 资源 fallback 机制.</li>
<li class="">模块都包装了 <code>Error Boundary</code>.</li>
<li class="">兼容性探测和提示.</li>
<li class="">白屏提示信息.</li>
</ul>
</li>
<li class="">防慢 (网络慢/响应慢/渲染慢/执行慢): 前端性能优化.</li>
<li class="">防卡 (卡顿/假死): 前端性能优化.</li>
<li class="">防布局错乱: 前端响应式开发.</li>
<li class="">防极端内容 (缺失/超长/连续字符/未转义): 前端响应式开发.</li>
<li class="">UI 一致性问题:<!-- -->
<ul>
<li class="">发布设计规范 (<code>Design System</code>).</li>
<li class="">UI 走查工具.</li>
<li class="">视觉回归测试.</li>
</ul>
</li>
<li class="">防样式污染:<!-- -->
<ul>
<li class="">代码审核.</li>
<li class="">样式隔离.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_O4bZ" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References" translate="no">​</a></h2>
<ul>
<li class="">List of useful <a href="https://github.com/swisskyrepo/PayloadsAllTheThings" target="_blank" rel="noopener noreferrer" class="">payloads and bypass</a>
for web application security and pentest.</li>
<li class="">Open web application security project <a href="https://github.com/OWASP/CheatSheetSeries" target="_blank" rel="noopener noreferrer" class="">cheat sheet</a>.</li>
<li class="">Web security <a href="https://eggjs.org/zh-CN/core/security" target="_blank" rel="noopener noreferrer" class="">checklist</a>.</li>
<li class="">Linux server security <a href="https://github.com/imthenachoman/How-To-Secure-A-Linux-Server" target="_blank" rel="noopener noreferrer" class="">guide</a>.</li>
<li class="">Security search <a href="https://github.com/edoardottt/awesome-hacker-search-engines" target="_blank" rel="noopener noreferrer" class="">engines</a>.</li>
<li class="">MetaSploit: penetration testing <a href="https://github.com/rapid7/metasploit-framework" target="_blank" rel="noopener noreferrer" class="">framework</a>.</li>
<li class="">ESLint node security <a href="https://github.com/nodesecurity/eslint-plugin-security" target="_blank" rel="noopener noreferrer" class="">plugin</a>.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_GGdQ padding--none margin-left--sm"><li class="tag_RgpO"><a rel="tag" class="tag_nZmg tagRegular_dN4n" href="/notes/tags/web">Web</a></li><li class="tag_RgpO"><a rel="tag" class="tag_nZmg tagRegular_dN4n" href="/notes/tags/dev-ops">DevOps</a></li><li class="tag_RgpO"><a rel="tag" class="tag_nZmg tagRegular_dN4n" href="/notes/tags/security">Security</a></li><li class="tag_RgpO"><a rel="tag" class="tag_nZmg tagRegular_dN4n" href="/notes/tags/best-practice">Best Practice</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_YXns"><a href="https://github.com/sabertazimi/notes/edit/main/content/web/security/best-practices.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_XqB6" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_lk_q"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-01-27T12:48:04.000Z" itemprop="dateModified">Jan 27, 2026</time></b> by <b>Sabertaz</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes/web/security/prompt"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Prompt Injection</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes/web/testing/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Testing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_vMZ7 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#principles" class="table-of-contents__link toc-highlight">Principles</a></li><li><a href="#software" class="table-of-contents__link toc-highlight">Software</a></li><li><a href="#checklist" class="table-of-contents__link toc-highlight">Checklist</a><ul><li><a href="#access-control" class="table-of-contents__link toc-highlight">Access Control</a></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#mobile" class="table-of-contents__link toc-highlight">Mobile</a></li><li><a href="#server" class="table-of-contents__link toc-highlight">Server</a></li><li><a href="#client" class="table-of-contents__link toc-highlight">Client</a></li><li><a href="#operation" class="table-of-contents__link toc-highlight">Operation</a></li><li><a href="#teamwork" class="table-of-contents__link toc-highlight">Teamwork</a></li></ul></li><li><a href="#defensive-programming" class="table-of-contents__link toc-highlight">Defensive Programming</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Notes</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/notes/ai">AI</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/cs">CS</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/web">Web</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/language">Language</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/programming">Programming</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/web/library">Library Gallery</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social Media</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sabertazimi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/sabertazimi" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://facebook.com/sabertazimi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://weibo.com/sabertazimi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Weibo<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:sabertazimi@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Find More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sabertazimi/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Next.js Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/sabertazimi/lab" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lab<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/sabertazimi/bod" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bod CLI<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/sabertazimi/dragon-zsh-theme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dragon ZSH Theme<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/sabertazimi/LaTeX-snippets" target="_blank" rel="noopener noreferrer" class="footer__link-item">LaTeX Snippets<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/sabertazimi/hust-lab" target="_blank" rel="noopener noreferrer" class="footer__link-item">HUST Lab<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_O4FC"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Sabertaz</div></div></div></footer></div>
</body>
</html>