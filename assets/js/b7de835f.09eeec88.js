"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[96689],{68960:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>s});const r=JSON.parse('{"id":"web/react/components","title":"Components","description":"React Element \u5b9e\u9645\u4e0a\u662f\u7eaf\u5bf9\u8c61,","source":"@site/content/web/react/components.md","sourceDirName":"web/react","slug":"/web/react/components","permalink":"/notes/web/react/components","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/react/components.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"React","permalink":"/notes/tags/react"},{"inline":true,"label":"Component","permalink":"/notes/tags/component"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"tags":["Web","React","Component"]},"sidebar":"tutorialSidebar","previous":{"title":"React","permalink":"/notes/web/react/"},"next":{"title":"State","permalink":"/notes/web/react/state"}}');var c=t(35656),o=t(86145);const l={sidebar_position:1,tags:["Web","React","Component"]},a="Components",i={},s=[{value:"JSX",id:"jsx",level:2},{value:"Transform",id:"transform",level:3},{value:"Lifecycle",id:"lifecycle",level:2},{value:"Create and Mount",id:"create-and-mount",level:3},{value:"Update",id:"update",level:3},{value:"Unmount",id:"unmount",level:3},{value:"Error",id:"error",level:3},{value:"Render Function",id:"render-function",level:2},{value:"State",id:"state",level:2},{value:"Stateless",id:"stateless",level:3},{value:"Stateful",id:"stateful",level:3},{value:"Functional",id:"functional",level:2},{value:"Compound",id:"compound",level:2},{value:"Elements",id:"elements",level:2},{value:"Clone",id:"clone",level:3},{value:"Children",id:"children",level:3}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"components",children:"Components"})}),"\n",(0,c.jsxs)(e.p,{children:["React Element \u5b9e\u9645\u4e0a\u662f\u7eaf\u5bf9\u8c61,\n\u53ef\u7531 ",(0,c.jsx)(e.code,{children:"React.createElement()"}),"/",(0,c.jsx)(e.code,{children:"JSX"}),"/",(0,c.jsx)(e.code,{children:"Element Factory Helper"})," \u521b\u5efa,\n\u5e76\u88ab React \u5728\u5fc5\u8981\u65f6\u6e32\u67d3\u6210\u771f\u5b9e\u7684 DOM Nodes."]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"type ReactInternalType\n  = | 'react.element'\n    | 'react.portal'\n    | 'react.fragment'\n    | 'react.strict_mode'\n    | 'react.profiler'\n    | 'react.provider'\n    | 'react.context'\n    | 'react.forward_ref'\n    | 'react.suspense'\n    | 'react.suspense_list'\n    | 'react.memo'\n    | 'react.lazy'\n    | 'react.block'\n    | 'react.server.block'\n    | 'react.fundamental'\n    | 'react.scope'\n    | 'react.opaque.id'\n    | 'react.debug_trace_mode'\n    | 'react.offscreen'\n    | 'react.legacy_hidden'\n\nexport interface ReactElement<Props> {\n  $$typeof: any\n  key: string | number | null\n  type:\n    | string\n    | ((props: Props) => ReactElement<any>)\n    | (new (props: Props) => ReactComponent<any>)\n    | ReactInternalType\n  props: Props\n  ref: Ref\n\n  // ReactFiber\n  _owner: any\n\n  // __DEV__\n  _store: { validated: boolean }\n  _self: React$Element<any>\n  _shadowChildren: any\n  _source: Source\n}\n"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"import { createRoot } from 'react-dom/client'\n\ncreateRoot(document.getElementById('root')).render({\n  type: Form,\n  props: {\n    isSubmitted: false,\n    buttonText: 'OK!',\n  },\n})\n\n// React: You told me this...\nconst FormElement = {\n  type: Form,\n  props: {\n    isSubmitted: false,\n    buttonText: 'OK!',\n  },\n}\n\n// React: ...And Form told me this...\nconst ButtonElement = {\n  type: Button,\n  props: {\n    children: 'OK!',\n    color: 'blue',\n  },\n}\n\n// React: ...and Button told me this! I guess I'm done.\nconst HTMLButtonElement = {\n  type: 'button',\n  props: {\n    className: 'button button-blue',\n    children: {\n      type: 'b',\n      props: {\n        children: 'OK!',\n      },\n    },\n  },\n}\n"})}),"\n",(0,c.jsx)(e.h2,{id:"jsx",children:"JSX"}),"\n",(0,c.jsxs)(e.p,{children:["\u5728 JSX \u4e2d, \u5c0f\u5199\u6807\u7b7e\u88ab\u8ba4\u4e3a\u662f HTML \u6807\u7b7e.\n\u4f46\u662f, \u542b\u6709 ",(0,c.jsx)(e.code,{children:"."})," \u7684\u5927\u5199\u548c\u5c0f\u5199\u6807\u7b7e\u540d\u5374\u4e0d\u662f."]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"<component />"}),": \u8f6c\u6362\u4e3a ",(0,c.jsx)(e.code,{children:"React.createElement('component')"})," (e.g. HTML native tag)."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"<obj.component />"}),": \u8f6c\u6362\u4e3a ",(0,c.jsx)(e.code,{children:"React.createElement(obj.component)"}),"."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"<Component />"}),": \u8f6c\u6362\u4e3a ",(0,c.jsx)(e.code,{children:"React.createElement(Component)"}),"."]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"transform",children:"Transform"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html",children:"New JSX transform"}),"."]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"function App() {\n  return React.createElement('h1', null, 'Hello world')\n}\n"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"// Inserted by a compiler\nimport { jsx as _jsx } from 'react/jsx-runtime'\n\nfunction App() {\n  return _jsx('h1', { children: 'Hello world' })\n}\n"})}),"\n",(0,c.jsx)(e.p,{children:"ESLint config for new JSX transform:"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "rules": {\n    "react/jsx-uses-react": "off",\n    "react/react-in-jsx-scope": "off"\n  }\n}\n'})}),"\n",(0,c.jsx)(e.p,{children:"TypeScript config for new JSX transform:"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "include": ["./src/**/*"],\n  "compilerOptions": {\n    "module": "esnext",\n    "target": "es2015",\n    "jsx": "react-jsx",\n    "strict": true\n  }\n}\n'})}),"\n",(0,c.jsx)(e.h2,{id:"lifecycle",children:"Lifecycle"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["Reconciliation phase:","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"constructor."}),"\n",(0,c.jsx)(e.li,{children:"getDerivedStateFromProps."}),"\n",(0,c.jsx)(e.li,{children:"getDerivedStateFromError."}),"\n",(0,c.jsx)(e.li,{children:"shouldComponentUpdate."}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"ClassComponent"})," ",(0,c.jsx)(e.code,{children:"render"})," function."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"setState"})," updater functions."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"FunctionComponent"})," body function."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"useState"}),"/",(0,c.jsx)(e.code,{children:"useReducer"}),"/",(0,c.jsx)(e.code,{children:"useMemo"})," updater functions."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"UNSAFE_componentWillMount"}),"."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"UNSAFE_componentWillReceiveProps"}),"."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"UNSAFE_componentWillUpdate"}),"."]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["Commit phase:","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"componentDidMount."}),"\n",(0,c.jsx)(e.li,{children:"getSnapshotBeforeUpdate."}),"\n",(0,c.jsx)(e.li,{children:"componentDidUpdate."}),"\n",(0,c.jsx)(e.li,{children:"componentWillUnmount."}),"\n",(0,c.jsx)(e.li,{children:"componentDidCatch."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["\u56e0\u4e3a\u534f\u8c03\u9636\u6bb5\u53ef\u80fd\u88ab\u4e2d\u65ad\u4e0e\u6062\u590d, \u751a\u81f3\u91cd\u505a,\nReact \u534f\u8c03\u9636\u6bb5\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u53ef\u80fd\u4f1a\u88ab\u8c03\u7528\u591a\u6b21,\n",(0,c.jsx)(e.strong,{children:"\u534f\u8c03\u9636\u6bb5\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u4e0d\u8981\u5305\u542b\u526f\u4f5c\u7528"}),": e.g. ",(0,c.jsx)(e.code,{children:"fetch"})," promises, ",(0,c.jsx)(e.code,{children:"async"})," functions.\n\u901a\u8fc7 ",(0,c.jsx)(e.a,{href:"https://reactjs.org/docs/strict-mode.html#detecting-unexpected-side-effects",children:(0,c.jsx)(e.code,{children:"React.StrictMode"})}),"\n\u53ef\u4ee5\u81ea\u52a8\u68c0\u6d4b\u5e94\u7528\u4e2d\u9690\u85cf\u7684\u95ee\u9898."]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.a,{href:"https://reactjs.org/docs/react-component.html#the-component-lifecycle",children:(0,c.jsx)(e.img,{alt:"React Component Lifecycle",src:t(32481).A+"",width:"2000",height:"1097"})})}),"\n",(0,c.jsx)(e.h3,{id:"create-and-mount",children:"Create and Mount"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.code,{children:"constructor(props, context)"}),"\n-> ",(0,c.jsx)(e.code,{children:"static getDerivedStateFromProps()"}),"\n-> ",(0,c.jsx)(e.code,{children:"render()"}),"\n-> ",(0,c.jsx)(e.code,{children:"componentDidMount()"}),"."]}),"\n",(0,c.jsx)(e.h3,{id:"update",children:"Update"}),"\n",(0,c.jsx)(e.p,{children:"Update for three reasons:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Parent/top components (re-)rendering."}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"this.setState()"})," called."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"this.forceUpdate()"})," called."]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.code,{children:"static getDerivedStateFromProps()"}),"\n-> ",(0,c.jsx)(e.code,{children:"shouldComponentUpdate(nextProps, nextState)"}),"\n-> ",(0,c.jsx)(e.code,{children:"render()"}),"\n-> ",(0,c.jsx)(e.code,{children:"getSnapshotBeforeUpdate()"}),"\n-> ",(0,c.jsx)(e.code,{children:"componentDidUpdate(prevProps, prevState)"}),"."]}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.code,{children:"getSnapshotBeforeUpdate()"}),":\n\u5728\u6700\u65b0\u7684\u6e32\u67d3\u8f93\u51fa\u63d0\u4ea4\u7ed9 DOM \u524d\u5c06\u4f1a\u7acb\u5373\u8c03\u7528,\n\u8fd9\u5bf9\u4e8e\u4ece DOM \u6355\u83b7\u4fe1\u606f\uff08\u6bd4\u5982\uff1a\u6eda\u52a8\u4f4d\u7f6e\uff09\u5f88\u6709\u7528."]}),"\n",(0,c.jsx)(e.h3,{id:"unmount",children:"Unmount"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.code,{children:"componentWillUnmount()"}),"."]}),"\n",(0,c.jsx)(e.h3,{id:"error",children:"Error"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.code,{children:"static getDerivedStateFromError()"}),"\n-> ",(0,c.jsx)(e.code,{children:"componentDidCatch()"}),"."]}),"\n",(0,c.jsx)(e.h2,{id:"render-function",children:"Render Function"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["Default render behavior (without any ",(0,c.jsx)(e.code,{children:"memo"}),"/",(0,c.jsx)(e.code,{children:"useMemo"}),"/",(0,c.jsx)(e.code,{children:"PureComponent"}),"):\nwhen a parent component renders,\nReact will recursively render ",(0,c.jsx)(e.strong,{children:"all child components"})," inside of it\n(because ",(0,c.jsx)(e.code,{children:"props.children"})," is always a new reference when parent re-rendering)."]}),"\n",(0,c.jsxs)(e.li,{children:["Render logic:","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Can't mutate existing variables and objects."}),"\n",(0,c.jsxs)(e.li,{children:["Can't create random values like ",(0,c.jsx)(e.code,{children:"Math.random()"})," or ",(0,c.jsx)(e.code,{children:"Date.now()"}),"."]}),"\n",(0,c.jsx)(e.li,{children:"Can't make network requests."}),"\n",(0,c.jsx)(e.li,{children:"Can't queue state updates."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"state",children:"State"}),"\n",(0,c.jsxs)(e.p,{children:["React Component\n",(0,c.jsx)(e.a,{href:"https://github.com/facebook/react/blob/main/packages/react/src/ReactBaseClasses.js",children:"definition"}),":"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"React.Component"}),"."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"React.PureComponent"}),"."]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"interface NewLifecycle<P, S, SS> {\n  getSnapshotBeforeUpdate?: (\n    prevProps: Readonly<P>,\n    prevState: Readonly<S>,\n  ) => SS | null\n\n  componentDidUpdate?: (\n    prevProps: Readonly<P>,\n    prevState: Readonly<S>,\n    snapshot?: SS,\n  ) => void\n}\n\ninterface ComponentLifecycle<P, S, SS = any> extends NewLifecycle<P, S, SS> {\n  componentDidMount?: () => void\n\n  shouldComponentUpdate?: (\n    nextProps: Readonly<P>,\n    nextState: Readonly<S>,\n    nextContext: any,\n  ) => boolean\n\n  componentWillUnmount?: () => void\n\n  componentDidCatch?: (error: Error, errorInfo: ErrorInfo) => void\n}\n\nclass Component<P = object, S = object, SS = any> extends ComponentLifecycle<\n  P,\n  S,\n  SS\n> {\n  readonly props: Readonly<P> & Readonly<{ children?: ReactNode | undefined }>\n  state: Readonly<S>\n\n  static contextType?: Context<any> | undefined\n  context: any\n\n  constructor(props: Readonly<P> | P)\n\n  setState<K extends keyof S>(\n    state:\n      | ((prevState: Readonly<S>, props: Readonly<P>) => Pick<S, K> | S | null)\n      | (Pick<S, K> | S | null),\n    callback?: () => void,\n  ): void\n\n  forceUpdate(callback?: () => void): void\n\n  render(): ReactNode\n}\n\nclass PureComponent<P = object, S = object, SS = any> extends Component<\n  P,\n  S,\n  SS\n> {}\n"})}),"\n",(0,c.jsx)(e.h3,{id:"stateless",children:"Stateless"}),"\n",(0,c.jsxs)(e.p,{children:["\u91c7\u7528\u51fd\u6570\u578b\u58f0\u660e, \u4e0d\u4f7f\u7528 ",(0,c.jsx)(e.code,{children:"setState()"}),", \u4e00\u822c\u4f5c\u4e3a\u8868\u73b0\u578b\u7ec4\u4ef6."]}),"\n",(0,c.jsx)(e.h3,{id:"stateful",children:"Stateful"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u91c7\u7528\u7c7b\u578b\u58f0\u660e, \u4f7f\u7528 setState(), \u4e00\u822c\u4f5c\u4e3a\u5bb9\u5668\u578b\u7ec4\u4ef6(containers)"}),"\n",(0,c.jsx)(e.li,{children:"\u7ed3\u5408 Redux \u4e2d\u7684 connect \u65b9\u6cd5, \u5c06 store \u4e2d\u7684 state \u4f5c\u4e3a\u6b64\u7c7b\u7ec4\u4ef6\u7684 props"}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"class Component {\n  render() {\n    this.setState((prevState, props) => ({\n      counter: prevState.counter + props.increment,\n    }))\n\n    return <div>Component</div>\n  }\n}\n"})}),"\n",(0,c.jsx)(e.h2,{id:"functional",children:"Functional"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u51fd\u6570\u578b\u7ec4\u4ef6\u6ca1\u6709\u5b9e\u4f8b, \u7c7b\u578b\u7ec4\u4ef6\u5177\u6709\u5b9e\u4f8b, \u4f46\u5b9e\u4f8b\u5316\u7684\u5de5\u4f5c\u7531 react \u81ea\u52a8\u5b8c\u6210"}),"\n",(0,c.jsxs)(e.li,{children:["With React Hooks, functional component can get\n",(0,c.jsx)(e.code,{children:"state"}),", ",(0,c.jsx)(e.code,{children:"lifecycle hooks"})," and performance optimization\nconsistent to class component."]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"compound",children:"Compound"}),"\n",(0,c.jsxs)(e.p,{children:["Compound components ",(0,c.jsx)(e.a,{href:"https://dev.to/alexi_be3/react-component-patterns-49ho",children:"example"}),":"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'import * as React from \'react\'\n\ninterface Props {\n  onStateChange?: (e: string) => void\n  defaultValue?: string\n}\n\ninterface State {\n  currentValue: string\n  defaultValue?: string\n}\n\ninterface RadioInputProps {\n  label: string\n  value: string\n  name: string\n  imgSrc: string\n  key: string | number\n  currentValue?: string\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nfunction RadioImageForm({\n  children,\n  onStateChange,\n  defaultValue,\n}: React.PropsWithChildren<Props>): React.ReactElement {\n  const [state, setState] = React.useState<State>({\n    currentValue: \'\',\n    defaultValue,\n  })\n\n  // Memoized so that providerState isn\'t recreated on each render\n  const providerState = React.useMemo(\n    () => ({\n      onChange: (event: React.ChangeEvent<HTMLInputElement>): void => {\n        const value = event.target.value\n        setState({\n          currentValue: value,\n        })\n        onStateChange?.(value)\n      },\n      ...state,\n    }),\n    [state, onStateChange],\n  )\n\n  return (\n    <div>\n      <form>\n        {React.Children.map(children, (child: React.ReactElement) =>\n          React.cloneElement(child, {\n            ...providerState,\n          }),)}\n      </form>\n    </div>\n  )\n}\n\nfunction RadioInput({\n  currentValue,\n  onChange,\n  label,\n  value,\n  name,\n  imgSrc,\n  key,\n}: RadioInputProps): React.ReactElement {\n  return (\n    <label className="radio-button-group" key={key}>\n      <input\n        type="radio"\n        name={name}\n        value={value}\n        aria-label={label}\n        onChange={onChange}\n        checked={currentValue === value}\n        aria-checked={currentValue === value}\n      />\n      <img alt="" src={imgSrc} />\n    </label>\n  )\n}\n\nRadioImageForm.RadioInput = RadioInput\n\nexport default RadioImageForm\n'})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Compound components manage their own internal state,\nwhich they share among several child components."}),"\n",(0,c.jsx)(e.li,{children:"When importing a compound component,\nautomatically import child components available on compound component."}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"import type { CSSProperties, ReactNode } from 'react'\n\ninterface Props {\n  children: ReactNode\n  style?: CSSProperties\n  rest?: any\n}\n\nfunction Header({ children, style, ...rest }: Props): JSX.Element {\n  return (\n    <div style={{ ...style }} {...rest}>\n      {children}\n    </div>\n  )\n}\n\nfunction Body({ children, style, ...rest }: Props): JSX.Element {\n  return (\n    <div style={{ ...style }} {...rest}>\n      {children}\n    </div>\n  )\n}\n\nfunction Footer({ children, style, ...rest }: Props): JSX.Element {\n  return (\n    <div style={{ ...style }} {...rest}>\n      {children}\n    </div>\n  )\n}\n\nfunction getChildrenOnDisplayName(children: ReactNode[], displayName: string) {\n  return React.Children.map(children, child =>\n    child.displayName === displayName ? child : null,)\n}\n\nfunction Card({ children }: { children: ReactNode[] }): JSX.Element {\n  const header = getChildrenOnDisplayName(children, 'Header')\n  const body = getChildrenOnDisplayName(children, 'Body')\n  const footer = getChildrenOnDisplayName(children, 'Footer')\n\n  return (\n    <div className=\"card\">\n      {header && <div className=\"card-header\">{header}</div>}\n      <div className=\"card-body\">{body}</div>\n      {footer && <div className=\"card-footer\">{footer}</div>}\n    </div>\n  )\n}\n\nHeader.displayName = 'Header'\nBody.displayName = 'Body'\nFooter.displayName = 'Footer'\nCard.Header = Header\nCard.Body = Body\nCard.Footer = Footer\n\nfunction App() {\n  return (\n    <div>\n      <Card>\n        <Card.Header>Header</Card.Header>\n        <Card.Body>Body</Card.Body>\n        <Card.Footer>Footer</Card.Footer>\n      </Card>\n    </div>\n  )\n}\n\nexport default App\n"})}),"\n",(0,c.jsx)(e.h2,{id:"elements",children:"Elements"}),"\n",(0,c.jsx)(e.h3,{id:"clone",children:"Clone"}),"\n",(0,c.jsx)(e.p,{children:"Modify children properties:"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'function CreateTextWithProps({\n  text,\n  ASCIIChar,\n  ...props\n}: {\n  text: string\n  ASCIIChar: string\n}) {\n  return (\n    <span {...props}>\n      {text}\n      {ASCIIChar}\n    </span>\n  )\n}\n\nfunction RepeatCharacters({ times, children }) {\n  return React.cloneElement(children, {\n    ASCIIChar: children.props.ASCIIChar.repeat(times),\n  })\n}\n\nexport default function App() {\n  return (\n    <div>\n      <RepeatCharacters times={3}>\n        <CreateTextWithProps text="Foo Text" ASCIIChar="." />\n      </RepeatCharacters>\n    </div>\n  )\n}\n'})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'function RadioGroup({\n  name,\n  children,\n}: {\n  name: string\n  children: ReactElement\n}) {\n  const RenderChildren = () =>\n    React.Children.map(children, (child) => {\n      return React.cloneElement(child, {\n        name,\n      })\n    })\n\n  return (\n    <div>\n      <RenderChildren />\n    </div>\n  )\n}\n\nfunction RadioButton({\n  value,\n  name,\n  children,\n}: {\n  value: string\n  name: string\n  children: ReactElement\n}) {\n  return (\n    <label>\n      <input type="radio" value={value} name={name} />\n      {children}\n    </label>\n  )\n}\n\nexport default function App() {\n  return (\n    <RadioGroup name="numbers">\n      <RadioButton value="first">First</RadioButton>\n      <RadioButton value="second">Second</RadioButton>\n      <RadioButton value="third">Third</RadioButton>\n    </RadioGroup>\n  )\n}\n'})}),"\n",(0,c.jsx)(e.h3,{id:"children",children:"Children"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"React.Children.toArray(children)"}),"."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"React.Children.forEach(children, fn)"}),"."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"React.Children.map(children, fn)"}),"."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"React.Children.count(children)"}),"."]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"React.Children.only(children)"}),"."]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"import { Children, cloneElement } from 'react'\n\nfunction Breadcrumbs({ children }: { children: ReactElement }) {\n  const arrayChildren = Children.toArray(children)\n\n  return (\n    <ul\n      style={{\n        listStyle: 'none',\n        display: 'flex',\n      }}\n    >\n      {Children.map(arrayChildren, (child, index) => {\n        const isLast = index === arrayChildren.length - 1\n\n        if (!isLast && !child.props.link) {\n          throw new Error(\n            `BreadcrumbItem child no. ${index + 1}\n            should be passed a 'link' prop`,\n          )\n        }\n\n        return (\n          <>\n            {child.props.link\n              ? (\n                  <a\n                    href={child.props.link}\n                    style={{\n                      display: 'inline-block',\n                      textDecoration: 'none',\n                    }}\n                  >\n                    <div style={{ marginRight: '5px' }}>\n                      {cloneElement(child, {\n                        isLast,\n                      })}\n                    </div>\n                  </a>\n                )\n              : (\n                  <div style={{ marginRight: '5px' }}>\n                    {cloneElement(child, {\n                      isLast,\n                    })}\n                  </div>\n                )}\n            {!isLast && <div style={{ marginRight: '5px' }}></div>}\n          </>\n        )\n      })}\n    </ul>\n  )\n}\n\nfunction BreadcrumbItem({\n  isLast,\n  children,\n}: {\n  isLast: boolean\n  children: ReactElement\n}) {\n  return (\n    <li\n      style={{\n        color: isLast ? 'black' : 'blue',\n      }}\n    >\n      {children}\n    </li>\n  )\n}\n\nexport default function App() {\n  return (\n    <Breadcrumbs>\n      <BreadcrumbItem link=\"https://example.com/\">Example</BreadcrumbItem>\n      <BreadcrumbItem link=\"https://example.com/hotels/\">Hotels</BreadcrumbItem>\n      <BreadcrumbItem>A Fancy Hotel Name</BreadcrumbItem>\n    </Breadcrumbs>\n  )\n}\n"})})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(d,{...n})}):d(n)}},32481:(n,e,t)=>{t.d(e,{A:()=>r});const r=t.p+"assets/images/react-component-lifecycle-83c4104c05bd51bfd15e92348060d39a.png"},86145:(n,e,t)=>{t.d(e,{R:()=>l,x:()=>a});var r=t(57140);const c={},o=r.createContext(c);function l(n){const e=r.useContext(o);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:l(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);