"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[49804],{1037:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"language/cpp/stl","title":"STL","description":"Copy in, copy out.","source":"@site/content/language/cpp/stl.md","sourceDirName":"language/cpp","slug":"/language/cpp/stl","permalink":"/notes/language/cpp/stl","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/language/cpp/stl.md","tags":[{"inline":true,"label":"Language","permalink":"/notes/tags/language"},{"inline":true,"label":"C++","permalink":"/notes/tags/c"},{"inline":true,"label":"STL","permalink":"/notes/tags/stl"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":20,"frontMatter":{"sidebar_position":20,"tags":["Language","C++","STL"]},"sidebar":"tutorialSidebar","previous":{"title":"I/O","permalink":"/notes/language/cpp/io"},"next":{"title":"Best Practices","permalink":"/notes/language/cpp/best-practices"}}');var i=r(35656),s=r(86145);const a={sidebar_position:20,tags:["Language","C++","STL"]},l="STL",c={},o=[{value:"String",id:"string",level:2},{value:"Container",id:"container",level:2},{value:"Unordered Map",id:"unordered-map",level:2},{value:"List",id:"list",level:2},{value:"Size",id:"size",level:3},{value:"Manipulation",id:"manipulation",level:3},{value:"Remove",id:"remove",level:3},{value:"Reserve and Swap",id:"reserve-and-swap",level:3},{value:"Heap",id:"heap",level:2},{value:"Sort",id:"sort",level:2},{value:"Partition",id:"partition",level:2},{value:"Permutation",id:"permutation",level:2},{value:"Numeric",id:"numeric",level:2},{value:"Query",id:"query",level:2},{value:"Equal",id:"equal",level:3},{value:"Search",id:"search",level:2},{value:"Find",id:"find",level:3},{value:"Set",id:"set",level:2},{value:"Mover",id:"mover",level:2},{value:"Value",id:"value",level:2},{value:"Functional Programming",id:"functional-programming",level:2}];function d(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"stl",children:"STL"})}),"\n",(0,i.jsx)(e.admonition,{title:"\u5de5\u4f5c\u65b9\u5f0f",type:"tip",children:(0,i.jsx)(e.p,{children:"Copy in, copy out."})}),"\n",(0,i.jsx)(e.h2,{id:"string",children:"String"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"#include <iostream>\n#include <malloc.h>\n#include <string.h>\n\nusing namespace std;\n\n/**\n *\n * Demos for operator overload:\n *  comparison: < == >\n *  getter: []\n *  typecast: (const char *)\n *  contact: +\n *  assign: = +=\n */\n\n/**\n * Notes:\n *  \u666e\u901a\u51fd\u6570\u6210\u5458 \u4e0e \u6790\u6784\u51fd\u6570 \u5168\u90e8\u5b9a\u4e49\u4e3a\u865a\u51fd\u6570\n *  \u4e0d\u6539\u53d8\u5bf9\u8c61\u5b9e\u4f8b\u7684\u51fd\u6570 \u5168\u90e8\u5b9a\u4e49\u4e3a const \u51fd\u6570\n *  \u88ab\u6539\u53d8\u53c2\u6570/\u8fd4\u56de\u503c \u5168\u90e8\u5b9a\u4e49\u4e3a \u5f15\u7528\u7c7b\u578b\n *  \u6df1\u62f7\u8d1d(\u8d4b\u503c)\u51fd\u6570\u53c2\u6570/\u8fd4\u56de\u503c \u5168\u90e8\u5b9a\u4e49\u4e3a \u5f15\u7528\u7c7b\u578b\n */\n\nclass String {\n    char *s;\npublic:\n    virtual int operator>(const String &c) const;\n    virtual int operator==(const String &c) const;\n    virtual int operator<(const String &c) const;\n    virtual char &operator[](int x);\n    virtual operator const char *() const;\n    virtual String operator+(const String &c) const;\n    virtual String &operator=(const String &c);\n    virtual String &operator+=(const String &c);\n    String(const char *c);\n    String(const String &c);\n    virtual ~String();\n};\n\nint String::operator>(const String &c) const {\n    return strcmp(s, c.s) > 0;\n}\n\nint String::operator==(const String &c) const {\n    return strcmp(s, c.s) == 0;\n}\n\nint String::operator<(const String &c) const {\n    return strcmp(s, c.s) < 0;\n}\n\nchar &String::operator[](int x) {\n    return s[x];\n}\n\nString::operator const char *() const {\n    return s;\n}\n\nString String::operator+(const String &c) const {\n    char *t = new char[strlen(s)+strlen(c.s)+1];\n    String r(strcat(strcpy(t,s), c.s));\n    delete []t;\n    return r;\n}\n\nString &String::operator=(const String &c) {\n    delete []s;\n    strcpy(s=new char[strlen(c.s)+1], c.s);\n    return *this;\n}\n\nString &String::operator+=(const String &c) {\n    return *this = *this + c;\n}\n\nString::String(const char *c) {\n    strcpy(s=new char[strlen(c)+1], c);\n}\n\nString::String(const String &c) {\n    strcpy(s=new char[strlen(c.s)+1], c.s);\n}\n\nString::~String(void) {\n    if (s) {\n        delete []s;\n        s = 0;\n    }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"container",children:"Container"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5e8f\u5217\u5bb9\u5668: vector string deque list"}),"\n",(0,i.jsx)(e.li,{children:"\u5173\u8054\u5bb9\u5668: set multiset map multimap"}),"\n",(0,i.jsx)(e.li,{children:"\u8fde\u7eed\u5185\u5b58\u5bb9\u5668: vector string deque"}),"\n",(0,i.jsx)(e.li,{children:"\u94fe\u8868\u5bb9\u5668: list slit hash"}),"\n"]}),"\n",(0,i.jsx)(e.admonition,{title:"Containers",type:"tip",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Vector vs Array:\nuse Array when size is fixed and need elaborate container-like behavior"}),"\n",(0,i.jsx)(e.li,{children:"Vector vs Deque:\nuse Deque when container is large"}),"\n",(0,i.jsx)(e.li,{children:"Vector vs List (no random access):\nuse List when many middle insertion/deletion/splicing"}),"\n",(0,i.jsx)(e.li,{children:"Vector vs Set/Map:\nuse Set/Map when container is large"}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"unordered-map",children:"Unordered Map"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"count/find"}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"[]"})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"if (m_breakpoints.count(possible_breakpoint_location)) {\n    auto& bp = m_breakpoints[possible_breakpoint_location];\n}\n\nauto alias = m_aliases.find(input);\nreturn (alias != m_aliases.end() && alias->second == command);\n"})}),"\n",(0,i.jsx)(e.h2,{id:"list",children:"List"}),"\n",(0,i.jsx)(e.h3,{id:"size",children:"Size"}),"\n",(0,i.jsx)(e.p,{children:"list.empty() \u4f18\u4e8e list.size() == 0"}),"\n",(0,i.jsx)(e.h3,{id:"manipulation",children:"Manipulation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"void container::insert(InputIterator begin, InputIterator end);\nvoid container::insert(iterator position, InputIterator begin, InputIterator end);\n\niterator container::erase(iterator begin, iterator end);    // \u5e8f\u5217\u5bb9\u5668\nvoid container::erase(iterator begin, iterator end);        // \u5173\u8054\u5bb9\u5668\n\nvoid container::assign(InputIterator begin, InputIterator end);\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"v1.assign(v2.begin() + v2.size() / 2, v2.end());\nv1.insert(v1.end(), v2.begin() + v2.size() / 2, v2.end())   // \u5c06 v2 \u4e00\u534a\u5143\u7d20\u63d2\u5165 v1 \u5c3e\u90e8\n"})}),"\n",(0,i.jsx)(e.h3,{id:"remove",children:"Remove"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5bf9\u4e8e\u8fde\u7eed\u5185\u5b58\u5bb9\u5668 vector/string/deque:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"c.erase(remove(c.begin(), c.end(), 1963), c.end())\n\nbool badValue(int);\nc.erase(remove_if(c.begin(), c.end(), badValue), c.end());\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5bf9\u4e8e list:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"c.remove(1963)\n\nbool badValue(int);\nc.remove_if(badValue);  // higher order function\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5bf9\u4e8e\u5173\u8054\u5bb9\u5668:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"c.erase(1963);\n"})}),"\n",(0,i.jsx)(e.h3,{id:"reserve-and-swap",children:"Reserve and Swap"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"v.reserve(1000);    // \u5f3a\u5236\u5206\u914d 1000 \u4e2a\u5143\u7d20\u5185\u5b58\u5355\u5143, \u9632\u6b62\u53cd\u590d\u56de\u6536/\u91ca\u653e, \u63d0\u9ad8\u6267\u884c\u6548\u7387\n\nstring(s).swap(s);  // \u56de\u6536\u591a\u4f59\u5185\u5b58\u5355\u5143(shrink to fit), \u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387\n"})}),"\n",(0,i.jsx)(e.h2,{id:"heap",children:"Heap"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"std::make_heap(begin(numbers), end(numbers));\nstd::push_heap(begin(numbers), end(numbers));\nstd::pop_heap(begin(numbers), end(numbers));\nstd::is_heap\nstd::is_heap_until\n"})}),"\n",(0,i.jsx)(e.h2,{id:"sort",children:"Sort"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"sort\nstable_sort\nstd::is_sorted\nstd::is_sorted_until\n\npartial_sort\nnth_element: 0 - nth-1 sorted (< nth), nth+1 - end (> nth) unsorted\nsort_heap\ninplace_merge\n"})}),"\n",(0,i.jsx)(e.h2,{id:"partition",children:"Partition"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"partition_point\npartition\nstable_partition\nstd::is_partitioned\nstd::is_partitioned_until\n"})}),"\n",(0,i.jsx)(e.h2,{id:"permutation",children:"Permutation"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"rotate\nshuffle\nprev_permutation\nnext_permutation\n"})}),"\n",(0,i.jsx)(e.h2,{id:"numeric",children:"Numeric"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"count\ncount_if\n\naccumulate\n(transform_)reduce\n\npartial_sum\n(transform_)inclusive_scan\n(transform_)exclusive_scan\n\ninner_product\nadjacent_difference\nsample\n"})}),"\n",(0,i.jsx)(e.h2,{id:"query",children:"Query"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"all_of\nany_of\nnone_of\n\nequal\nlexicographical_compare\nmismatch\n"})}),"\n",(0,i.jsx)(e.h3,{id:"equal",children:"Equal"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"template<class InputIt1, class InputIt2>\nbool equal(\n    InputIt1 first1,\n    InputIt1 last1,\n    InputIt2 first2\n) {\n    for (; first1 != last1; ++first1, ++first2) {\n        if (!(*first1 == *first2)) {\n            return false;\n        }\n    }\n\n    return true;\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"bool is_prefix(const std::string& s, const std::string& of) {\n    if (s.size() > of.size()) return false;\n    return std::equal(s.begin(), s.end(), of.begin());\n}\n\nbool is_suffix(const std::string& s, const std::string& of) {\n    if (s.size() > of.size()) return false;\n    auto diff = of.size() - s.size();\n    return std::equal(s.begin(), s.end(), of.begin() + diff);\n}\n\nbool is_palindrome(const std::string& s) {\n    return std::equal(s.begin(), s.begin() + s.size() / 2, s.rbegin());\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"search",children:"Search"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"search\nfind\nfind_if\nfind_if_not\nfind_first_of\nfind_end\nadjacent_find\n\nequal_range\nlower_bound\nupper_bound\n\nmin_element\nmax_element\nminmax_element\n"})}),"\n",(0,i.jsx)(e.h3,{id:"find",children:"Find"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"template<class InputIterator, class T>\n  InputIterator find (InputIterator first, InputIterator last, const T& val) {\n  while (first!=last) {\n    if (*first==val) return first;\n    ++first;\n  }\n  return last;\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"auto it = std::find_if(begin(g_register_descriptors), end(g_register_descriptors),\n                      [r](auto&& rd) { return rd.r == r; });\n"})}),"\n",(0,i.jsx)(e.h2,{id:"set",children:"Set"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"set_difference\nset_intersection\nset_union\nset_symmetric_difference\nincludes\nmerge\n"})}),"\n",(0,i.jsx)(e.h2,{id:"mover",children:"Mover"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"copy\ncopy_backward\ncopy_if\nremove_copy\nunique_copy\nreverse_copy\nrotate_copy\nreplace_copy\nreplace_copy_if\npartition_copy\npartial_sort_copy\n\nmove\nmove_backward\nswap_ranges\n"})}),"\n",(0,i.jsx)(e.h2,{id:"value",children:"Value"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"fill\ngenerate\nreplace\nreplace_if\niota\n"})}),"\n",(0,i.jsx)(e.h2,{id:"functional-programming",children:"Functional Programming"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"transform\nfor_each\n"})})]})}function p(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},86145:(n,e,r)=>{r.d(e,{R:()=>a,x:()=>l});var t=r(57140);const i={},s=t.createContext(i);function a(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);