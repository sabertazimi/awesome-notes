"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[66438],{43124:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"ai/gen/agent/instructions","title":"Instructions","description":"- Use existing documents:","source":"@site/content/ai/gen/agent/instructions.md","sourceDirName":"ai/gen/agent","slug":"/ai/gen/agent/instructions","permalink":"/notes/ai/gen/agent/instructions","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/ai/gen/agent/instructions.md","tags":[{"inline":true,"label":"AI","permalink":"/notes/tags/ai"},{"inline":true,"label":"Generative AI","permalink":"/notes/tags/generative-ai"},{"inline":true,"label":"LLM","permalink":"/notes/tags/llm"},{"inline":true,"label":"Agent","permalink":"/notes/tags/agent"},{"inline":true,"label":"Prompt","permalink":"/notes/tags/prompt"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"tags":["AI","Generative AI","LLM","Agent","Prompt"]},"sidebar":"tutorialSidebar","previous":{"title":"Patterns","permalink":"/notes/ai/gen/agent/patterns"},"next":{"title":"Tool","permalink":"/notes/ai/gen/agent/tool"}}');var t=s(35656),r=s(86145);const o={sidebar_position:3,tags:["AI","Generative AI","LLM","Agent","Prompt"]},l="Instructions",c={},a=[{value:"Vibe Coding",id:"vibe-coding",level:2},{value:"System",id:"system",level:2},{value:"Coding",id:"coding",level:2},{value:"Pull Request",id:"pull-request",level:2},{value:"Testing",id:"testing",level:2},{value:"Research",id:"research",level:2},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"instructions",children:"Instructions"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use existing documents:\n\u4f7f\u7528\u73b0\u6709\u7684\u64cd\u4f5c\u7a0b\u5e8f\u3001\u652f\u6301\u811a\u672c\u6216\u653f\u7b56\u6587\u6863\u6765\u521b\u5efa LLM \u53cb\u597d\u7684 routines."}),"\n",(0,t.jsx)(n.li,{children:"Prompt agents to break down tasks:\n\u63d0\u4f9b\u66f4\u5c0f\u3001\u66f4\u6e05\u6670\u7684\u6b65\u9aa4\u6709\u52a9\u4e8e\u6700\u5927\u9650\u5ea6\u5730\u51cf\u5c11\u6b67\u4e49, \u5e76\u5e2e\u52a9\u6a21\u578b\u66f4\u597d\u5730\u9075\u5faa\u6307\u4ee4."}),"\n",(0,t.jsx)(n.li,{children:"Define clear actions:\n\u786e\u4fdd routine \u4e2d\u7684\u6bcf\u4e00\u6b65\u90fd\u5bf9\u5e94\u4e00\u4e2a\u7279\u5b9a\u7684\u884c\u52a8\u6216\u8f93\u51fa."}),"\n",(0,t.jsx)(n.li,{children:"Capture edge cases:\n\u5b9e\u9645\u4ea4\u4e92\u901a\u5e38\u4f1a\u4ea7\u751f\u51b3\u7b56\u70b9, \u4e00\u4e2a\u5065\u58ee\u7684 routine \u4f1a\u9884\u6d4b\u5e38\u89c1\u7684\u53d8\u5316,\n\u5e76\u5305\u542b\u5173\u4e8e\u5982\u4f55\u901a\u8fc7\u6761\u4ef6\u6b65\u9aa4\u6216\u5206\u652f\u6765\u5904\u7406\u5b83\u4eec\u7684\u6307\u4ee4, e.g. \u5728\u7f3a\u5c11\u6240\u9700\u4fe1\u606f\u65f6\u63d0\u4f9b\u66ff\u4ee3\u6b65\u9aa4."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-md",children:"\u60a8\u662f LLM \u667a\u80fd\u4f53\u6307\u4ee4\u7f16\u5199\u4e13\u5bb6.\n\u8bf7\u5c06\u4ee5\u4e0b\u5e2e\u52a9\u4e2d\u5fc3\u6587\u6863\u8f6c\u6362\u4e3a\u4e00\u7ec4\u6e05\u6670\u7684\u6307\u4ee4, \u4ee5\u7f16\u53f7\u5217\u8868\u5f62\u5f0f\u7f16\u5199.\n\u8be5\u6587\u6863\u5c06\u6210\u4e3a LLM \u9075\u5faa\u7684\u653f\u7b56. \u786e\u4fdd\u6ca1\u6709\u6b67\u4e49, \u5e76\u4e14\u6307\u4ee4\u662f\u4ee5\u667a\u80fd\u4f53\u7684\u6307\u793a\u5f62\u5f0f\u7f16\u5199\u7684.\n\u8981\u8f6c\u6362\u7684\u5e2e\u52a9\u4e2d\u5fc3\u6587\u6863\u5982\u4e0b {{help_center_doc}}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["How to write a great ",(0,t.jsx)(n.code,{children:"AGENTS.md"})," ",(0,t.jsx)(n.a,{href:"https://github.blog/ai-and-ml/github-copilot/how-to-write-a-great-agents-md-lessons-from-over-2500-repositories",children:"lessons from over 2500 repositories"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["States a clear ",(0,t.jsx)(n.strong,{children:"role"}),":\nDefines who the agent is (expert technical writer),\nwhat skills it has (Markdown, TypeScript),\nand what it does (read code, write docs)."]}),"\n",(0,t.jsxs)(n.li,{children:["Executable ",(0,t.jsx)(n.strong,{children:"commands"}),": Gives AI tools it can run (npm run docs",":build"," and npx markdownlint docs/). Commands come first."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Project"})," knowledge: Specifies tech stack with versions (React 18, TypeScript, Vite, Tailwind CSS) and exact file locations."]}),"\n",(0,t.jsxs)(n.li,{children:["Real ",(0,t.jsx)(n.strong,{children:"examples"}),": Shows what good output looks like with actual code. No abstract descriptions."]}),"\n",(0,t.jsxs)(n.li,{children:["Three-tier ",(0,t.jsx)(n.strong,{children:"boundaries"}),": Set clear rules using always do, ask first, never do. Prevents destructive mistakes."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Role -> Tool -> Context -> Example -> Boundary"})}),"\n",(0,t.jsx)(n.h2,{id:"vibe-coding",children:"Vibe Coding"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Spec the work:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u76ee\u6807: picking next highest-leverage goal"}),"\n",(0,t.jsx)(n.li,{children:"\u5206\u89e3: breaking the work into small and verifiable slice (pull request)"}),"\n",(0,t.jsx)(n.li,{children:"\u6807\u51c6: writing acceptance criteria, e.g. inputs, outputs, edge cases, UX constraints"}),"\n",(0,t.jsx)(n.li,{children:"\u98ce\u9669: calling out risks up front, e.g. performance hot-spots, security boundaries, migration concerns"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Give agents context:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4ed3\u5e93: Repository conventions"}),"\n",(0,t.jsx)(n.li,{children:"\u7ec4\u4ef6: Component system, design tokens and patterns"}),"\n",(0,t.jsx)(n.li,{children:"\u7ea6\u675f: Defining constraints: what not to touch, what must stay backward compatible"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Direct agents ",(0,t.jsx)(n.code,{children:"what"}),", not ",(0,t.jsx)(n.code,{children:"how"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5de5\u5177: Assigning right tools"}),"\n",(0,t.jsx)(n.li,{children:"\u6587\u4ef6: Pointing relevant files and components"}),"\n",(0,t.jsxs)(n.li,{children:["\u7ea6\u675f: Stating explicit guardrails, e.g. ",(0,t.jsx)(n.code,{children:"don't change API shape"}),", ",(0,t.jsx)(n.code,{children:"keep this behavior"}),", ",(0,t.jsx)(n.code,{children:"no new deps"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Verification and code review:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6b63\u786e\u6027 (correctness): edge cases, race conditions, error handling"}),"\n",(0,t.jsxs)(n.li,{children:["\u6027\u80fd (performance): ",(0,t.jsx)(n.code,{children:"N+1"})," queries, unnecessary re-renders, over-fetching"]}),"\n",(0,t.jsx)(n.li,{children:"\u5b89\u5168\u6027 (security): auth boundaries, injection, secrets, SSRF"}),"\n",(0,t.jsx)(n.li,{children:"\u6d4b\u8bd5 (tests): coverage for changed behaviors"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Integrate and ship:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Break big work into tasks agents can complete reliably"}),"\n",(0,t.jsx)(n.li,{children:"Merge conflicts"}),"\n",(0,t.jsx)(n.li,{children:"Verify CI"}),"\n",(0,t.jsx)(n.li,{children:"Stage roll-outs"}),"\n",(0,t.jsx)(n.li,{children:"Monitor regressions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Spec \u2192 Onboard \u2192 Direct \u2192 Verify \u2192 Integrate"})}),"\n",(0,t.jsx)(n.h2,{id:"system",children:"System"}),"\n",(0,t.jsxs)(n.p,{children:["OpenAI ",(0,t.jsx)(n.a,{href:"https://openai.com/index/introducing-codex",children:"Codex"}),"\nsystem ",(0,t.jsx)(n.a,{href:"/notes/ai/gen/recipes/prompts/codex",children:"prompts"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Instructions."}),"\n",(0,t.jsx)(n.li,{children:"Git instructions."}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"AGENTS.md"})," spec."]}),"\n",(0,t.jsx)(n.li,{children:"Citations instructions."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://openai.com/index/unrolling-the-codex-agent-loop",children:(0,t.jsx)(n.img,{alt:"Codex Agent Loop",src:s(2695).A+"",width:"802",height:"480"})})}),"\n",(0,t.jsx)(n.h2,{id:"coding",children:"Coding"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/agentsmd/agents.md",children:"Writing"}),"\ngood ",(0,t.jsx)(n.a,{href:"https://github.com/agentsmd/agents.md",children:(0,t.jsx)(n.code,{children:"AGENTS.md"})}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"AGENTS.md"})," should define your project's ",(0,t.jsx)(n.strong,{children:"WHY"}),", ",(0,t.jsx)(n.strong,{children:"WHAT"}),", and ",(0,t.jsx)(n.strong,{children:"HOW"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Less is more"}),".\nInclude as few instructions as reasonably possible in the file."]}),"\n",(0,t.jsxs)(n.li,{children:["Keep the contents of your ",(0,t.jsx)(n.code,{children:"AGENTS.md"})," ",(0,t.jsx)(n.strong,{children:"concise and universally applicable"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.strong,{children:"Progressive Disclosure"}),".\nDon't tell Agent all the information to know, tell Agent when to needs, how to find and use it."]}),"\n",(0,t.jsxs)(n.li,{children:["Agent is not a linter.\nUse linters and code formatters,\nand use other features like ",(0,t.jsx)(n.a,{href:"https://code.claude.com/docs/en/hooks",children:"Hooks"})," and ",(0,t.jsx)(n.a,{href:"https://code.claude.com/docs/en/slash-commands",children:"Slash Commands"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"AGENTS.md"})," is the highest leverage point of the harness, so avoid auto-generating it.\nYou should carefully craft its contents for best results."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"pull-request",children:"Pull Request"}),"\n",(0,t.jsxs)(n.p,{children:["GitHub ",(0,t.jsx)(n.a,{href:"https://github.blog/ai-and-ml/github-copilot/how-to-use-github-copilot-spaces-to-debug-issues-faster",children:"copilot"}),"\nto debug issues faster:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-md",children:"You are an experienced engineer working on this codebase.\nAlways ground your answers in the linked docs and sources in this space.\nBefore writing code, produce a 3\u20135 step plan that includes:\n\n- The goal\n- The approach\n- The execution steps\n\nCite the exact files that justify your recommendations.\nAfter I approve a plan, use the Copilot coding agent to propose a PR.\n"})}),"\n",(0,t.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-md",children:"Create a test agent for this repository. It should:\n\n- Have the persona of a QA software engineer.\n- Write tests for this codebase\n- Run tests and analyzes results\n- Write to \u201c/tests/\u201d directory only\n- Never modify source code or remove failing tests\n- Include specific examples of good test structure\n"})}),"\n",(0,t.jsx)(n.h2,{id:"research",children:"Research"}),"\n",(0,t.jsx)(n.p,{children:"AI agents powered by tricky LLMs prompting:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Deep research agent from ",(0,t.jsx)(n.a,{href:"https://github.com/anthropics/claude-cookbooks/tree/main/patterns/agents",children:"claude agents cookbook"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/HKUDS/DeepCode",children:"DeepCode"}),":\nAgentic coding."]}),"\n",(0,t.jsxs)(n.li,{children:["Generative ",(0,t.jsx)(n.a,{href:"https://github.com/joonspk-research/generative_agents",children:"agent"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Minecraft ",(0,t.jsx)(n.a,{href:"https://github.com/MineDojo/Voyager",children:"agent"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Claude system ",(0,t.jsx)(n.a,{href:"https://platform.claude.com/docs/en/release-notes/system-prompts",children:"prompts"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Agent system ",(0,t.jsx)(n.a,{href:"https://github.com/x1xhlol/system-prompts-and-models-of-ai-tools",children:"prompts"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},2695:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/codex-agent-loop-5b3d1bf50fd3ebb8cf0007b7bb8f768a.svg"},86145:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(57140);const t={},r=i.createContext(t);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);