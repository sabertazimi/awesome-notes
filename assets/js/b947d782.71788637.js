"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[84190],{88401:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"web/html/attributes","title":"Attributes","description":"Dataset","source":"@site/content/web/html/attributes.md","sourceDirName":"web/html","slug":"/web/html/attributes","permalink":"/notes/web/html/attributes","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/html/attributes.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"HTML","permalink":"/notes/tags/html"},{"inline":true,"label":"DOM","permalink":"/notes/tags/dom"},{"inline":true,"label":"Attribute","permalink":"/notes/tags/attribute"},{"inline":true,"label":"Property","permalink":"/notes/tags/property"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"tags":["Web","HTML","DOM","Attribute","Property"]},"sidebar":"tutorialSidebar","previous":{"title":"Head","permalink":"/notes/web/html/head"},"next":{"title":"Content","permalink":"/notes/web/html/content"}}');var i=t(35656),s=t(86145);const o={sidebar_position:4,tags:["Web","HTML","DOM","Attribute","Property"]},r="Attributes",d={},a=[{value:"Dataset",id:"dataset",level:2},{value:"Global",id:"global",level:2},{value:"Tabindex",id:"tabindex",level:3},{value:"DOM Properties",id:"dom-properties",level:2},{value:"Differences",id:"differences",level:3},{value:"Reflection",id:"reflection",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"attributes",children:"Attributes"})}),"\n",(0,i.jsx)(n.h2,{id:"dataset",children:"Dataset"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<td data-row="1" data-column="1"></td>\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function onChange(event) {\n  const {\n    currentTarget: {\n      dataset: { row, column },\n    },\n  } = event\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"global",children:"Global"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://html.spec.whatwg.org/multipage/dom.html#global-attributes",children:"Global attributes"}),"\nare attributes common to all HTML elements,\nthey can be used on all elements,\nthough they may have no effect on some elements:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"accesskey"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"autocapitalize"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"autofocus"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"contenteditable"}),": boolean."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"dir"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"draggable"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"enterkeyhint"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"hidden"}),": boolean."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"inert"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"inputmode"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"is"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"itemid"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"itemprop"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"itemref"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"itemscope"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"itemtype"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lang"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"nonce"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"popover"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"spellcheck"}),": boolean."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"style"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"tabindex"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"title"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"translate"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"on*"})," ",(0,i.jsx)(n.a,{href:"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-content-attributes",children:"event handler content attributes"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["DOM defines the user agent requirements\nfor the ",(0,i.jsx)(n.code,{children:"class"}),", ",(0,i.jsx)(n.code,{children:"id"}),", and ",(0,i.jsx)(n.code,{children:"slot"})," attributes for any element in any namespace.\nThe ",(0,i.jsx)(n.code,{children:"class"}),", ",(0,i.jsx)(n.code,{children:"id"}),", and ",(0,i.jsx)(n.code,{children:"slot"})," attributes may be specified on all HTML elements."]})}),"\n",(0,i.jsx)(n.h3,{id:"tabindex",children:"Tabindex"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"-1"}),": \u7f16\u7a0b\u53ef\u83b7\u5f97\u7126\u70b9\uff0ctab \u952e\u4e0d\u53ef\u83b7\u5f97\u7126\u70b9"]}),"\n",(0,i.jsx)(n.h2,{id:"dom-properties",children:"DOM Properties"}),"\n",(0,i.jsx)(n.h3,{id:"differences",children:"Differences"}),"\n",(0,i.jsxs)(n.p,{children:["HTML attributes vs DOM properties ",(0,i.jsx)(n.a,{href:"https://jakearchibald.com/2024/attributes-vs-properties",children:"differs in"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"HTML serialization:\nattributes serialize to HTML, whereas properties don't."}),"\n",(0,i.jsx)(n.li,{children:"Value types:\nattribute values are always strings, whereas properties can be any type."}),"\n",(0,i.jsx)(n.li,{children:"Case sensitivity:\nattribute names are case-insensitive, whereas property names are case-sensitive."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// 1. HTML serialization:\nconst div = document.createElement('div')\n\ndiv.setAttribute('foo', 'bar')\ndiv.hello = 'world'\n\nconsole.log(div.outerHTML) // '<div foo=\"bar\"></div>'\n\n// 2. Value types:\nconst div = document.createElement('div')\nconst obj = { foo: 'bar' }\n\ndiv.setAttribute('foo', obj)\nconsole.log(typeof div.getAttribute('foo')) // 'string'\nconsole.log(div.getAttribute('foo')) // '[object Object]'\n\ndiv.hello = obj\nconsole.log(typeof div.hello) // 'object'\nconsole.log(div.hello) // { foo: 'bar' }\n\n// 3. Case sensitivity:\n// <div id=\"test\" HeLlO=\"world\"></div>\nconst div = document.querySelector('#test')\n\nconsole.log(div.getAttributeNames()) // ['id', 'hello']\n\ndiv.setAttribute('FOO', 'bar')\nconsole.log(div.getAttributeNames()) // ['id', 'hello', 'foo']\n\ndiv.TeSt = 'value'\nconsole.log(div.TeSt) // 'value'\nconsole.log(div.test) // undefined\n"})}),"\n",(0,i.jsx)(n.p,{children:"DOM properties come with validation and defaults, whereas HTML attributes don't:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Omit invalid value: ",(0,i.jsx)(n.code,{children:"input.type"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Normalize boolean value: ",(0,i.jsx)(n.code,{children:"details.open"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Convert incoming value to number and coerce negative values to 0: ",(0,i.jsx)(n.code,{children:"img.height"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Omit invalid type:\nconst input = document.createElement('input')\n\nconsole.log(input.getAttribute('type')) // null\nconsole.log(input.type) // 'text'\n\ninput.type = 'number'\n\nconsole.log(input.getAttribute('type')) // 'number'\nconsole.log(input.type) // 'number'\n\ninput.type = 'foo'\n\nconsole.log(input.getAttribute('type')) // 'foo'\nconsole.log(input.type) // 'text'\n\n// Normalize non-empty string to true value:\nconst details = document.querySelector('details')\n\nconsole.log(details.getAttribute('open')) // ''\nconsole.log(details.open) // true\n\ndetails.open = false\n\nconsole.log(details.getAttribute('open')) // null\nconsole.log(details.open) // false\n\ndetails.open = 'hello'\n\nconsole.log(details.getAttribute('open')) // ''\nconsole.log(details.open) // true\n"})}),"\n",(0,i.jsx)(n.h3,{id:"reflection",children:"Reflection"}),"\n",(0,i.jsxs)(n.p,{children:["For convenience, most specs will create a property equivalent for every defined attribute.\nHere's the spec for ",(0,i.jsx)(n.a,{href:"https://html.spec.whatwg.org/multipage/grouping-content.html#the-ol-element",children:(0,i.jsx)(n.code,{children:"<ol>"})}),".\nThe ",(0,i.jsx)(n.code,{children:"Content attributes"})," section defines the HTML attributes\n(",(0,i.jsx)(n.code,{children:"reversed"}),", ",(0,i.jsx)(n.code,{children:"start"}),", ",(0,i.jsx)(n.code,{children:"type"}),"),\nand the ",(0,i.jsx)(n.code,{children:"DOM interface"})," defines the DOM properties:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"interface OListElement extends HTMLElement {\n  reversed: boolean\n  start: long\n  type: DOMString\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If attribute (e.g. ",(0,i.jsx)(n.code,{children:"foo=bar"}),") isn't a spec-defined attribute,\nthen there isn't a spec-defined ",(0,i.jsx)(n.code,{children:"foo"})," property that reflects it:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const div = document.querySelector('div[foo=bar]')\n\nconsole.log(div.getAttribute('foo')) // 'bar'\nconsole.log(div.foo) // undefined\n\ndiv.foo = 'hello world'\n\nconsole.log(div.getAttribute('foo')) // 'bar'\nconsole.log(div.foo) // 'hello world'\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"caution",children:[(0,i.jsxs)(n.mdxAdmonitionTitle,{children:[(0,i.jsx)(n.code,{children:"input.defaultValue"})," and ",(0,i.jsx)(n.code,{children:"input.value"})," property"]}),(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.a,{href:"https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultvalue",children:[(0,i.jsx)(n.code,{children:"input.defaultValue"})," property"]}),"\nreflects HTML ",(0,i.jsx)(n.code,{children:"value"})," attribute,\n",(0,i.jsxs)(n.a,{href:"https://html.spec.whatwg.org/multipage/input.html#dom-input-value",children:[(0,i.jsx)(n.code,{children:"input.value"})," property"]}),"\ndoesn't reflect any attribute:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"class HTMLInputElement extends HTMLElement {\n  get defaultValue() {\n    return this.getAttribute('value') ?? ''\n  }\n\n  set defaultValue(newValue) {\n    this.setAttribute('value', String(newValue))\n  }\n\n  #value = undefined\n\n  get value() {\n    return this.#value ?? this.defaultValue\n  }\n\n  set value(newValue) {\n    this.#value = String(newValue)\n  }\n\n  // This happens when the associated form resets\n  formResetCallback() {\n    this.#value = undefined\n  }\n}\n\n// <input type=\"text\" value=\"default\" />\nconst input = document.querySelector('input')\n\nconsole.log(input.getAttribute('value')) // 'default'\nconsole.log(input.value) // 'default'\nconsole.log(input.defaultValue) // 'default'\n\ninput.defaultValue = 'new default'\n\nconsole.log(input.getAttribute('value')) // 'new default'\nconsole.log(input.value) // 'new default'\nconsole.log(input.defaultValue) // 'new default'\n\n// Here comes the mode switch:\ninput.value = 'hello!'\n\nconsole.log(input.getAttribute('value')) // 'new default'\nconsole.log(input.value) // 'hello!'\nconsole.log(input.defaultValue) // 'new default'\n\ninput.setAttribute('value', 'another new default')\n\nconsole.log(input.getAttribute('value')) // 'another new default'\nconsole.log(input.value) // 'hello!'\nconsole.log(input.defaultValue) // 'another new default'\n"})})]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},86145:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var l=t(57140);const i={},s=l.createContext(i);function o(e){const n=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);