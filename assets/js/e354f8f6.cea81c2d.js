"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[83614],{47818:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"cs/algorithms/dp","title":"Dynamic Programming","description":"- \u6700\u4f18\u89e3\u7ed3\u6784\u7279\u5f81: \u4e00\u4e2a\u9009\u62e9 + \u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3 - \u6240\u6709(\u53ef\u91cd\u590d\u6c42\u89e3)\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u53ef\u72ec\u7acb\u6c42\u89e3(\u4e0d\u4e92\u76f8\u5f71\u54cd)","source":"@site/content/cs/algorithms/dp.md","sourceDirName":"cs/algorithms","slug":"/cs/algorithms/dp","permalink":"/notes/cs/algorithms/dp","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/cs/algorithms/dp.md","tags":[{"inline":true,"label":"CS","permalink":"/notes/tags/cs"},{"inline":true,"label":"Algorithm","permalink":"/notes/tags/algorithm"},{"inline":true,"label":"DP","permalink":"/notes/tags/dp"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":22,"frontMatter":{"sidebar_position":22,"tags":["CS","Algorithm","DP"]},"sidebar":"tutorialSidebar","previous":{"title":"Greedy","permalink":"/notes/cs/algorithms/greedy"},"next":{"title":"Simulation","permalink":"/notes/cs/algorithms/simulation"}}');var t=i(35656),l=i(86145);const r={sidebar_position:22,tags:["CS","Algorithm","DP"]},a="Dynamic Programming",o={},d=[{value:"Subproblems",id:"subproblems",level:2},{value:"Problems",id:"problems",level:2},{value:"Optimization",id:"optimization",level:2},{value:"Digital Bits",id:"digital-bits",level:2}];function c(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"dynamic-programming",children:"Dynamic Programming"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u6700\u4f18\u89e3\u7ed3\u6784\u7279\u5f81: \u4e00\u4e2a\u9009\u62e9 + \u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3 - \u6240\u6709(\u53ef",(0,t.jsx)(e.strong,{children:"\u91cd\u590d\u6c42\u89e3"}),")\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u53ef",(0,t.jsx)(e.strong,{children:"\u72ec\u7acb\u6c42\u89e3"}),"(\u4e0d\u4e92\u76f8\u5f71\u54cd)"]}),"\n",(0,t.jsx)(e.li,{children:"\u9012\u5f52\u5b9a\u4e49\u6700\u4f18\u89e3: \u5217\u51fa\u9012\u5f52\u8868\u8fbe\u5f0f"}),"\n",(0,t.jsx)(e.li,{children:"\u81ea\u5e95\u5411\u4e0a\u6c42\u89e3\u6700\u4f18\u89e3"}),"\n",(0,t.jsx)(e.li,{children:"\u6784\u9020\u6700\u4f18\u89e3(\u989d\u5916\u4fe1\u606f\u6570\u7ec4)"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"subproblems",children:"Subproblems"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5b50\u95ee\u9898\u53ef\u6620\u5c04\u4e3a\u6709\u5411\u56fe, \u5e76\u5bf9\u5176\u8fdb\u884c\u62d3\u6251\u6392\u5e8f: \u5171\u6709 O(n) \u4e2a\u5b50\u95ee\u9898,\n\u6bcf\u4e2a\u5b50\u95ee\u9898\u6700\u591a O(n) \u79cd\u9009\u62e9, \u5219\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(n^2).\u5176\u5bf9\u5e94\u5b50\u95ee\u9898\u56fe\u6709 n \u4e2a\u9876\u70b9, \u6bcf\u4e2a\u9876\u70b9\u6700\u591a\u6709 n-1 \u6761\u8fb9."}),"\n",(0,t.jsx)(e.li,{children:"\u9012\u5f52\u751f\u6210\u53ef\u4ee5\u91cd\u590d\u6c42\u89e3\u7684\u5b50\u95ee\u9898,\u800c\u4e0d\u662f\u4e0d\u65ad\u751f\u6210\u65b0\u7684\u5b50\u95ee\u9898"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"problems",children:"Problems"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5207\u5272\u94a2\u6761\u95ee\u9898: ",(0,t.jsx)(e.code,{children:"max{p[i], r[n-i]}"})]}),"\n",(0,t.jsx)(e.li,{children:"\u77e9\u9635\u76f8\u4e58\u94fe\u95ee\u9898"}),"\n",(0,t.jsxs)(e.li,{children:["\u6700\u5927\u516c\u5171\u5b50\u5e8f\u5217\u95ee\u9898: ",(0,t.jsx)(e.code,{children:"r[i, j]"})," = ",(0,t.jsx)(e.code,{children:"max{r[i, j-1], r[i-1, j]}"})]}),"\n",(0,t.jsxs)(e.li,{children:["\u65e0\u6743\u6700\u77ed\u8def\u5f84: ",(0,t.jsx)(e.code,{children:"path[i, j]"})," = ",(0,t.jsx)(e.code,{children:"min{path[i, r], [r, j]}"})]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"optimization",children:"Optimization"}),"\n",(0,t.jsx)(e.p,{children:"dp \u6570\u7ec4\u53ef\u4ee5\u6eda\u52a8\u4f7f\u7528, \u4ece\u800c\u8282\u7701\u7a7a\u95f4:"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"dp[m][n]"})," => ",(0,t.jsx)(e.code,{children:"dp[2][n]"})," (",(0,t.jsx)(e.code,{children:"dp[i & 1][j]"}),")."]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5173\u952e: \u6700\u4f18\u5b50\u7ed3\u6784 + \u72b6\u6001\u65e0\u540e\u6548\u6027"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u6240\u6709\u80cc\u5305\u95ee\u9898"}),"\n",(0,t.jsx)(e.li,{children:"\u4e8c\u5206\u95ee\u9898:\u6700\u4f18\u4e8c\u5206\u641c\u7d22\u6811/\u6587\u4ef6\u5408\u5e76"}),"\n",(0,t.jsx)(e.li,{children:"\u975e\u8fde\u7eed\u7279\u5f81\u5e8f\u5217: \u6700\u957f\u5b50\u5e8f\u5217/\u6700\u957f\u4e0a\u5347\u5e8f\u5217"}),"\n",(0,t.jsx)(e.li,{children:"\u591a\u91cd\u90e8\u5206\u548c\u95ee\u9898 e.g. \u6570\u7ec4\u4e2d\u662f\u5426\u5b58\u5728\u4e00\u5bf9\u6570\u7684\u548c\u4e3a xx"}),"\n",(0,t.jsx)(e.li,{children:"\u8ba1\u6570\u95ee\u9898/\u5206\u7ec4\u95ee\u9898/\u5206\u5212\u95ee\u9898"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"digital-bits",children:"Digital Bits"}),"\n",(0,t.jsx)(e.p,{children:"\u6570\u4f4d DP:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u7ed9\u5b9a\u533a\u95f4 [a, b], \u6c42\u6ee1\u8db3\u7279\u5b9a\u8981\u6c42\u7684\u6570, \u8981\u6c42\u4e00\u822c\u4e0e\u5927\u5c0f\u65e0\u5173, \u4e0e\u6570\u4f4d\u7684\u7ec4\u6210\u76f8\u5173"}),"\n",(0,t.jsx)(e.li,{children:"\u89c4\u6a21\u5de8\u5927, \u65e0\u6cd5\u679a\u4e3e"}),"\n"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u9012\u589e\u6570: 1234, 2579; \u53cc\u5cf0\u6570: 19280, 26193; \u542b 49: 49, 149, 1492; \u6574\u9664 13: 26, 39 ..."}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"f(a, b) = f(b, 0) - f(a - 1, 0)"}),"."]}),"\n",(0,t.jsx)(e.p,{children:"\u66b4\u529b + \u5b58\u50a8 = \u8bb0\u5fc6\u5316\u641c\u7d22:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u66b4\u529b\u679a\u4e3e\u6bcf\u4e00\u4f4d\u7684 ",(0,t.jsx)(e.code,{children:"(0, ...,9)"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["\u5229\u7528 ",(0,t.jsx)(e.code,{children:"dp[pos][state]"})," \u4e0e ",(0,t.jsx)(e.code,{children:"dfs(pos, state, k, flag)"})," \u8fdb\u884c\u5b58\u50a8."]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-cpp",children:"/// \\brief \u6570\u5b57\u5904\u7406\u51fd\u6570\n/// \\param num \u539f\u59cb\u6570\u636e\n/// \\param digit \u4fdd\u5b58\u6bcf\u4e2a\u6570\u4f4d\u7684\u503c\n/// \\param state \u521d\u59cb\u72b6\u6001\nint f(int num){\n    int ans;\n    int pos = 0;\n\n    while(num){\n        digit[++pos]=num%10;\n        num=num/10;\n    }\n\n    return dfs( pos, state , true);\n}\n\n/// \\brief dfs \u51fd\u6570, \u4ece\u9ad8\u4f4d\u5f00\u59cb\u904d\u5386\n/// \\param f     \u8bb0\u5fc6\u5316\u6570\u7ec4\n/// \\param pos   \u5f53\u524d\u6570\u4f4d\u4e0b\u6807\n/// \\param state \u4e4b\u524d\u6570\u5b57\u7684\u72b6\u6001\n/// \\param flag  \u4e0a\u9650\u6807\u5fd7\nint dfs(int pos, int state, bool flag) {\n    if (pos == -1) {\n        return state == target_state;\n    }\n    if (!exception && ~f[pos][state]) {\n        return f[pos][state];\n    }\n\n    int ans = 0;\n\n    // \u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6570\u4f4d, \u6c42\u51fa\u679a\u4e3e\u754c\u9650\n    // \u4e00\u822c\u4ece 0 \u679a\u4e3e\u81f3 9, \u5f53\u5230\u8fbe\u7279\u6b8a\u4f4d\u7f6e\u65f6, \u679a\u4e3e\u4e0a\u9650\u53ef\u80fd\u6539\u53d8\n    int next = exception ? digit[i] : 9;\n\n    for (int digit = 0; digit <= next; digit++) {\n        ans += dfs(pos - 1, new_state(state, digit), exception && digit == next);\n    }\n\n    return flag ? ans : f[pos][state] = ans;\n}\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-cpp",children:'typedef long long ll;\n\nint a[20];\n\nll dp[20][state];   //\u4e0d\u540c\u9898\u76ee\u72b6\u6001\u4e0d\u540c\n\nll dfs(int pos, int state, bool lead, bool limit) {\n    // \u9012\u5f52\u8fb9\u754c, \u6309\u4f4d\u679a\u4e3e\u6700\u4f4e\u4f4d\u662f0, pos == -1 \u8868\u793a\u679a\u4e3e\u7ed3\u675f\n    if (pos == -1) {\n        // \u82e5\u53ef\u4ee5\u4fdd\u8bc1\u6bcf\u4e00\u4f4d\u90fd\u5408\u6cd5, \u5219 return 1; \u5426\u5219 return 0\n        return 1;\n    }\n\n    // \u8bb0\u5fc6\u5316\n    if (!limit && !lead && dp[pos][state] != -1) {\n        return dp[pos][state];\n    }\n\n    // \u6839\u636e limit \u5224\u65ad\u679a\u4e3e\u7684\u4e0a\u754c up\n    int up = limit ? a[pos] : 9;\n\n    // \u5f00\u59cb\u8ba1\u6570\n    ll ans=0;\n\n    // \u679a\u4e3e: \u628a\u4e0d\u540c\u60c5\u51b5\u7684\u4e2a\u6570\u52a0\u5230ans\n    for(int i = 0;i <= up; i++)\n    {\n        // \u5f53\u524d\u6570\u4f4d\u679a\u4e3e\u7684\u6570\u662fi\uff0c\u6839\u636e\u9898\u76ee\u7684\u7ea6\u675f\u6761\u4ef6\u5206\u7c7b\u8ba8\u8bba\n        // \u8ba1\u7b97\u4e0d\u540c\u60c5\u51b5\u4e0b\u7684\u4e2a\u6570, \u6839\u636e state \u53d8\u91cf\u6765\u4fdd\u8bc1 i \u7684\u5408\u6cd5\u6027\n        // \u4e00\u5b9a\u8981\u4fdd\u8bc1\u679a\u4e3e\u6570\u7684\u5408\u6cd5\u6027\n\n        // \u6bd4\u5982\u8981\u6c42\u6570\u4f4d\u4e0a\u4e0d\u80fd\u6709 62 \u8fde\u7eed\u51fa\u73b0, \u90a3\u4e48state \u5c31\u8981\u4fdd\u5b58\u524d\u4e00\u4f4d pre\n        // \u524d\u4e00\u4f4d\u5982\u679c\u662f 6 \u90a3\u4e48\u4f4d\u4e0d\u80fd\u662f 2\n\n        // \u5f53\u4e0d\u5408\u6cd5\u65f6, \u76f4\u63a5 continue\n        if() ...\n        else if()...\n\n        ans += dfs(pos-1, new_state(pos, state) /*\u72b6\u6001\u8f6c\u79fb*/,\n          lead && i==0, limit && i == a[pos])\n    }\n\n    // \u8ba1\u7b97\u7ed3\u675f, \u8bb0\u5f55\u72b6\u6001\n    if (!limit && !lead) {\n        dp[pos][state] = ans;\n    }\n\n    return ans;\n}\n\nll solve(ll x) {\n    int pos=0;\n\n    // \u6570\u4f4d\u5206\u89e3\n    while(x) {\n        a[pos++] = x % 10;\n        x /= 10;\n    }\n\n    // \u4ece\u6700\u9ad8\u4f4d\u5f00\u59cb\u679a\u4e3e\n    // \u6700\u9ad8\u4f4d\u524d\u5bfc\u4e3a 0, \u4e14\u53d7\u4e0a\u9650\u9650\u5236(\u65e0\u6cd5\u679a\u4e3e\u81f3 9)\n    return dfs(pos-1, state /*\u4e00\u7cfb\u5217\u72b6\u6001 */, true, true);\n}\n\nint main(void) {\n    ll le,ri;\n\n    while (~scanf("%lld %lld", &le, &ri)) {\n        // \u521d\u59cb\u5316dp\u6570\u7ec4\u4e3a-1\n        printf("%lld\\n", solve(ri)-solve(le-1));\n    }\n\n    return 0;\n}\n'})})]})}function p(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}},86145:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>a});var s=i(57140);const t={},l=s.createContext(t);function r(n){const e=s.useContext(l);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),s.createElement(l.Provider,{value:e},n.children)}}}]);