"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[31845],{21941:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"ai/python/io","title":"I/O","description":"Text","source":"@site/content/ai/python/io.md","sourceDirName":"ai/python","slug":"/ai/python/io","permalink":"/notes/ai/python/io","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/ai/python/io.md","tags":[{"inline":true,"label":"AI","permalink":"/notes/tags/ai"},{"inline":true,"label":"Language","permalink":"/notes/tags/language"},{"inline":true,"label":"Python","permalink":"/notes/tags/python"},{"inline":true,"label":"I/O","permalink":"/notes/tags/i-o"},{"inline":true,"label":"File","permalink":"/notes/tags/file"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":12,"frontMatter":{"sidebar_position":12,"tags":["AI","Language","Python","I/O","File"]},"sidebar":"tutorialSidebar","previous":{"title":"Exception","permalink":"/notes/ai/python/exception"},"next":{"title":"Command Line","permalink":"/notes/ai/python/cli"}}');var i=t(35656),s=t(86145);const r={sidebar_position:12,tags:["AI","Language","Python","I/O","File"]},o="I/O",d={},l=[{value:"Text",id:"text",level:2},{value:"JSON",id:"json",level:2},{value:"CSV",id:"csv",level:2},{value:"XML",id:"xml",level:2},{value:"Converter",id:"converter",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"io",children:"I/O"})}),"\n",(0,i.jsx)(e.h2,{id:"text",children:"Text"}),"\n",(0,i.jsx)(e.p,{children:"Standard library:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from pathlib import Path\n\npath = Path('alice.txt')\n\ntry:\n  contents = path.read_text(encoding='utf-8').rstrip()\nexcept FileNotFoundError:\n  print(f\"Sorry, the file {path} does not exist.\")\nelse:\n  words = contents.split()\n  num_words = len(words)\n  print(f\"The file {path} has about {num_words} words.\")\n\n  lines = contents.splitlines()\n  path.write_text(lines)\n"})}),"\n",(0,i.jsx)(e.p,{children:"Numpy:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"import numpy as np\nx, y = np.loadtxt('input.dat', delimiter=',', unpack=True)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"json",children:"JSON"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from pathlib import Path\nimport json\nimport pandas as pd\n\npath = Path('data.json')\ncontents = path.read_text()\ndata_listOfDict = json.loads(contents)\n\n# We can do the same thing with pandas\ndata_df = pd.read_json('data.json', orient='records')\n\n# We can write a dictionary to JSON like so\n# Use 'indent' and 'sort_keys' to make the JSON\n# file look nice\npath = Path('new_data.json')\ncontents = json.dump(data_listOfDict, indent=4, sort_keys=True)\npath.write_text(contents)\n\n# And again the same thing with pandas\nexport = data_df.to_json('new_data.json', orient='records')\n"})}),"\n",(0,i.jsx)(e.h2,{id:"csv",children:"CSV"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from pathlib import Path\nimport csv\n\npath = Path('weather_data/sitka_weather_07-2021_simple.csv')\nlines = path.read_text().splitlines()\nreader = csv.reader(lines)\nheader_row = next(reader)\n\nfor index, column_header in enumerate(header_row):\n  print(index, column_header)\n\nhighs = []\nfor row in reader:\n  high = int(row[4])\n  highs.append(high)\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"import csv\n\n# Field names\nfields = ['Name', 'Goals', 'Assists', 'Shots']\n\n# Rows of data in the csv file\nrows = [ ['Emily', '12', '18', '112'],\n         ['Katie', '8', '24', '96'],\n         ['John', '16', '9', '101'],\n         ['Mike', '3', '14', '82']]\n\nfilename = \"soccer.csv\"\n\n# Writing to csv file\nwith open(filename, 'w+') as csvFile:\n    # Creating a csv writer object\n    csvWriter = csv.writer(csvFile)\n\n    # Writing the fields\n    csvWriter.writerow(fields)\n\n    # Writing the data rows\n    csvWriter.writerows(rows)\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'import pandas as pd\n\nfilename = "my_data.csv"\n\n# Read in the data\ndata = pd.read_csv(filename)\n\n# Print the first 5 rows\nprint(data.head(5))\n\n# Write the data to file\ndata.to_csv("new_data.csv", sep=",", index=False)\n'})}),"\n",(0,i.jsx)(e.h2,{id:"xml",children:"XML"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"import xml.etree.ElementTree as ET\nimport xmltodict\nimport json\n\ntree = ET.parse('output.xml')\nxml_data = tree.getroot()\n\nxmlStr = ET.tostring(xml_data, encoding='utf8', method='xml')\n\ndata_dict = dict(xmltodict.parse(xmlStr))\n\nprint(data_dict)\n\nwith open('new_data_2.json', 'w+') as json_file:\n    json.dump(data_dict, json_file, indent=4, sort_keys=True)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"converter",children:"Converter"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"import pandas as pd\nfrom dicttoxml import dicttoxml\nimport json\n\n# Building our dataframe\ndata = {'Name': ['Emily', 'Katie', 'John', 'Mike'],\n        'Goals': [12, 8, 16, 3],\n        'Assists': [18, 24, 9, 14],\n        'Shots': [112, 96, 101, 82]\n        }\n\ndf = pd.DataFrame(data, columns=data.keys())\n\n# Converting the dataframe to a dictionary\n# Then save it to file\ndata_dict = df.to_dict(orient=\"records\")\nwith open('output.json', \"w+\") as f:\n    json.dump(data_dict, f, indent=4)\n\n# Converting the dataframe to XML\n# Then save it to file\nxml_data = dicttoxml(data_dict).decode()\nwith open(\"output.xml\", \"w+\") as f:\n    f.write(xml_data)\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"import json\nimport pandas as pd\nimport csv\n\n# Read the data from file\n# We now have a Python dictionary\nwith open('data.json') as f:\n    data_listOfDict = json.load(f)\n\n# Writing a list of dicts to CSV\nkeys = data_listOfDict[0].keys()\nwith open('saved_data.csv', 'wb') as output_file:\n    dict_writer = csv.DictWriter(output_file, keys)\n    dict_writer.writeheader()\n    dict_writer.writerows(data_listOfDict)\n"})})]})}function p(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},86145:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>o});var a=t(57140);const i={},s=a.createContext(i);function r(n){const e=a.useContext(s);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),a.createElement(s.Provider,{value:e},n.children)}}}]);