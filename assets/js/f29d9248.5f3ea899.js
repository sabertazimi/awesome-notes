"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[60417],{50230:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"ai/gen/agent/workflow","title":"Workflow","description":"AGENTS.md","source":"@site/content/ai/gen/agent/workflow.md","sourceDirName":"ai/gen/agent","slug":"/ai/gen/agent/workflow","permalink":"/notes/ai/gen/agent/workflow","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/ai/gen/agent/workflow.md","tags":[{"inline":true,"label":"AI","permalink":"/notes/tags/ai"},{"inline":true,"label":"Generative AI","permalink":"/notes/tags/generative-ai"},{"inline":true,"label":"LLM","permalink":"/notes/tags/llm"},{"inline":true,"label":"Agent","permalink":"/notes/tags/agent"},{"inline":true,"label":"Workflow","permalink":"/notes/tags/workflow"},{"inline":true,"label":"Vibe Coding","permalink":"/notes/tags/vibe-coding"},{"inline":true,"label":"Agentic Coding","permalink":"/notes/tags/agentic-coding"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":11,"frontMatter":{"sidebar_position":11,"tags":["AI","Generative AI","LLM","Agent","Workflow","Vibe Coding","Agentic Coding"]},"sidebar":"tutorialSidebar","previous":{"title":"Context","permalink":"/notes/ai/gen/agent/context"},"next":{"title":"Multi-Agent","permalink":"/notes/ai/gen/agent/multi-agent"}}');var l=i(35656),s=i(86145);const o={sidebar_position:11,tags:["AI","Generative AI","LLM","Agent","Workflow","Vibe Coding","Agentic Coding"]},r="Workflow",a={},d=[{value:"AGENTS.md",id:"agentsmd",level:2},{value:"Research",id:"research",level:2},{value:"Plan",id:"plan",level:2},{value:"Act",id:"act",level:2},{value:"Debug",id:"debug",level:2},{value:"TDD",id:"tdd",level:2},{value:"Compound",id:"compound",level:2},{value:"RIPER-5",id:"riper-5",level:2},{value:"Actions",id:"actions",level:2},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"workflow",children:"Workflow"})}),"\n",(0,l.jsx)(n.h2,{id:"agentsmd",children:"AGENTS.md"}),"\n",(0,l.jsxs)(n.p,{children:["\u9879\u76ee\u914d\u7f6e\u6587\u4ef6\u5e94\u56de\u7b54",(0,l.jsx)(n.a,{href:"https://mp.weixin.qq.com/s/a5UDlkD6Db2kKCAj7LN6gQ",children:"\u4e09\u4e2a\u95ee\u9898"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"WHAT: \u6280\u672f\u6808\u3001\u9879\u76ee\u7ed3\u6784\u3001\u5404\u6a21\u5757\u7684\u804c\u8d23."}),"\n",(0,l.jsx)(n.li,{children:"WHY: \u9879\u76ee\u7684\u76ee\u7684\u3001\u8bbe\u8ba1\u51b3\u7b56\u7684\u80cc\u666f, \u7279\u522b\u662f\u53cd\u6a21\u5f0f\u4ee3\u7801 (\u5386\u53f2\u503a\u52a1)."}),"\n",(0,l.jsx)(n.li,{children:"HOW: \u8fd0\u884c\u3001\u6d4b\u8bd5\u3001\u9a8c\u8bc1\u7684\u57fa\u672c\u547d\u4ee4\u4e0e\u6d41\u7a0b."}),"\n",(0,l.jsx)(n.li,{children:"\u6e10\u8fdb\u5f0f\u62ab\u9732: \u6587\u4ef6\u672c\u8eab 300 \u884c\u4ee5\u5185\uff0c\u8d8a\u77ed\u8d8a\u597d, \u5269\u4f59\u5185\u5bb9\u5217\u51fa\u6587\u6863\u4e0e\u7b80\u8981\u63cf\u8ff0."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"research",children:"Research"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"1. \u5728\u63d0\u51fa\u89e3\u51b3\u65b9\u6848\u4e4b\u524d\uff0c\u4ece\u5de5\u4f5c\u7a7a\u95f4\u548c\u4ee3\u7801\u5e93\u7684\u591a\u4e2a\u6765\u6e90\u4e2d\u6536\u96c6\u5168\u9762\u4fe1\u606f\u3002\n2. \u5206\u6790\u4ee3\u7801\u548c\u8fd1\u671f\u53d8\u66f4\uff0c\u4f46\u4e0d\u5f97\u81ea\u52a8\u4fee\u590d\u95ee\u9898\u3002\n3. \u4e0d\u5f97\u4fee\u6539\u4efb\u4f55\u4ee3\u7801\u3002\u5982\u9700\u4f7f\u7528\u4ee3\u7801\u5c55\u793a\u89e3\u51b3\u65b9\u6848\uff0c\u76f4\u63a5\u5728\u56de\u590d\u4e2d\u4ee5\u7eaf Markdown \u6587\u672c\u683c\u5f0f\u63d0\u4f9b\u3002\n4. \u5728\u63d0\u4f9b\u89e3\u51b3\u65b9\u6848\u65f6\uff0c\u4fdd\u7559\u76f8\u5173\u4e0a\u4e0b\u6587\u4fe1\u606f\uff08\u5982\u6587\u4ef6\u8def\u5f84\u3001\u51fd\u6570\u540d\u6216\u6a21\u5757\uff09\uff0c\u4ee5\u4fbf\u7528\u6237\u7406\u89e3\u3002\n5. \u907f\u514d\u57fa\u4e8e\u4e0d\u660e\u786e\u7684\u5047\u8bbe\u8fdb\u884c\u5206\u6790\u6216\u5efa\u8bae\uff0c\u5fc5\u8981\u65f6\u5411\u7528\u6237\u8bf7\u6c42\u6f84\u6e05\u3002\n6. \u4ee5\u4e00\u81f4\u7684\u683c\u5f0f\uff08\u5982\u4ee3\u7801\u5757\u3001\u5217\u8868\u6216\u6807\u9898\uff09\u5448\u73b0\u5206\u6790\u7ed3\u679c\u548c\u89e3\u51b3\u65b9\u6848\uff0c\u4fbf\u4e8e\u7528\u6237\u5feb\u901f\u9605\u8bfb\u3002\n"})}),"\n",(0,l.jsx)(n.h2,{id:"plan",children:"Plan"}),"\n",(0,l.jsxs)(n.p,{children:["Claude code ",(0,l.jsx)(n.code,{children:"EnterPlanMode"})," system prompt:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"Entered plan mode. You should now focus on exploring the codebase and designing an implementation approach.\n\nIn plan mode, you should:\n1. Thoroughly explore the codebase to understand existing patterns\n2. Identify similar features and architectural approaches\n3. Consider multiple approaches and their trade-offs\n4. Use AskUserQuestion if you need to clarify the approach\n5. Design a concrete implementation strategy\n6. When ready, use ExitPlanMode to present your plan for approval\n\nRemember: DO NOT write or edit any files yet. This is a read-only exploration and planning phase.\n"})}),"\n",(0,l.jsx)(n.p,{children:"Plan files:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"**\u5145\u5206\u7814\u7a76\u548c\u5ba1\u67e5**\uff1a\u5728\u5f00\u59cb\u5236\u5b9a\u8ba1\u5212\u524d\uff0c\u9700\u5168\u9762\u7814\u7a76\u548c\u5ba1\u67e5\u6240\u6709\u76f8\u5173\u7ec6\u8282\uff0c\u5305\u62ec\u6211\u4eec\u8ba8\u8bba\u8fc7\u7684\u5185\u5bb9\u3001\u6587\u6863\u3001\u4ee3\u7801\u5e93\u548c\u5916\u90e8\u8d44\u6e90\u3002\n\n**\u5236\u5b9a\u8be6\u7ec6\u5b9e\u65bd\u8ba1\u5212**\uff1a\u57fa\u4e8e\u7814\u7a76\u7ed3\u679c\uff0c\u521b\u5efa\u8be6\u7ec6\u7684\u5b9e\u65bd\u8ba1\u5212\uff0c\u4f46\u4e0d\u76f4\u63a5\u4fee\u6539\u4ee3\u7801\uff0c\u8ba1\u5212\u9700\u8981\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a\n\n- \u4ee3\u7801\u7ea7\u522b\u7684\u53d8\u66f4\u6307\u5357\uff0c\u9700\u5b8c\u5168\u57fa\u4e8e\u4ee3\u7801\u5e93\u5ba1\u67e5\u3002\n- \u6f5c\u5728\u98ce\u9669\u5206\u6790\u53ca\u5e94\u5bf9\u63aa\u65bd\uff08\u5982\u517c\u5bb9\u6027\u95ee\u9898\u3001\u6027\u80fd\u5f71\u54cd\uff09\u3002\n- \u6d4b\u8bd5\u7b56\u7565\uff08\u5982\u5355\u5143\u6d4b\u8bd5\u3001\u96c6\u6210\u6d4b\u8bd5\uff09\u4ee5\u9a8c\u8bc1\u53d8\u66f4\u6548\u679c\u3002\n\n**\u4f7f\u7528Mermaid\u56fe\u8868**\uff1a\u5bf9\u4e8e\u590d\u6742\u6d41\u7a0b\uff0c\u4f7f\u7528Mermaid\u56fe\u8868\uff08\u6d41\u7a0b\u56fe/\u65f6\u5e8f\u56fe/\u72b6\u6001\u56fe\uff09\u8fdb\u884c\u8bf4\u660e\uff1a\n\n- \u4f7f\u7528\u6e05\u6670\u7684\u6807\u7b7e\u548c\u8282\u70b9\u8fde\u63a5\u3002\n- \u4e0d\u540c\u64cd\u4f5c\u7c7b\u578b\u4f7f\u7528\u989c\u8272\u7f16\u7801\uff08\u5982\u8f93\u5165\u4e3a\u84dd\u8272\uff0c\u5904\u7406\u4e3a\u7eff\u8272\uff0c\u8f93\u51fa\u4e3a\u6a59\u8272\uff09\u3002\n\n**\u8ba1\u5212\u6587\u4ef6\u5b58\u50a8**\uff1a\n\n- \u6240\u6709\u8ba1\u5212\u6587\u4ef6\u5fc5\u987b\u5b58\u50a8\u5728 `.plans/` \u76ee\u5f55\u4e0b\u3002\n- \u6587\u4ef6\u547d\u540d\u683c\u5f0f\u4e3a `PLAN-{id}-{summary}.md`\uff1a\n  - `{id}` \u4e3a `.plans/` \u76ee\u5f55\u53ca\u5176\u5b50\u76ee\u5f55\u4e2d\u7684\u552f\u4e00\u7f16\u53f7\u3002\n  - `{summary}` \u4e3a\u4efb\u52a1\u7684\u7b80\u77ed\u63cf\u8ff0\u3002\n- \u6587\u4ef6\u91c7\u7528 Markdown \u683c\u5f0f\uff0c\u5305\u542b\u4efb\u52a1\u5b8c\u6210\u72b6\u6001\uff08\u5982 `[ ]` \u672a\u5b8c\u6210\uff0c`[x]` \u5df2\u5b8c\u6210\uff09\u7b49\u3002\n"})}),"\n",(0,l.jsx)(n.h2,{id:"act",children:"Act"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"You have two modes of operation:\n\n1. Plan mode - You will work with the user to define a plan,\n   you will gather all the information you need to make the changes but will not make any changes\n2. Act mode - You will make changes to the codebase based on the plan\n\n- You start in plan mode and will not move to act mode until the plan is approved by the user.\n- You will print `# Mode: PLAN` when in plan mode and `Mode: ACT` when in act mode at the beginning of each response.\n- Unless the user explicitly asks you to move to act mode, by typing `ACT` you will stay in plan mode.\n- You will move back to plan mode after every response and when the user types `PLAN`.\n- If the user asks you to take an action while in plan mode\n  you will remind them that you are in plan mode and that they need to approve the plan first.\n- When in plan mode always output the full updated plan in every response.\n"})}),"\n",(0,l.jsx)(n.h2,{id:"debug",children:"Debug"}),"\n",(0,l.jsxs)(n.p,{children:["Cursor ",(0,l.jsx)(n.a,{href:"https://cursor.com/blog/agent-best-practices#bug-debug-mode",children:"debug mode"}),":"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Assume: \u751f\u6210\u591a\u4e2a\u5047\u8bbe"}),"\n",(0,l.jsx)(n.li,{children:"Log: \u8fdb\u884c\u65e5\u5fd7\u57cb\u70b9"}),"\n",(0,l.jsx)(n.li,{children:"Collect: \u6536\u96c6\u8fd0\u884c\u65f6\u6570\u636e (log, trace, profile)"}),"\n",(0,l.jsx)(n.li,{children:"Locate: \u590d\u73b0 bug, \u5206\u6790\u5b9e\u9645\u884c\u4e3a, \u7cbe\u51c6\u5b9a\u4f4d\u6839\u672c\u539f\u56e0"}),"\n",(0,l.jsx)(n.li,{children:"Fix: \u57fa\u4e8e\u8bc1\u636e, \u8fdb\u884c\u6709\u9488\u5bf9\u6027\u7684\u4fee\u590d"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"tdd",children:"TDD"}),"\n",(0,l.jsxs)(n.p,{children:["\u6a21\u578b\u901a\u8fc7\u5f3a\u5316\u5b66\u4e60, \u5229\u7528 ",(0,l.jsx)(n.code,{children:"\u5c1d\u8bd5 -> \u53cd\u9988 -> \u8c03\u6574"})," \u5faa\u73af, \u5b9e\u73b0 agentic \u80fd\u529b.\n\u63d0\u4f9b\u6e05\u6670\u7684\u6210\u529f\u6807\u51c6, \u5141\u8bb8\u8bd5\u9519\u7684\u4f7f\u7528\u65b9\u5f0f, \u4e0e\u667a\u80fd\u4f53\u8bad\u7ec3\u8fc7\u7a0b\u76f8\u5951\u5408."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://cursor.com/cn/blog/agent-best-practices",children:"Test-driven development"}),":"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Write tests:\n\u8ba9\u667a\u80fd\u4f53\u6839\u636e\u9884\u671f\u7684\u8f93\u5165/\u8f93\u51fa\u5bf9\u7f16\u5199\u6d4b\u8bd5.\n\u660e\u786e\u8bf4\u660e\u5728\u505a TDD, \u907f\u514d agent \u4e3a\u5c1a\u4e0d\u5b58\u5728\u7684\u529f\u80fd\u7f16\u5199\u6a21\u62df\u5b9e\u73b0."}),"\n",(0,l.jsx)(n.li,{children:"Run tests:\n\u8ba9\u667a\u80fd\u4f53\u8fd0\u884c\u6d4b\u8bd5\u5e76\u786e\u8ba4\u6d4b\u8bd5\u786e\u5b9e\u5931\u8d25.\n\u660e\u786e\u8bf4\u660e\u5728\u8fd9\u4e2a\u9636\u6bb5\u4e0d\u8981\u7f16\u5199\u5b9e\u73b0\u4ee3\u7801."}),"\n",(0,l.jsx)(n.li,{children:"Commit tests."}),"\n",(0,l.jsx)(n.li,{children:"Write code:\n\u8ba9\u667a\u80fd\u4f53\u7f16\u5199\u80fd\u901a\u8fc7\u6d4b\u8bd5\u7684\u4ee3\u7801\uff0c\u5e76\u6307\u793a\u5b83\u4e0d\u8981\u4fee\u6539\u6d4b\u8bd5.\n\u544a\u8bc9\u5b83\u6301\u7eed\u8fed\u4ee3, \u76f4\u5230\u6240\u6709\u6d4b\u8bd5\u901a\u8fc7."}),"\n",(0,l.jsx)(n.li,{children:"Submit code."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"compound",children:"Compound"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://every.to/chain-of-thought/compound-engineering-how-every-codes-with-agents",children:"Compound engineering"}),"\n(\u590d\u5229\u5de5\u7a0b), \u6bcf\u4e2a PR \u90fd\u5728\u6559\u80b2\u7cfb\u7edf, \u6bcf\u4e2a bug \u90fd\u6210\u4e3a\u6c38\u4e45\u7684\u6559\u8bad, \u6bcf\u6b21\u4ee3\u7801\u5ba1\u67e5\u90fd\u5728\u66f4\u65b0 agent \u7684\u9ed8\u8ba4\u884c\u4e3a:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5c06\u7ecf\u9a8c\u6c89\u6dc0\u5230\u9879\u76ee\u6587\u6863."}),"\n",(0,l.jsx)(n.li,{children:"\u8ba9 bug \u4fee\u590d\u4ea7\u751f\u957f\u671f\u4ef7\u503c."}),"\n",(0,l.jsx)(n.li,{children:"\u4ece\u4ee3\u7801\u5ba1\u67e5\u4e2d\u63d0\u53d6\u6a21\u5f0f."}),"\n",(0,l.jsx)(n.li,{children:"\u5efa\u7acb\u53ef\u590d\u7528\u7684\u5de5\u4f5c\u6d41\u7a0b: slash commands, hooks, guardrails, and skills."}),"\n",(0,l.jsxs)(n.li,{children:["Linter rules, regression tests, ",(0,l.jsx)(n.code,{children:"AGENTS.md"})," improvements, checklist updates."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"riper-5",children:"RIPER-5"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://github.com/johnpeterman72/cursor_memory_riper_framework",children:"RIPER-5"}),"\n\u7ed9 AI \u89c4\u5b9a\u4e86 ",(0,l.jsx)(n.a,{href:"/notes/ai/gen/recipes/prompts/riper-5",children:"5 \u79cd\u884c\u4e3a\u6a21\u5f0f"}),"\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:'- "ENTER RESEARCH MODE" // \u8fdb\u5165\u7814\u7a76\u6a21\u5f0f\n- "ENTER INNOVATE MODE" // \u8fdb\u5165\u521b\u65b0\u6a21\u5f0f\n- "ENTER PLAN MODE" // \u8fdb\u5165\u89c4\u5212\u6a21\u5f0f\n- "ENTER EXECUTE MODE" // \u8fdb\u5165\u6267\u884c\u6a21\u5f0f\n- "ENTER REVIEW MODE" // \u8fdb\u5165\u5ba1\u67e5\u6a21\u5f0f\n'})}),"\n",(0,l.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Claude Code action ",(0,l.jsx)(n.a,{href:"https://github.com/anthropics/claude-code-action/blob/main/docs/solutions.md",children:"solutions"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Cursor agent ",(0,l.jsx)(n.a,{href:"https://cursor.com/docs/cli/cookbook/code-review",children:"cookbook"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["OpenAI agents ",(0,l.jsx)(n.a,{href:"https://cookbook.openai.com/topic/agents",children:"cookbook"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Vibe coding ",(0,l.jsx)(n.a,{href:"https://github.com/tukuaiai/vibe-coding-cn",children:"guide"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["First-principles agentic coding ",(0,l.jsx)(n.a,{href:"https://mp.weixin.qq.com/s/a5UDlkD6Db2kKCAj7LN6gQ",children:"guide"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},86145:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>r});var t=i(57140);const l={},s=t.createContext(l);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);