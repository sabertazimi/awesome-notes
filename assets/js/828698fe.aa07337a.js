"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[20471],{39570:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"web/vue/components","title":"Components","description":"Computed Properties","source":"@site/content/web/vue/components.md","sourceDirName":"web/vue","slug":"/web/vue/components","permalink":"/notes/web/vue/components","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/vue/components.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"Vue","permalink":"/notes/tags/vue"},{"inline":true,"label":"Component","permalink":"/notes/tags/component"},{"inline":true,"label":"Slot","permalink":"/notes/tags/slot"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":11,"frontMatter":{"tags":["Web","Vue","Component","Slot"],"sidebar_position":11},"sidebar":"tutorialSidebar","previous":{"title":"Directives","permalink":"/notes/web/vue/directives"},"next":{"title":"Composition","permalink":"/notes/web/vue/composition"}}');var o=t(35656),a=t(86145);const l={tags:["Web","Vue","Component","Slot"],sidebar_position:11},i="Components",r={},c=[{value:"Computed Properties",id:"computed-properties",level:2},{value:"Slots",id:"slots",level:2},{value:"Fallback",id:"fallback",level:3},{value:"Named",id:"named",level:3},{value:"Scoped",id:"scoped",level:3},{value:"Provide and Inject",id:"provide-and-inject",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"components",children:"Components"})}),"\n",(0,o.jsx)(n.h2,{id:"computed-properties",children:"Computed Properties"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<div id="computed-basics">\n  <p>Has published books:</p>\n  <span>{{ publishedBooksMessage }}</span>\n</div>\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"Vue.createApp({\n  data() {\n    return {\n      author: {\n        name: 'John Doe',\n        books: [\n          'Vue 2 - Advanced Guide',\n          'Vue 3 - Basic Guide',\n          'Vue 4 - The Mystery',\n        ],\n      },\n    }\n  },\n  computed: {\n    // \u8ba1\u7b97\u5c5e\u6027\u7684 getter\n    publishedBooksMessage() {\n      // `this` \u6307\u5411 vm \u5b9e\u4f8b\n      return this.author.books.length > 0 ? 'Yes' : 'No'\n    },\n    fullName: {\n      // getter\n      get() {\n        return `${this.firstName} ${this.lastName}`\n      },\n      // setter\n      set(newValue) {\n        const names = newValue.split(' ')\n        this.firstName = names[0]\n        this.lastName = names[names.length - 1]\n      },\n    },\n  },\n}).mount('#computed-basics')\n"})}),"\n",(0,o.jsx)(n.h2,{id:"slots",children:"Slots"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://developers.google.com/web/fundamentals/web-components/shadowdom#slots",children:"Web Slot"})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"name"})," attribute."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"fallback"})," content."]}),"\n",(0,o.jsx)(n.li,{children:"\u63d2\u69fd\u57fa\u672c\u76ee\u7684\u4e3a\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u6e32\u67d3\u7ec6\u8282: e.g. \u9ad8\u7ea7\u5217\u8868\u7ec4\u4ef6."}),"\n",(0,o.jsx)(n.li,{children:"Normal Slots:\n\u5728\u7236\u7ec4\u4ef6\u7f16\u8bd1\u548c\u6e32\u67d3\u9636\u6bb5\u751f\u6210 Slots VNodes,\n\u6570\u636e\u4f5c\u7528\u57df\u4e3a\u7236\u7ec4\u4ef6\u5b9e\u4f8b (\u4f7f\u7528\u63d2\u69fd\u7684\u7ec4\u4ef6),\n\u5373\u7236\u7ec4\u4ef6\u540c\u65f6\u63d0\u4f9b View \u4e0e Data."}),"\n",(0,o.jsxs)(n.li,{children:["Scoped Slots:\n\u5728\u7236\u7ec4\u4ef6\u7f16\u8bd1\u548c\u6e32\u67d3\u9636\u6bb5\u4e3a ",(0,o.jsx)(n.code,{children:"vnode.data"})," \u6dfb\u52a0 ",(0,o.jsx)(n.code,{children:"scopedSlots"})," \u5bf9\u8c61,\n\u5728\u5b50\u7ec4\u4ef6\u7f16\u8bd1\u548c\u6e32\u67d3\u9636\u6bb5\u751f\u6210 Slots VNodes,\n\u6570\u636e\u4f5c\u7528\u57df\u4e3a\u5b50\u7ec4\u4ef6\u5b9e\u4f8b (\u5b9a\u4e49\u63d2\u69fd\u7684\u7ec4\u4ef6),\n\u5373\u7236\u7ec4\u4ef6\u63d0\u4f9b View, \u5b50\u7ec4\u4ef6\u63d0\u4f9b Data."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"fallback",children:"Fallback"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'\x3c!-- SubmitButton --\x3e\n<button type="submit">\n  <slot>Submit</slot>\n</button>\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:"<SubmitButton></SubmitButton>\n"})}),"\n",(0,o.jsx)(n.p,{children:"render to"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<button type="submit">Submit</button>\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:"<SubmitButton>Save</SubmitButton>\n"})}),"\n",(0,o.jsx)(n.p,{children:"render to"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<button type="submit">Save</button>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"named",children:"Named"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"#"}),": ",(0,o.jsx)(n.code,{children:"v-slot"})," directive shorthand."]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'\x3c!-- Layout --\x3e\n<div class="container">\n  <header>\n    <slot name="header"></slot>\n  </header>\n  <main>\n    <slot></slot>\n  </main>\n  <footer>\n    <slot name="footer"></slot>\n  </footer>\n</div>\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:"<Layout>\n  <template v-slot:header>\n    <h1>Here might be a page title</h1>\n  </template>\n  <template v-slot:default>\n    <p>A paragraph for the main content.</p>\n    <p>And another one.</p>\n  </template>\n  <template v-slot:footer>\n    <p>Here's some contact info</p>\n  </template>\n</Layout>\n"})}),"\n",(0,o.jsx)(n.p,{children:"Named slot directive shorthand:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:"<Layout>\n  <template #header>\n    <h1>Here might be a page title</h1>\n  </template>\n  <template>\n    <p>A paragraph for the main content.</p>\n    <p>And another one.</p>\n  </template>\n  <template #footer>\n    <p>Here's some contact info</p>\n  </template>\n</Layout>\n"})}),"\n",(0,o.jsx)(n.h3,{id:"scoped",children:"Scoped"}),"\n",(0,o.jsxs)(n.p,{children:["Pass data from child to parent\n(like ",(0,o.jsx)(n.code,{children:"Render Props"})," in React):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"app.component('TodoList', {\n  data() {\n    return {\n      items: ['Feed a cat', 'Buy milk'],\n    }\n  },\n  template: `\n    <ul>\n      <li v-for=\"( item, index ) in items\">\n        <slot :item=\"item\"></slot>\n      </li>\n    </ul>\n  `,\n})\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<TodoList>\n  \x3c!-- `default` can be other named slots --\x3e\n  <template v-slot:default="slotProps">\n    <i class="fas fa-check"></i>\n    <span class="green">{{ slotProps.item }}</span>\n  </template>\n</TodoList>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Slot props shorthand\n(",(0,o.jsx)(n.code,{children:"default"})," can be other named slots):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<TodoList v-slot="slotProps">\n  <i class="fas fa-check"></i>\n  <span class="green">{{ slotProps.item }}</span>\n</TodoList>\n\n<TodoList v-slot="{ item }">\n  <i class="fas fa-check"></i>\n  <span class="green">{{ item }}</span>\n</TodoList>\n\n<TodoList v-slot="{ item: todo }">\n  <i class="fas fa-check"></i>\n  <span class="green">{{ todo }}</span>\n</TodoList>\n\n<TodoList v-slot="{ item = \'Placeholder\' }">\n  <i class="fas fa-check"></i>\n  <span class="green">{{ item }}</span>\n</TodoList>\n\n<TodoList #default="{ item }">\n  <i class="fas fa-check"></i>\n  <span class="green">{{ item }}</span>\n</TodoList>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"provide-and-inject",children:"Provide and Inject"}),"\n",(0,o.jsxs)(n.p,{children:["Root ",(0,o.jsx)(n.code,{children:"provide"})," context value:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { provide, ref } from 'vue'\n\nconst count = ref(0)\nprovide('key', count)\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Child ",(0,o.jsx)(n.code,{children:"inject"})," context value:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { inject } from 'vue'\n\nconst message = inject('message', defaultValue)\n"})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},86145:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>i});var s=t(57140);const o={},a=s.createContext(o);function l(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);