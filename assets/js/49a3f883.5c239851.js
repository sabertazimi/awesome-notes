"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[80255],{59912:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"web/performance/image","title":"Images","description":"- Responsive images with srcset (LCP):","source":"@site/content/web/performance/image.md","sourceDirName":"web/performance","slug":"/web/performance/image","permalink":"/notes/web/performance/image","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/performance/image.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"Performance","permalink":"/notes/tags/performance"},{"inline":true,"label":"Image","permalink":"/notes/tags/image"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5,"tags":["Web","Performance","Image"]},"sidebar":"tutorialSidebar","previous":{"title":"Cache","permalink":"/notes/web/performance/cache"},"next":{"title":"Loading","permalink":"/notes/web/performance/loading"}}');var a=i(35656),r=i(86145);const l={sidebar_position:5,tags:["Web","Performance","Image"]},t="Images",o={},d=[{value:"Responsive",id:"responsive",level:2},{value:"Preloading",id:"preloading",level:2},{value:"Lazy Loading",id:"lazy-loading",level:2},{value:"Placeholder",id:"placeholder",level:2},{value:"Formats",id:"formats",level:2},{value:"Compression",id:"compression",level:2},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"images",children:"Images"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Responsive images with ",(0,a.jsx)(n.code,{children:"srcset"})," (LCP):","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Modern format: WebP/SVG."}),"\n",(0,a.jsx)(n.li,{children:"Correspond size."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"Hero images pre-fetch loading (LCP)."}),"\n",(0,a.jsx)(n.li,{children:"Offscreen images lazy loading (INP)."}),"\n",(0,a.jsxs)(n.li,{children:["Critical render path blocking images (INP):","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Images compression and minification."}),"\n",(0,a.jsx)(n.li,{children:"Images CDN."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Images placeholder with ",(0,a.jsx)(n.code,{children:"aspect-ratio"})," (CLS)."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"responsive",children:"Responsive"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://danburzo.ro/responsive-images-html",children:"Responsive images"}),"\nprovide 3 ~ 5 different sizes reduce image transfer sizes by average of ",(0,a.jsx)(n.strong,{children:"~20%"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<picture>\n  <source\n    srcset="/media/filename.avif 300w, /media/filename.avif 500w, /media/filename.avif 2000w"\n    type="image/avif"\n    sizes="(max-width: 360px) 300px, (max-width: 720px) 500px, 2000px"\n  />\n  <source\n    srcset="/media/filename.webp 300w, /media/filename.webp 500w, /media/filename.webp 2000w"\n    type="image/webp"\n    sizes="(max-width: 360px) 300px, (max-width: 720px) 500px, 2000px"\n  />\n  <source\n    srcset="/media/filename.jpg 300w, /media/filename.jpg 500w, /media/filename.jpg 2000w"\n    type="image/jpeg"\n    sizes="(max-width: 360px) 300px, (max-width: 720px) 500px, 2000px"\n  />\n  <img\n    src="/media/filename.jpg"\n    srcset="/media/filename.jpg 300w, /media/filename.jpg 500w, /media/filename.jpg 2000w"\n    sizes="(max-width: 360px) 300px, (max-width: 720px) 500px, 2000px"\n    alt="Description of the image."\n    width="2000"\n    height="1333"\n    loading="lazy"\n    decoding="async"\n  />\n</picture>\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<img\n  src="keyboard-800w.jpg"\n  alt="A beautiful pink keyboard."\n  width="400"\n  height="400"\n  srcset="keyboard-400w.jpg 400w, keyboard-800w.jpg 800w"\n  sizes="(max-width: 640px) 400px, 800px"\n/>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"preloading",children:"Preloading"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<link\n  rel="preload"\n  as="image"\n  href="keyboard.jpg"\n  imagesrcset="poster_400px.jpg 400w, poster_800px.jpg 800w, poster_1600px.jpg 1600w"\n  imagesizes="50vw"\n/>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"lazy-loading",children:"Lazy Loading"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<img\n  src="donut-800w.jpg"\n  alt="A delicious pink donut"\n  width="400"\n  height="400"\n  srcset="donut-400w.jpg 400w, donut-800w.jpg 800w"\n  sizes="(max-width: 640px) 400px, 800px"\n  loading="lazy"\n/>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"placeholder",children:"Placeholder"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<img\n  src="donut-800w.jpg"\n  alt="A delicious donut"\n  width="400"\n  height="400"\n  srcset="donut-400w.jpg 400w, donut-800w.jpg 800w"\n  sizes="(max-width: 640px) 400px, 800px"\n  loading="lazy"\n  decoding="async"\n  style="background-image: url(\'data:image/svg+xml;base64,[svg text]\'); background-size: cover"\n/>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"formats",children:"Formats"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"mp4"})," smaller than ",(0,a.jsx)(n.code,{children:"gif"})," (",(0,a.jsx)(n.code,{children:"ffmpeg"}),"):"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'\x3c!-- ffmpeg -i dog.gif dog.mp4 --\x3e\n<video autoplay loop muted playsinline>\n  <source src="dog.mp4" type="video/mp4" />\n</video>\n'})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"WebP"})," 25~35% smaller than ",(0,a.jsx)(n.code,{children:"jpg"}),"/",(0,a.jsx)(n.code,{children:"png"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<picture>\n  <source type="image/webp" srcset="flower.webp" />\n  <source type="image/jpeg" srcset="flower.jpg" />\n  <img src="flower.jpg" />\n</picture>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"compression",children:"Compression"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/lovell/sharp",children:"Sharp"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/oliver-moran/jimp",children:"Jimp"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/Klathmon/imagemin-webpack-plugin",children:"Imagemin"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Images format ",(0,a.jsx)(n.a,{href:"https://evilmartians.com/chronicles/images-done-right-web-graphics-good-to-the-last-byte-optimization-techniques",children:"guide"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Low effort images optimization ",(0,a.jsx)(n.a,{href:"https://blog.sentry.io/low-effort-image-optimization-tips",children:"tips"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Images optimization ",(0,a.jsx)(n.a,{href:"https://www.keycdn.com/blog/optimize-images-for-web",children:"guide"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Images optimization ",(0,a.jsx)(n.a,{href:"https://stackoverflow.blog/2022/03/28/picture-perfect-images-with-the-modern-element",children:"blog"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Images optimization ",(0,a.jsx)(n.a,{href:"https://www.smashingmagazine.com/printed-books/image-optimization",children:"book"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.admonition,{title:"CSS/Image Sprites",type:"danger",children:[(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Use image sprites ",(0,a.jsx)(n.strong,{children:"only on HTTP/1"})," to improve page-load times."]}),"\n",(0,a.jsx)(n.li,{children:"Avoid using image sprites on HTTP/2."}),"\n"]}),(0,a.jsx)(n.p,{children:"Legacy sprites optimization:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u6309\u989c\u8272\u5408\u5e76."}),"\n",(0,a.jsx)(n.li,{children:"\u6c34\u5e73\u6392\u5217\u5408\u5e76."}),"\n",(0,a.jsx)(n.li,{children:"\u907f\u514d\u4e0d\u5fc5\u8981\u7a7a\u767d."}),"\n",(0,a.jsx)(n.li,{children:"\u9650\u5236\u989c\u8272\u79cd\u7c7b."}),"\n",(0,a.jsx)(n.li,{children:"\u5148\u4f18\u5316\u5355\u72ec\u56fe\u50cf, \u518d\u4f18\u5316\u5408\u5e76\u56fe\u50cf"}),"\n"]})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},86145:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var s=i(57140);const a={},r=s.createContext(a);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);