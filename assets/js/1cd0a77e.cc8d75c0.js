"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[94827],{19654:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"cs/compilers/top-down","title":"Top-Down Parsing","description":"- \u4ece\u5f00\u59cb\u7b26\u53f7\u51fa\u53d1\u63a8\u5bfc\u4efb\u610f\u53e5\u5b50 t, \u4e0e\u7ed9\u5b9a\u53e5\u5b50 s \u8fdb\u884c\u6bd4\u8f83\u5206\u6790","source":"@site/content/cs/compilers/top-down.md","sourceDirName":"cs/compilers","slug":"/cs/compilers/top-down","permalink":"/notes/cs/compilers/top-down","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/cs/compilers/top-down.md","tags":[{"inline":true,"label":"CS","permalink":"/notes/tags/cs"},{"inline":true,"label":"Compiler","permalink":"/notes/tags/compiler"},{"inline":true,"label":"Syntax","permalink":"/notes/tags/syntax"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"tags":["CS","Compiler","Syntax"]},"sidebar":"tutorialSidebar","previous":{"title":"Lexical Analysis","permalink":"/notes/cs/compilers/lexical"},"next":{"title":"Bottom-Up Parsing","permalink":"/notes/cs/compilers/bottom-up"}}');var i=t(35656),s=t(86145);const r={sidebar_position:3,tags:["CS","Compiler","Syntax"]},c="Top-Down Parsing",o={},d=[{value:"\u907f\u514d\u56de\u6eaf",id:"\u907f\u514d\u56de\u6eaf",level:2},{value:"\u9012\u5f52\u4e0b\u964d",id:"\u9012\u5f52\u4e0b\u964d",level:2},{value:"LL(1)",id:"ll1",level:2},{value:"nullable sets",id:"nullable-sets",level:3},{value:"first sets",id:"first-sets",level:3},{value:"follow sets",id:"follow-sets",level:3},{value:"select sets",id:"select-sets",level:3},{value:"\u5206\u6790\u8868",id:"\u5206\u6790\u8868",level:3},{value:"\u89e3\u51b3\u51b2\u7a81",id:"\u89e3\u51b3\u51b2\u7a81",level:3},{value:"\u6d88\u9664\u76f4\u63a5\u5de6\u9012\u5f52",id:"\u6d88\u9664\u76f4\u63a5\u5de6\u9012\u5f52",level:3},{value:"\u6d88\u9664\u95f4\u63a5\u5de6\u9012\u5f52",id:"\u6d88\u9664\u95f4\u63a5\u5de6\u9012\u5f52",level:3},{value:"\u975e LL(1) \u6587\u6cd5",id:"\u975e-ll1-\u6587\u6cd5",level:3}];function a(n){const e={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"top-down-parsing",children:"Top-Down Parsing"})}),"\n",(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsx)(e.mermaid,{value:'flowchart LR\n    A["Tokens + Grammar"] --\x3e|Syntax Analysis| B["AST"]'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4ece\u5f00\u59cb\u7b26\u53f7\u51fa\u53d1\u63a8\u5bfc\u4efb\u610f\u53e5\u5b50 t, \u4e0e\u7ed9\u5b9a\u53e5\u5b50 s \u8fdb\u884c\u6bd4\u8f83\u5206\u6790"}),"\n",(0,i.jsx)(e.li,{children:"\u5229\u7528\u5206\u6790\u6811\u8fdb\u884c\u9010\u53f6\u5b50\u5339\u914d, \u82e5\u5339\u914d\u5931\u8d25\u5219\u8fdb\u884c\u56de\u6eaf"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"bool top_down_parsing(tokens[]) {\n  i = 0;\n  stack = [S];\n\n  while (stack != []) {\n    if (stack[top] is a terminal t) {\n      t == tokens[i] ? pop(i++) : backtrack();\n    } else if (stack[top] is a non_terminal T) {\n      pop();\n      push(T next expansion); // \u81ea\u53f3\u5411\u5de6\u538b\u6808, e.g. pop(S), push(N_right), push(V), push(N_left)\n    } else {\n      throw new SyntaxError();\n    }\n  }\n\n  return i >= tokens.length && is_empty(stack) ? true : false;\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u907f\u514d\u56de\u6eaf",children:"\u907f\u514d\u56de\u6eaf"}),"\n",(0,i.jsx)(e.p,{children:"\u5229\u7528\u524d\u770b\u7b26\u53f7\u907f\u514d\u56de\u6eaf"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"Sentence -> Noun Verb Noun\nNoun -> sheep\n  | tiger\n  | grass\n  | water\nVerb -> eat\n  | drink\n"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"tiger eat water: \u5411\u524d\u770b\u975e\u7ec8\u7ed3\u7b26\u63a8\u5bfc\u51fa\u7684\u6240\u6709\u7ec8\u7ed3\u7b26\u4e2d\u5339\u914d tiger \u7684\u7ec8\u7ed3\u7b26;\n\u4e0d\u5411\u524d\u770b,\u5219\u5148\u63a8\u5bfc N, \u518d\u63a8\u5bfc n, \u4f46 n \u4e0d\u4e00\u5b9a\u5339\u914d tiger, \u5219\u9700\u8fdb\u884c\u56de\u6eaf;\n\u5411\u524d\u770b\u4e00\u4e2a\u5b57\u7b26, \u76f4\u63a5\u63a8\u5bfc N --\x3e n, \u540c\u65f6\u76f4\u63a5\u627e\u5bfb\u5339\u914d tiger \u7684\u7ec8\u7ed3\u7b26"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"S -> N V N\nN -> (sheep)tiger\nV -> eat\nN -> (sheep-tiger-grass)water\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u9012\u5f52\u4e0b\u964d",children:"\u9012\u5f52\u4e0b\u964d"}),"\n",(0,i.jsx)(e.p,{children:"Recursive descent (\u9884\u6d4b\u5206\u6790\u7b97\u6cd5):"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u5206\u6cbb\u7b97\u6cd5: \u6bcf\u4e2a\u975e\u7ec8\u7ed3\u7b26\u6784\u9020\u4e00\u4e2a",(0,i.jsx)(e.strong,{children:"\u5206\u6790\u51fd\u6570"})]}),"\n",(0,i.jsxs)(e.li,{children:["\u524d\u770b\u7b26\u53f7: \u7528",(0,i.jsx)(e.strong,{children:"\u524d\u770b\u7b26\u53f7"}),"\u6307\u5bfc\u4ea7\u751f\u5f0f\u89c4\u5219\u7684\u9009\u62e9(expansion)"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"parse_S(tokens[]) {\n  parse_N(tokens[0]);\n  parse_V(tokens[1]);\n  parse_N(tokens[2]);\n}\n\nparse_N(token) {\n  if (token == s|t|g|w) {\n    return true;\n  } else {\n    throw new SyntaxError();\n  }\n}\n\nparse_V(token) {\n  if (token == e|d) {\n    return true;\n  } else {\n    throw new SyntaxError();\n  }\n}\n"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Use save pointer to implement roll back"}),"\n",(0,i.jsx)(e.li,{children:"Use logical OR expression to replace nested if-else structure:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"bool term(TOKEN tok) {\n    return *next++ == tok;\n}\n\nbool E1(void) {\n    return T();\n}\n\nbool E2(void) {\n    return T()\n        && term(PLUS)\n        && E();\n}\n\nbool E(void) {\n    // roll back pointer\n    TOKEN *save = next;\n\n    return (next = save, E1())\n        || (next = save, E2());\n}\n\nbool T1(void) {\n    return term(INT);\n}\n\nbool T2(void) {\n    return term(INT)\n        && term(TIMES)\n        && T();\n}\n\nbool T3(void) {\n    return term(OPEN)\n        && E()\n        && term(CLOSE);\n}\n\nbool T(void) {\n    // roll back pointer\n    TOKEN *save = next;\n\n    return (next = save, T1())\n        || (next = save, T2())\n        || (next = save, T3());\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"// X -> a\n//  | XX\n//  | aXXX\n//  | aXXXXb\nparse_X() {\n  token = nextToken();\n\n  switch (token) {\n    case ...: // i: token == atom_char or parse_XX();\n    case ...: // j: token == atom_char, token = nextToken(), parse_XXX();\n    // k: token == atom_char, token = nextToken(),\n    // parse_XXXX(), token=nextToken(), token == b\n    case ...:\n    default: throw new SyntaxError();\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"ll1",children:"LL(1)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4ece\u5de6(L)\u5411\u53f3\u8bfb\u5165\u7a0b\u5e8f(left to right scan)"}),"\n",(0,i.jsx)(e.li,{children:"\u6700\u5de6(L)\u63a8\u5bfc: \u4f18\u5148\u63a8\u5bfc\u6700\u5de6\u4fa7\u975e\u7ec8\u7ed3\u7b26(leftmost derivation)"}),"\n",(0,i.jsx)(e.li,{children:"\u4e00\u4e2a(1)\u524d\u770b\u7b26\u53f7(look ahead)"}),"\n",(0,i.jsxs)(e.li,{children:["\u5206\u6cbb\u7b97\u6cd5: \u6bcf\u4e2a\u975e\u7ec8\u7ed3\u7b26\u6784\u9020\u4e00\u4e2a",(0,i.jsx)(e.strong,{children:"first set"})," \u548c\u4e00\u4e2a ",(0,i.jsx)(e.strong,{children:"follow set"}),", \u6700\u540e\u4e3a\u6bcf\u4e2a\u89c4\u5219\u6784\u9020\u4e00\u4e2a ",(0,i.jsx)(e.strong,{children:"select set"})]}),"\n",(0,i.jsx)(e.li,{children:"\u5206\u6790\u8868\u9a71\u52a8(\u7531 first sets/follow sets/select sets \u63a8\u5bfc\u5206\u6790\u8868)"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"bool ll1_parsing(tokens[]) {\n  i = 0;\n  stack = [S];\n\n  while (stack != []) {\n    if (stack[top] is a terminal t) {\n      t == tokens[i] ? pop(i++) : throw new SyntaxError();\n    } else if (stack[top] is a non_terminal T) {\n      pop();\n      // push(T correct expansion);\n      // \u81ea\u53f3\u5411\u5de6\u538b\u6808, e.g. pop(S), push(N_right), push(V), push(N_left)\n      push(select_table[T][tokens[i]] \u5bf9\u5e94\u9879(\u89c4\u5219\u7f16\u53f7)\u6240\u5bf9\u5e94\u89c4\u5219\u7684\u53f3\u8fb9\u5f0f\u5b50);\n    } else {\n      throw new SyntaxError();\n    }\n  }\n\n  return i >= tokens.length && is_empty(stack) ? true : false;\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"nullable-sets",children:"nullable sets"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u5b58\u5728\u89c4\u5219: ",(0,i.jsx)(e.code,{children:"X -> epsilon"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["\u6216\u8005: ",(0,i.jsx)(e.code,{children:"X -> Y1Y2...Yn"}),", \u4e14\u5b58\u5728\u89c4\u5219 ",(0,i.jsx)(e.code,{children:"Y1 -> epsilon, ..., Yn -> epsilon"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["\u5373 : ",(0,i.jsx)(e.code,{children:"X -*> epsilon"})," (epsilon ",(0,i.jsx)(e.code,{children:"<-"})," first(X))."]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"nullable = {};\n\nwhile (nullable is still changing) {\n  foreach (production p: X -> beta) {\n    if ((beta == epsilon) || (beta == Y1...Yn\n      && Y1 <- nullable && ... && Yn <- nullable)) {\n      nullable += X;\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"first-sets",children:"first sets"}),"\n",(0,i.jsxs)(e.p,{children:["first(X) = ",(0,i.jsx)(e.code,{children:"{t | X -_> talpha}"})," U ",(0,i.jsx)(e.code,{children:"{epsilon | X-_>epsilon}"})," :"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["first(t) = ",(0,i.jsx)(e.code,{children:"{t}"})]}),"\n",(0,i.jsxs)(e.li,{children:["epsilon ",(0,i.jsx)(e.code,{children:"<-"})," first(X): X -> epsilon or X -> A1...An, epsilon ",(0,i.jsx)(e.code,{children:"<-"})," first(Ai)"]}),"\n",(0,i.jsxs)(e.li,{children:["first(alpha) ",(0,i.jsx)(e.code,{children:"<-"})," first(X): X -> A1..Analpha, epsilon ",(0,i.jsx)(e.code,{children:"<-"})," first(Ai)"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"first sets \u4e0d\u52a8\u70b9\u7b97\u6cd5:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"foreach (non_terminal N) {\n  first(N) = {};\n}\n\nwhile (some sets is changing) {\n  foreach (production p: N->beta1...beta_n) {\n    foreach (beta_i from beta1 up to beta_n) {\n      if (beta_i == a) {\n      // e.g. N->abX: first(N) += {a}\n        first(N) += {a};\n        break;\n      } else if (beta_i == M) {\n        first(N) += first(M);\n        if (M is not in nullable) {\n          break;\n        } // else continue this loop to add first(beta_next) into first(N)\n      }\n    }\n  }\n}\n"})}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"NonTerminal"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"First Set"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"S"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{s, t, g, w}"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"N"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{s, t, g, w}"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"V"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{e, d}"})})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"follow-sets",children:"follow sets"}),"\n",(0,i.jsxs)(e.p,{children:["follow(X) = ",(0,i.jsx)(e.code,{children:"{t | S -*> beta X t epsilon}"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["for ",(0,i.jsx)(e.code,{children:"X -> AB"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"first(B) <- follow(A)"}),", ",(0,i.jsx)(e.code,{children:"follow(X) <- follow(B)"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["if ",(0,i.jsx)(e.code,{children:"B -*> epsilon"}),": ",(0,i.jsx)(e.code,{children:"follow(X) <- follow(A)"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["for ",(0,i.jsx)(e.code,{children:"A -> alpha X beta"}),": ",(0,i.jsx)(e.code,{children:"first(beta) - {epsilon} <- follow(X)"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"$ <- follow(S)"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"follow sets \u4e0d\u52a8\u70b9\u7b97\u6cd5:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"foreach (non_terminal N) {\n  follow(N) = {};\n}\n\nwhile (some sets is changing) {\n  foreach (production p: N->beta1...beta_n) {\n\n        // temp: follow(left) <- follow(right)\n    temp = follow(N);\n\n    foreach (beta_i from beta_n down to beta1) {\n      if (beta_i == a) {\n        temp = {a};\n      } else if (beta_i == M) {\n        follow(M) += temp\n        temp = (M is not nullable) ? (first(M)) : (temp + first(M))\n      }\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"select-sets",children:"select sets"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5f53 N -> Y1...Yn \u53f3\u8fb9 Y \u5168\u4e3a nullable \u65f6, select(p) += follow(N)"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"select sets \u4e0d\u52a8\u70b9\u7b97\u6cd5:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"foreach (production p) {\n  select(p) = {}\n}\n\ncalculate_select_set(production p: N->beta1...beta_n) {\n  foreach (beta_i from beta1 up to beta_n) {\n    if (beta_i == a) {\n      select(p) += {a};\n      break;\n    } else if (beta_i == M) {\n      select(p) += first(M);\n      if (M is not in nullable) {\n        break;\n      }\n    }\n  }\n\n  // all betas are in nullable (\u5f53\u524d\u89c4\u5219\u7684\u6240\u6709\u53f3\u8fb9\u7b26\u53f7\u90fd\u662f\u53ef\u7a7a\u96c6)\n  // \u6545, select(p) \u5fc5\u987b\u5305\u62ec follow(M) (\u5f53\u63a8\u5bfc\u51fa\u53f3\u8fb9\u7b26\u53f7\u90fd\u4e3a\u7a7a\u65f6, first(p) \u5373\u4e3a follow(M))\n  if (i > n) {\n    first(N) += follow(N);\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u5206\u6790\u8868",children:"\u5206\u6790\u8868"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7ed3\u5408 nullable sets \u51c6\u786e\u6c42\u51fa first sets"}),"\n",(0,i.jsx)(e.li,{children:"\u518d\u5229\u7528 first sets \u51c6\u786e\u6c42\u51fa follow sets"}),"\n",(0,i.jsx)(e.li,{children:"\u518d\u5229\u7528 first sets, \u5e76\u7ed3\u5408 follow sets(\u5168\u7a7a\u96c6\u4fee\u6b63) \u51c6\u786e\u6c42\u51fa \u5206\u6790\u8868:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"0: z -> d\n1: | X Y Z\n2: Y -> c\n3: |\n4: X -> Y\n5: | a\n"})}),"\n",(0,i.jsxs)(e.p,{children:["nullable = ",(0,i.jsx)(e.code,{children:"{X, Y}"})]}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{style:{textAlign:"left"}}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"X"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"Y"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"Z"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"first"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{c}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"follow"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{}"})})]})]})]}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"production"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"0"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"1"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"2"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"3"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"4"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"5"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"select"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{c}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a}"})})]})})]}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"Non-Terminal"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"a"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"c"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"d"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Z"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"0, 1"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Y"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"3"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"2, 3"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"3"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"X"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"4, 5"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"4"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"4"})]})]})]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u6570\u5b57\u4e3a\u89c4\u5219\u7f16\u53f7"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u89e3\u51b3\u51b2\u7a81",children:"\u89e3\u51b3\u51b2\u7a81"}),"\n",(0,i.jsx)(e.p,{children:"\u5206\u6790\u8868\u67d0\u9879\u6709\u591a\u4e2a\u7f16\u53f7\u65f6, \u901a\u8fc7\u6587\u6cd5\u91cd\u5199\u6d88\u9664\u5de6\u9012\u5f52, \u4f7f\u6587\u6cd5\u9002\u5e94 L(\u6700\u5de6\u63a8\u5bfc):"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6539\u5199\u6210\u53f3\u9012\u5f52\u6587\u6cd5"}),"\n",(0,i.jsx)(e.li,{children:"\u89c4\u5b9a\u4f18\u5148\u7ea7\u4e0e\u7ed3\u5408\u6027"}),"\n",(0,i.jsx)(e.li,{children:"\u63d0\u53d6\u5de6\u516c\u56e0\u5f0f(Common Prefix)"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"E -> T+E\n    |T\n\nE -> TX\nX -> +E\n    |epsilon\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u6d88\u9664\u76f4\u63a5\u5de6\u9012\u5f52",children:"\u6d88\u9664\u76f4\u63a5\u5de6\u9012\u5f52"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"S -> Salpha1\n    |Salpha2\n    ...\n    |Salpha_n\n    |beta1\n    |beta2\n    ...\n    |beta_m\n\nS -> beta1S'\n    |beta2S'\n    ...\n    |beta_nS'\nS'-> alpha1S'\n    |alpha2S'\n    ...\n    |alpha_nS'\n    |epsilon\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u6d88\u9664\u95f4\u63a5\u5de6\u9012\u5f52",children:"\u6d88\u9664\u95f4\u63a5\u5de6\u9012\u5f52"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u628a\u6587\u6cd5 G \u7684\u6240\u6709\u975e\u7ec8\u7ed3\u7b26\u6309\u4efb\u4e00\u987a\u5e8f\u6392\u5217, e.g. A1, A2, \u2026, An"}),"\n",(0,i.jsx)(e.li,{children:"\u6d88\u9664 Ai \u89c4\u5219\u4e2d\u7684\u76f4\u63a5\u5de6\u9012\u5f52: \u628a\u5f62\u5982 Ai\u2192Aj\u03b3 \u7684\u4ea7\u751f\u5f0f\n\u6539\u5199\u6210 Ai\u2192\u03b41\u03b3 /\u03b42\u03b3 /\u2026/\u03b4k\u03b3(\u5176\u4e2d Aj\u2192\u03b41 /\u03b42 /\u2026/\u03b4k \u662f\u5173\u4e8e\u7684 Aj \u5168\u90e8\u89c4\u5219)"}),"\n",(0,i.jsx)(e.li,{children:"\u53bb\u6389\u591a\u4f59\u7684\u89c4\u5219(\u4e0d\u53ef\u8fbe\u89c4\u5219)"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n#include <string>\n#include <fstream>\n\nusing namespace std;\n\nstruct WF {\n    string left; //\u5b9a\u4e49\u4ea7\u751f\u5f0f\u7684\u5de6\u90e8\n    string right; //\u5b9a\u4e49\u4ea7\u751f\u5f0f\u7684\u53f3\u90e8\n};\n\n/*\n * count: number of non-terminal symbols\n */\nvoid Removing(WF *p,char *q,int n,int count) {\n\n    int count1 = n;\n    int flag = 0;\n\n  // \u5224\u65ad\u7b2c\u4e00\u4e2a\u975e\u7ec8\u7ed3\u7b26\u662f\u5426\u5b58\u5728\u76f4\u63a5\u5de6\u9012\u5f52 if(p[i].left[0]==q[0])\n    for (int i = 0; i < n; i++) {\n        if (p[i].left[0] == p[i].right[0]) {\n            flag++;\n        }\n    }\n\n  // \u5982\u679c\u5b58\u5728\u76f4\u63a5\u5de6\u9012\u5f52\u5219\u6d88\u9664\u76f4\u63a5\u5de6\u9012\u5f52\n    if (flag != 0)\n    {\n        for (int i = 0; i < n; i++) {\n            if (p[i].left[0] == q[0]) {\n                if (p[i].left[0] == p[i].right[0]) {\n                  string str;\n                    str = p[i].right.substr(1,int (p[i].right.length())); // \u53d6\u53f3\u90e8\u7b2c\u4e8c\u4f4d\u5f00\u59cb\u7684\u5b57\u4e32\u8d4b\u7ed9str\n\n                    // E->E+T => E\'->+TE\'\n                    string temp = p[i].left;\n                    string temp1 = "\'";\n                    p[i].left = temp+temp1;\n                    p[i].right = str+p[i].left;\n                } else {\n                    // E->T => E->TE\'\n                    string temp=p[i].left;\n                    string temp1="\'";\n                    temp=temp+temp1;\n                    p[i].right=p[i].right+temp;\n                }\n            }\n        }\n\n        string str="\'";\n        p[count1].left=p[0].left[0]+str;\n        p[count1].right="\u03b5";\n    }\n\n  // \u5bf9\u6bcf\u4e00\u4e2a\u975e\u7ec8\u7ed3\u7b26\u8fed\u4ee3\n    for ( int i = 0; i <= count; i++) {\n\n      // \u5bf9\u6bcf\u4e00\u4e2a\u5c0f\u4e8e i \u7684\u975e\u7ec8\u7ed3\u7b26\n        for (int j = 0; j < i; j++) {\n\n          // \u5bf9\u6bcf\u4e00\u4e2a\u4ea7\u751f\u5f0f\n            for (int g = 0; g < n; g++) {\n\n              // i \u975e\u7ec8\u7ed3\u7b26\u4e0e\u7b2c g \u4ea7\u751f\u5f0f\u5de6\u8fb9\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u76f8\u7b49\n                if (q[i] == p[g].left[0]) {\n\n          // g \u4ea7\u751f\u5f0f\u53f3\u8fb9\u4ea7\u751f\u5f0f\u7b2c\u4e00\u4e2a\u7b26\u53f7\u4e0e\u7b2c j \u4e2a\u975e\u7ec8\u7ed3\u7b26\u76f8\u7b49\n                    if (p[g].right[0] == q[j]) {\n                        for (int h = 0; h < n*n; h++) {\n                            if (p[h].left[0] == q[j]\n                              && int (p[h].left.length()) == 1) {\n                                string str;\n                                str = p[g].right.substr(\n                                  1,\n                                  int (p[g].right.length ()));\n                                p[++count1].left = p[g].left;\n                                p[count1].right = p[h].right + str;\n                            }\n                        }\n\n                        p[g].left="";\n                        p[g].right="";\n                    }\n                }\n            }\n        }\n    }\n\n  // \u53bb\u9664\u95f4\u63a5\u9012\u5f52\u4ea7\u751f\u5f0f\n    for(int i = 0; i <= count; i++) {\n        flag = 0;\n\n        for (int j = 0; j < n*n; j++) {\n            if (p[j].left[0] == q[i]) {\n                if(p[j].left[0] == p[j].right[0]) {\n                    flag++;\n                }\n            }\n        }\n\n        if (flag != 0) {\n            for (int j = 0; j <= n*n; j++) {\n                if (p[j].left[0] == q[i]) {\n                    if (p[j].left[0] == p[j].right[0]) {\n                        string str;\n                        str = p[j].right.substr(1,int (p[j].right.length()));\n                        string temp = p[j].left;\n                        string temp1 = "\'";\n                        p[j].left = temp + temp1;\n                        p[j].right = str + p[j].left;\n                    } else {\n                        string temp = p[j].left;\n                        string temp1 = "\'";\n                        temp = temp + temp1;\n                        p[j].right = p[j].right + temp;\n                    }\n                }\n            }\n\n            string str = "\'";\n            p[++count1].left = q[i] + str;\n            p[count1].right = "\u03b5";\n        }\n    }\n}\n\nint Delete(WF *p,int n) {\n    return 0;\n}\n\nint main() {\n    ofstream OutFile("result.txt");\n\n    int i,\n      j,\n      flag = 0,\n      count = 1,\n      n;\n\n    cout<<"\u8bf7\u8f93\u5165\u6587\u6cd5\u4ea7\u751f\u5f0f\u4e2a\u6570n\uff1a"<<endl;\n    cin>>n;\n    WF *p=new WF[50];\n    cout<<"\u8bf7\u8f93\u5165\u6587\u6cd5\u7684\u4e2a\u4ea7\u751f\u5f0f\uff1a"<<endl;\n\n  // input productions\n    for (i = 0; i < n; i++) {\n        cin>>p[i].left;\n        cout<<"->"<<endl;\n        cin>>p[i].right;\n        cout<<endl;\n    }\n    cout<<endl;\n    OutFile<<"\u5373\u8f93\u5165\u7684\u6587\u6cd5\u4ea7\u751f\u5f0f\u4e3a\uff1a"<<endl;\n\n    // cout<<"\u5373\u8f93\u5165\u7684\u6587\u6cd5\u4ea7\u751f\u5f0f\u4e3a\uff1a"<<endl;\n    for (i = 0; i < n; i++) {\n        // cout<<p[i].left<<"--\x3e"<<p[i].right<<endl;\n        OutFile<<p[i].left<<"--\x3e"<<p[i].right<<endl;\n    }\n    OutFile<<"*********************"<<endl;\n\n    // cout<<"*********************"<<endl;\n    char q[20];    // \u5bf9\u4ea7\u751f\u5f0f\u7684\u975e\u7ec8\u7ed3\u7b26\u6392\u5e8f\u5e76\u5b58\u53d6\u5728\u5b57\u7b26\u6570\u7ec4q\n    q[0] = p[0].left[0]; // \u628a\u4ea7\u751f\u5f0f\u7684\u7b2c\u4e00\u4e2a\u975e\u7ec8\u7ed3\u7b26\u5b58\u5165q\u4e2d\n\n  // \u5bf9\u975e\u7ec8\u7ed3\u7b26\u6392\u5e8f\u5e76\u5b58\u53d6\n    for (i = 1; i < n; i++) {\n        flag = 0;\n        for (j = 0; j < i; j++) {\n      // \u6839\u636ej<i\u5faa\u73af\u907f\u514d\u91cd\u590d\u975e\u7ec8\u7ed3\u7b26\u56e0\u6b64\u7531\u6807\u5fd7\u4f4d\u5224\u65ad\n            if(p[i].left==p[j].left) {\n              flag++;\n            }\n        }\n\n        if(flag==0) {\n          // \u6ca1\u6709\u91cd\u590d\u52a0\u5165q\u6570\u7ec4\u4e2d\n            q[count++]=p[i].left[0];\n        }\n    }\n    count--;\n\n  // \u8c03\u7528\u6d88\u9664\u9012\u5f52\u5b50\u51fd\u6570\n    Removing(p,q,n,count);\n    // \u5220\u9664\u65e0\u7528\u4ea7\u751f\u5f0f\n    Delete(p,n);\n\n    OutFile<<"\u6d88\u9664\u9012\u5f52\u540e\u7684\u6587\u6cd5\u4ea7\u751f\u5f0f\u4e3a\uff1a"<<endl;\n    // cout<<"\u6d88\u9664\u9012\u5f52\u540e\u7684\u6587\u6cd5\u4ea7\u751f\u5f0f\u4e3a\uff1a"<<endl;\n    for (i = 0; i <= count; i++) {\n        for (int j = 0; j <= n*n; j++) {\n            if ((p[j].left[0] == q[i]) && int (p[j].left.length ()) == 1) {\n                OutFile<<p[j].left<<"--\x3e"<<p[j].right<<endl;\n        // cout<<p[j].left<<"--\x3e"<<p[j].right<<endl;\n            } else {\n              continue;\n            }\n        }\n\n        for (j = 0; j <= n*n; j++) {\n            if((p[j].left[0] == q[i]) && int (p[j].left.length ()) == 2) {\n                OutFile<<p[j].left<<"--\x3e"<<p [j].right<<endl;\n            // cout<<p[j].left<<"--\x3e"<<p[j].right<<endl;\n            } else {\n              continue;\n            }\n        }\n    }\n    return 0;\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u975e-ll1-\u6587\u6cd5",children:"\u975e LL(1) \u6587\u6cd5"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"ambiguous grammar"}),"\n",(0,i.jsx)(e.li,{children:"left recursive grammar"}),"\n",(0,i.jsx)(e.li,{children:"not left factored grammar(\u672a\u63d0\u53d6\u5c55\u5f00\u5f0f\u7684\u516c\u56e0\u5b50)"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}},86145:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>c});var l=t(57140);const i={},s=l.createContext(i);function r(n){const e=l.useContext(s);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),l.createElement(s.Provider,{value:e},n.children)}}}]);