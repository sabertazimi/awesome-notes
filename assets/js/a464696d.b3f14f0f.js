"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[92927],{85087:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"web/testing/devtools","title":"DevTools","description":"Detection","source":"@site/content/web/testing/devtools.md","sourceDirName":"web/testing","slug":"/web/testing/devtools","permalink":"/notes/web/testing/devtools","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/testing/devtools.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"Testing","permalink":"/notes/tags/testing"},{"inline":true,"label":"Debugging","permalink":"/notes/tags/debugging"},{"inline":true,"label":"DevTools","permalink":"/notes/tags/dev-tools"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":11,"frontMatter":{"sidebar_position":11,"tags":["Web","Testing","Debugging","DevTools"]},"sidebar":"tutorialSidebar","previous":{"title":"Debugging","permalink":"/notes/web/testing/debugging"},"next":{"title":"TypeScript","permalink":"/notes/web/typescript/"}}');var i=l(35656),o=l(86145);const r={sidebar_position:11,tags:["Web","Testing","Debugging","DevTools"]},t="DevTools",c={},d=[{value:"Detection",id:"detection",level:2},{value:"Object Getter",id:"object-getter",level:3},{value:"Type Conversion",id:"type-conversion",level:3},{value:"Debugger",id:"debugger",level:3},{value:"Shortcuts",id:"shortcuts",level:2},{value:"Elements",id:"elements",level:2},{value:"Style",id:"style",level:3},{value:"Console",id:"console",level:2},{value:"Logging",id:"logging",level:3},{value:"Utilities",id:"utilities",level:3},{value:"Settings",id:"settings",level:3},{value:"Capture Default Event Listener",id:"capture-default-event-listener",level:3},{value:"Source",id:"source",level:2},{value:"Network",id:"network",level:2},{value:"Performance",id:"performance",level:2},{value:"Simulation",id:"simulation",level:2},{value:"Audit",id:"audit",level:2},{value:"Coverage",id:"coverage",level:2},{value:"Memory",id:"memory",level:2},{value:"JS Profiler",id:"js-profiler",level:2},{value:"Layer",id:"layer",level:2},{value:"Rendering",id:"rendering",level:2},{value:"Animations",id:"animations",level:2},{value:"CSS Overview",id:"css-overview",level:2},{value:"Search Engine",id:"search-engine",level:2}];function a(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"devtools",children:"DevTools"})}),"\n",(0,i.jsx)(n.h2,{id:"detection",children:"Detection"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["DevTools disable ",(0,i.jsx)(n.a,{href:"https://github.com/theajack/disable-devtool",children:"library"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["DevTools disable detection ",(0,i.jsx)(n.a,{href:"https://github.com/546669204/fuck-debugger-extensions",children:"guide"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"object-getter",children:"Object Getter"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const x = document.createElement('div')\n\nObject.defineProperty(x, 'id', {\n  get() {\n    // devtool opened.\n    return 'id'\n  },\n})\n\nconsole.log(x)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"type-conversion",children:"Type Conversion"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// eslint-disable-next-line prefer-regex-literals -- use RegExp to detect devtools opened\nconst c = new RegExp('1')\n\nc.toString = function () {\n  // devtool opened\n}\n\nconsole.log(c)\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Anti method: hook ",(0,i.jsx)(n.code,{children:"console"})," object, disable all outputs."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"debugger",children:"Debugger"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:";(function () {}).constructor('debugger')()\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:";(() => {\n  function block() {\n    if (\n      window.outerHeight - window.innerHeight > 200\n      || window.outerWidth - window.innerWidth > 200\n    ) {\n      document.body.innerHTML = 'Debug detected, please reload page!'\n    }\n\n    setInterval(() => {\n      ;(function () {\n        return false\n      })\n        .constructor('debugger')\n        .call()\n    }, 50)\n  }\n\n  try {\n    block()\n  } catch (err) {}\n})()\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const startTime = new Date()\n// debugger;\nconst endTime = new Date()\nconst isDev = endTime - startTime > 100\n\nwhile (true) {\n  // debugger;\n}\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Anti method: use chrome protocol to block all ",(0,i.jsx)(n.code,{children:"debugger"})," request.\nAnti method: hook ",(0,i.jsx)(n.code,{children:"Function.prototype.constructor"})," and replace ",(0,i.jsx)(n.code,{children:"debugger"})," string."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"shortcuts",children:"Shortcuts"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"c-d: go to next word"}),"\n",(0,i.jsxs)(n.li,{children:["c-f in ",(0,i.jsx)(n.code,{children:"Elements"})," panel: search DOM node"]}),"\n",(0,i.jsx)(n.li,{children:"c-m: go to next bracket"}),"\n",(0,i.jsx)(n.li,{children:"c-p: go to files"}),"\n",(0,i.jsx)(n.li,{children:"cs-p: go to anywhere"}),"\n",(0,i.jsx)(n.li,{children:"cs-o: go to functions"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"long click reload: multiple reload options e.g. clean cache"}),"\n",(0,i.jsx)(n.h2,{id:"elements",children:"Elements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Break on elements."}),"\n",(0,i.jsx)(n.li,{children:"Inspect elements a11y."}),"\n",(0,i.jsx)(n.li,{children:"Capture node screenshot."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"style",children:"Style"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Color picker"}),"\n",(0,i.jsx)(n.li,{children:"Filter: class filter, pseudo filter, css style filter"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:":hov"}),": element state (active, focus, hover, target, etc)"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Emulate a Focused Page",type:"tip",children:(0,i.jsxs)(n.p,{children:["Enable ",(0,i.jsx)(n.code,{children:"Emulate a focused page"})," in\n",(0,i.jsx)(n.code,{children:":hov"})," element state panel or ",(0,i.jsx)(n.code,{children:"Rendering"})," panel,\nto prevent dropdowns from disappearing.\n",(0,i.jsx)(n.code,{children:"visibilityChange"})," event will not be triggered."]})}),"\n",(0,i.jsx)(n.h2,{id:"console",children:"Console"}),"\n",(0,i.jsx)(n.h3,{id:"logging",children:"Logging"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"console.XXX"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"copy"}),": copy complex object to clipboard."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"monitor"}),": monitor object."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const devtools = /./\ndevtools.toString = function () {\n  this.opened = true\n}\n\nconsole.log('%c', devtools)\n// devtools.opened will become true if/when the console is opened\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Basic console functions\nconsole.assert()\nconsole.clear()\nconsole.log()\nconsole.debug()\nconsole.info()\nconsole.warn()\nconsole.error()\n\n// Different output styles\nconsole.dir()\nconsole.dirxml()\nconsole.table()\nconsole.group()\nconsole.groupCollapsed()\nconsole.groupEnd()\n\n// Trace console functions\nconsole.trace()\nconsole.count()\nconsole.countReset()\nconsole.time()\nconsole.timeEnd()\nconsole.timeLog()\n\n// Non-standard console functions\nconsole.profile()\nconsole.profileEnd()\nconsole.timeStamp()\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"console.log"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// `sprinf` style log\nconsole.log('%d %o %s', integer, object, string)\nconsole.log('%c ...', 'css style')\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"console.table"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// display array of object (tabular data)\nconst transactions = [\n  {\n    id: '7cb1-e041b126-f3b8',\n    seller: 'WAL0412',\n    buyer: 'WAL3023',\n    price: 203450,\n    time: 1539688433,\n  },\n  {\n    id: '1d4c-31f8f14b-1571',\n    seller: 'WAL0452',\n    buyer: 'WAL3023',\n    price: 348299,\n    time: 1539688433,\n  },\n  {\n    id: 'b12c-b3adf58f-809f',\n    seller: 'WAL0012',\n    buyer: 'WAL2025',\n    price: 59240,\n    time: 1539688433,\n  },\n]\n\nconsole.table(data, ['id', 'price'])\n"})}),"\n",(0,i.jsx)(n.h3,{id:"utilities",children:"Utilities"}),"\n",(0,i.jsxs)(n.p,{children:["Console ",(0,i.jsx)(n.a,{href:"https://developer.chrome.com/docs/devtools/console/utilities",children:"utilities API"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$_"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$0"})," - ",(0,i.jsx)(n.code,{children:"$4"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$()"}),": ",(0,i.jsx)(n.code,{children:"document.querySelector()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$$()"}),": ",(0,i.jsx)(n.code,{children:"document.querySelectorAll()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getEventListeners(dom)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"monitorEvents(dom, events)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"unmonitorEvents(dom)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"monitor(fn)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"unmonitor(fn)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"debug(fn)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"undebug(fn)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"keys(object)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"values(object)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"queryObjects(Constructor)"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"settings",children:"Settings"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Preserve log"}),"\n",(0,i.jsx)(n.li,{children:"Show timestamps"}),"\n",(0,i.jsx)(n.li,{children:"Verbose: additional performance log"}),"\n",(0,i.jsx)(n.li,{children:"Click filename, filter error messages"}),"\n",(0,i.jsx)(n.li,{children:"Add folder to workspace"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"capture-default-event-listener",children:"Capture Default Event Listener"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"$0"}),": the reference to the currently selected element in the Elements panel."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const listener = getEventListeners($0).click[0].listener\n$0.removeEventListener('click', listener)\n$0.addEventListener('click', (e) => {\n  // do something\n  // ...\n\n  // then\n  listener(e)\n})\n"})}),"\n",(0,i.jsx)(n.h2,{id:"source",children:"Source"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add log points."}),"\n",(0,i.jsx)(n.li,{children:"Multiple breakpoints: source, XHR/fetch, DOM, global/event listeners."}),"\n",(0,i.jsxs)(n.li,{children:["Open a source file, right click code, ",(0,i.jsx)(n.code,{children:"Blackbox script"})," item."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://developers.google.com/web/updates/2018/01/devtools#overrides",children:"Local Overrides"}),"\nfor persistent changes to css styles."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Same thing in ",(0,i.jsx)(n.code,{children:"VSCode"})," debug panel (log points, break points etc)."]}),"\n",(0,i.jsx)(n.h2,{id:"network",children:"Network"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Network throttling: simulate different network environment."}),"\n",(0,i.jsx)(n.li,{children:"Initiator: go to files."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"C+S+P"}),": performance monitor."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"C+S+P"}),": FPS."]}),"\n",(0,i.jsx)(n.li,{children:"Performance tips."}),"\n",(0,i.jsx)(n.li,{children:"Memory panel."}),"\n",(0,i.jsxs)(n.li,{children:["Timeline events: ",(0,i.jsx)(n.code,{children:"script -> style -> layout -> paint -> composite"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Timeline events ",(0,i.jsx)(n.a,{href:"https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/performance-reference",children:"reference"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Performance analysis ",(0,i.jsx)(n.a,{href:"https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/reference",children:"reference"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Performance tools ",(0,i.jsx)(n.a,{href:"https://zhuanlan.zhihu.com/p/41017888",children:"guide"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"simulation",children:"Simulation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["cs-p: type ",(0,i.jsx)(n.code,{children:"3G"})," (slow network)"]}),"\n",(0,i.jsxs)(n.li,{children:["cs-p: type ",(0,i.jsx)(n.code,{children:"sensor"})," (geolocation)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"audit",children:"Audit"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["cs-p: type ",(0,i.jsx)(n.code,{children:"audit"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"coverage",children:"Coverage"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["cs-p: type ",(0,i.jsx)(n.code,{children:"coverage"})]}),"\n",(0,i.jsxs)(n.li,{children:["Use to eliminate ",(0,i.jsx)(n.strong,{children:"unused"})," CSS/JS code."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"memory",children:"Memory"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Heap snapshot"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"js-profiler",children:"JS Profiler"}),"\n",(0,i.jsx)(n.h2,{id:"layer",children:"Layer"}),"\n",(0,i.jsx)(n.p,{children:"Tool for composite stage analysis:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Compositor layers."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"rendering",children:"Rendering"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Emulate a focused page."}),"\n",(0,i.jsx)(n.li,{children:"FPS monitor."}),"\n",(0,i.jsx)(n.li,{children:"Scrolling performance."}),"\n",(0,i.jsx)(n.li,{children:"Scroll event."}),"\n",(0,i.jsx)(n.li,{children:"Paint flashing area: re-paint area."}),"\n",(0,i.jsx)(n.li,{children:"Layout shift region."}),"\n",(0,i.jsx)(n.li,{children:"Compositor layer borders."}),"\n",(0,i.jsxs)(n.li,{children:["CSS media query emulation:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"prefers-color-scheme"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"prefers-reduced-motion"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"prefers-contrast"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"A11y emulation."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"animations",children:"Animations"}),"\n",(0,i.jsx)(n.p,{children:"Overview for animations: learn animations tricks."}),"\n",(0,i.jsx)(n.h2,{id:"css-overview",children:"CSS Overview"}),"\n",(0,i.jsx)(n.p,{children:"CSS overview:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Colors."}),"\n",(0,i.jsx)(n.li,{children:"Fonts."}),"\n",(0,i.jsx)(n.li,{children:"Unused declarations."}),"\n",(0,i.jsx)(n.li,{children:"Media queries."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"search-engine",children:"Search Engine"}),"\n",(0,i.jsx)(n.p,{children:"Set search omnibox:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Bing\nhttps://www.bing.com/copilotsearch?q=%s\n\n# Google\nhttps://www.google.com/search?q=%s&udm=50\n\n# Perplexity\nhttps://www.perplexity.ai/?q=%s\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},86145:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>t});var s=l(57140);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);