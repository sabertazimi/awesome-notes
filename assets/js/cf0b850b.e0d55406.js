"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[90409],{45107:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"web/javascript/operator","title":"Operators","description":"Loose Comparison","source":"@site/content/web/javascript/operator.md","sourceDirName":"web/javascript","slug":"/web/javascript/operator","permalink":"/notes/web/javascript/operator","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/javascript/operator.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"JavaScript","permalink":"/notes/tags/java-script"},{"inline":true,"label":"ECMAScript","permalink":"/notes/tags/ecma-script"},{"inline":true,"label":"Operator","permalink":"/notes/tags/operator"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":10,"frontMatter":{"sidebar_position":10,"tags":["Web","JavaScript","ECMAScript","Operator"]},"sidebar":"tutorialSidebar","previous":{"title":"Variable","permalink":"/notes/web/javascript/variable"},"next":{"title":"Destructuring","permalink":"/notes/web/javascript/destructuring"}}');var s=r(35656),t=r(86145);const l={sidebar_position:10,tags:["Web","JavaScript","ECMAScript","Operator"]},a="Operators",o={},c=[{value:"Loose Comparison",id:"loose-comparison",level:2},{value:"Strict Comparison",id:"strict-comparison",level:2},{value:"Conditional",id:"conditional",level:2},{value:"Logical",id:"logical",level:2},{value:"Dot",id:"dot",level:2},{value:"Add",id:"add",level:2},{value:"Delete",id:"delete",level:2},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"operators",children:"Operators"})}),"\n",(0,s.jsx)(n.h2,{id:"loose-comparison",children:"Loose Comparison"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"=="})," \u4e0e ",(0,s.jsx)(n.code,{children:"!="})," ",(0,s.jsx)(n.a,{href:"https://mp.weixin.qq.com/s/05m6vw__X4P7gwgKcGlhzw",children:"loose comparison"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Type conversion first, then comparison."}),"\n",(0,s.jsxs)(n.li,{children:["Return comparison between ",(0,s.jsx)(n.code,{children:"ToNumber(x)"})," and ",(0,s.jsx)(n.code,{children:"ToPrimitive(y)"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"/** Loose equality (==) */\nfunction abstractEqualityComparison(x, y) {\n  if (TypeOf(x) === TypeOf(y)) {\n    // Use strict equality (===)\n    return strictEqualityComparison(x, y)\n  }\n\n  // Comparing null with undefined\n  if (x === null && y === undefined)\n    return true\n\n  if (x === undefined && y === null)\n    return true\n\n  // Comparing a number and a string\n  if (TypeOf(x) === 'number' && TypeOf(y) === 'string')\n    return abstractEqualityComparison(x, Number(y))\n\n  if (TypeOf(x) === 'string' && TypeOf(y) === 'number')\n    return abstractEqualityComparison(Number(x), y)\n\n  // Comparing a bigint and a string\n  if (TypeOf(x) === 'bigint' && TypeOf(y) === 'string') {\n    const n = StringToBigInt(y)\n\n    if (Number.isNaN(n))\n      return false\n\n    return abstractEqualityComparison(x, n)\n  }\n  if (TypeOf(x) === 'string' && TypeOf(y) === 'bigint')\n    return abstractEqualityComparison(y, x)\n\n  // Comparing a boolean with a non-boolean\n  if (TypeOf(x) === 'boolean')\n    return abstractEqualityComparison(Number(x), y)\n\n  if (TypeOf(y) === 'boolean')\n    return abstractEqualityComparison(x, Number(y))\n\n  // Comparing an object with a primitive\n  // (other than undefined, null, a boolean)\n  if (\n    ['string', 'number', 'bigint', 'symbol'].includes(TypeOf(x))\n    && TypeOf(y) === 'object'\n  ) {\n    return abstractEqualityComparison(x, ToPrimitive(y))\n  }\n\n  if (\n    TypeOf(x) === 'object'\n    && ['string', 'number', 'bigint', 'symbol'].includes(TypeOf(y))\n  ) {\n    return abstractEqualityComparison(ToPrimitive(x), y)\n  }\n\n  // Comparing a bigint with a number\n  if (\n    (TypeOf(x) === 'bigint' && TypeOf(y) === 'number')\n    || (TypeOf(x) === 'number' && TypeOf(y) === 'bigint')\n  ) {\n    if (\n      [Number.NaN, +Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY].includes(x)\n      || [Number.NaN, +Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY].includes(y)\n    ) {\n      return false\n    }\n\n    if (isSameMathematicalValue(x, y))\n      return true\n    else\n      return false\n  }\n\n  return false\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"strict-comparison",children:"Strict Comparison"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"==="})," \u4e0e ",(0,s.jsx)(n.code,{children:"!=="}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Strings: same length, same characters in corresponding positions."}),"\n",(0,s.jsx)(n.li,{children:"Numbers: numerically equal."}),"\n",(0,s.jsx)(n.li,{children:"Objects: refer to same Object."}),"\n",(0,s.jsxs)(n.li,{children:["Positive and negative ",(0,s.jsx)(n.code,{children:"0"})," are equal to one another."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NaN"})," is not equal to anything, including ",(0,s.jsx)(n.code,{children:"NaN"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"null"})," and ",(0,s.jsx)(n.code,{children:"undefined"})," types are not equal with ",(0,s.jsx)(n.code,{children:"==="}),", but equal with ",(0,s.jsx)(n.code,{children:"=="}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const true1 = 0 == false // true\nconst false1 = 0 === false // false\nconst true2 = 1 == '1' // true\nconst false2 = 1 === '1' // false\nconst true3 = undefined == null // true\nconst false3 = undefined === null // false\nconst true4 = '0' == false // true\nconst false4 = '0' === false // false\nconst false5 = [] == [] // false, refer different objects in memory\nconst false6 = [] === [] // false, refer different objects in memory\nconst false7 = {} == {} // false, refer different objects in memory\nconst false8 = {} === {} // false, refer different objects in memory\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Object.is"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Case 1: Evaluation result is the same as using ===\nObject.is(25, 25) // true\nObject.is('foo', 'foo') // true\nObject.is('foo', 'bar') // false\nObject.is(null, null) // true\nObject.is(undefined, undefined) // true\nObject.is(window, window) // true\nObject.is([], []) // false\nconst foo = { a: 1 }\nconst bar = { a: 1 }\nObject.is(foo, foo) // true\nObject.is(foo, bar) // false: different reference pointers.\n\n// Case 2: Signed zero\nObject.is(0, -0) // false\nObject.is(+0, -0) // false\nObject.is(-0, -0) // true\nObject.is(0n, -0n) // true\n\n// Case 3: NaN\nObject.is(Number.NaN, 0 / 0) // true\nObject.is(Number.NaN, Number.NaN) // true\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"if (!Object.is) {\n  Object.defineProperty(Object, 'is', {\n    value: (x, y) => {\n      // SameValue algorithm\n      if (x === y) {\n        // return true if x and y are not 0, OR\n        // if x and y are both 0 of the same sign.\n        // This checks for cases 1 and 2 above.\n        return x !== 0 || 1 / x === 1 / y\n      } else {\n        // return true if both x AND y evaluate to NaN.\n        // The only possibility for a variable to not be strictly equal to itself\n        // is when that variable evaluates to NaN (example: Number.NaN, 0/0, NaN).\n        // This checks for case 3.\n        return x !== x && y !== y\n      }\n    },\n  })\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"conditional",children:"Conditional"}),"\n",(0,s.jsx)(n.p,{children:"\u517b\u6210\u4f7f\u7528\u5206\u53f7\u7ed3\u675f\u53e5\u5b50\u7684\u4e60\u60ef, \u9700\u5206\u884c\u663e\u793a\u7684\u8bed\u53e5\u5fc5\u987b\u786e\u4fdd\u5355\u884c\u4e0d\u4f1a\u5f62\u6210\u5b8c\u6574\u8bed\u4e49:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const i = a ? 1 : b ? 2 : c ? 3 : 4\n"})}),"\n",(0,s.jsx)(n.h2,{id:"logical",children:"Logical"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Optional Chaining Operator ",(0,s.jsx)(n.code,{children:"?."}),":\nLegible property chains that don't throw an error\nif a requested reference is missing."]}),"\n",(0,s.jsxs)(n.li,{children:["Nullish coalescing operator ",(0,s.jsx)(n.code,{children:"??"}),":\nBinary operator.\nIf the value of left side expression is ",(0,s.jsx)(n.code,{children:"null"})," or ",(0,s.jsx)(n.code,{children:"undefined"}),",\nright side of the operator is evaluated."]}),"\n",(0,s.jsxs)(n.li,{children:["Logical assignment operators: ",(0,s.jsx)(n.code,{children:"&&="}),", ",(0,s.jsx)(n.code,{children:"||="}),", ",(0,s.jsx)(n.code,{children:"??="}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Assignment Operator"}),(0,s.jsx)(n.th,{children:"Equivalent To"}),(0,s.jsxs)(n.th,{children:["Only Assigns When ",(0,s.jsx)(n.code,{children:"a"})]})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"a ||= b"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"a || (a = b)"})}),(0,s.jsx)(n.td,{children:"Falsy"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"a &&= b"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"a && (a = b)"})}),(0,s.jsx)(n.td,{children:"Truthy"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"a ??= b"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"a ?? (a = b)"})}),(0,s.jsx)(n.td,{children:"Nullish"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"dot",children:"Dot"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"."})," \u4f18\u5148\u7ea7\u9ad8\u4e8e ",(0,s.jsx)(n.code,{children:"="}),":\n",(0,s.jsx)(n.code,{children:"el.data"})," \u4f18\u5148\u6c42\u503c, \u5f15\u7528 ",(0,s.jsx)(n.code,{children:"old"}),", \u6307\u5411 ",(0,s.jsx)(n.code,{children:"old.data"}),".\n",(0,s.jsx)(n.code,{children:"5"})," => ",(0,s.jsx)(n.code,{children:"el"}),", ",(0,s.jsx)(n.code,{children:"5"})," => ",(0,s.jsx)(n.code,{children:"el.data"})," (",(0,s.jsx)(n.code,{children:"old.data"}),")."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"let el = { data: 1 }\nconst old = el\n\nel.data = el = 5\nconsole.log(el) // 5\nconsole.log(el.data) // undefined\nconsole.log(old) // { data: 5 }\nconsole.log(old.data) // 5\n"})}),"\n",(0,s.jsx)(n.h2,{id:"add",children:"Add"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"a + b"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5982\u679c\u6709\u4e00\u4e2a\u662f\u5bf9\u8c61, \u5219\u9075\u5faa\u5bf9\u8c61\u5bf9\u539f\u59cb\u503c\u7684\u8f6c\u6362\u8fc7\u7a0b:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Date \u5bf9\u8c61\u76f4\u63a5\u8c03\u7528 toString \u5b8c\u6210\u8f6c\u6362."}),"\n",(0,s.jsx)(n.li,{children:"\u5176\u4ed6\u5bf9\u8c61\u901a\u8fc7 valueOf \u8f6c\u5316,\n\u5982\u679c\u8f6c\u6362\u4e0d\u6210\u529f\u5219\u8c03\u7528 toString."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"\u5982\u679c\u4e24\u4e2a\u90fd\u662f\u5bf9\u8c61, \u4e24\u4e2a\u5bf9\u8c61\u90fd\u9075\u5faa\u6b65\u9aa4 1 \u8f6c\u6362\u5230\u5b57\u7b26\u4e32."}),"\n",(0,s.jsx)(n.li,{children:"\u4e24\u4e2a\u6570\u5b57, \u8fdb\u884c\u7b97\u6570\u8fd0\u7b97."}),"\n",(0,s.jsx)(n.li,{children:"\u4e24\u4e2a\u5b57\u7b26\u4e32, \u76f4\u63a5\u62fc\u63a5."}),"\n",(0,s.jsx)(n.li,{children:"\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e00\u4e2a\u6570\u5b57, \u76f4\u63a5\u62fc\u63a5\u4e3a\u5b57\u7b26\u4e32."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"delete",children:"Delete"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"delete"})," operator returns a boolean value:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"true"})," on a successful deletion."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"false"})," on a failed deletion:\n",(0,s.jsx)(n.code,{children:"var"}),"/",(0,s.jsx)(n.code,{children:"let"}),"/",(0,s.jsx)(n.code,{children:"const"})," variables cannot be deleted using ",(0,s.jsx)(n.code,{children:"delete"})," operator."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const name = 'Lydia'\nage = 21\n\n// eslint-disable-next-line no-delete-var -- false for failed deletion\nconsole.log(delete name) // false\n// eslint-disable-next-line no-delete-var -- true for successful deletion\nconsole.log(delete age) // true\n"})}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Operator ",(0,s.jsx)(n.a,{href:"https://www.joshwcomeau.com/operator-lookup",children:"lookup"}),"."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},86145:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>a});var i=r(57140);const s={},t=i.createContext(s);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);