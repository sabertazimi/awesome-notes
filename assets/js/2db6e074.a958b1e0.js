"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[36875],{75670:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>i});const t=JSON.parse('{"id":"web/css/container","title":"Container Query","description":"Size","source":"@site/content/web/css/container.md","sourceDirName":"web/css","slug":"/web/css/container","permalink":"/notes/web/css/container","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/css/container.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"CSS","permalink":"/notes/tags/css"},{"inline":true,"label":"Responsive","permalink":"/notes/tags/responsive"},{"inline":true,"label":"Container","permalink":"/notes/tags/container"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":32,"frontMatter":{"sidebar_position":32,"tags":["Web","CSS","Responsive","Container"]},"sidebar":"tutorialSidebar","previous":{"title":"Media Query","permalink":"/notes/web/css/media"},"next":{"title":"Supports","permalink":"/notes/web/css/supports"}}');var s=r(35656),l=r(86145);const o={sidebar_position:32,tags:["Web","CSS","Responsive","Container"]},c="Container Query",a={},i=[{value:"Size",id:"size",level:2},{value:"Style",id:"style",level:2},{value:"Scroll",id:"scroll",level:2},{value:"Stuck",id:"stuck",level:3},{value:"Snapped",id:"snapped",level:3},{value:"Scrollable",id:"scrollable",level:3},{value:"Scrolled",id:"scrolled",level:3},{value:"References",id:"references",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"container-query",children:"Container Query"})}),"\n",(0,s.jsx)(e.h2,{id:"size",children:"Size"}),"\n",(0,s.jsxs)(e.p,{children:["\u5f53\u7ec4\u4ef6\u51fa\u73b0\u5728\u540c\u4e00\u89c6\u53e3\u5927\u5c0f (viewport) \u9875\u9762\u4e0b\u7684\u4e0d\u540c\u5730\u65b9\u65f6,\ne.g. ",(0,s.jsx)(e.code,{children:".main > .button"})," vs ",(0,s.jsx)(e.code,{children:".sidebar > .button"}),",\n\u6b64\u65f6 ",(0,s.jsx)(e.code,{children:"@media"})," \u65e0\u6cd5\u6709\u6548\u5b9e\u73b0\u54cd\u5e94\u5f0f\u7ec4\u4ef6,\n\u4f7f\u7528 ",(0,s.jsx)(e.code,{children:"@container"})," \u53ef\u4ee5\u6709\u6548\u5b9e\u73b0\u54cd\u5e94\u5f0f\u7ec4\u4ef6:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:".sidebar {\n  container-name: sidebar;\n  container-type: inline-size;\n}\n\n@container sidebar (min-width: 400px) {\n  .card {\n    display: grid;\n    grid-template-columns: 2fr 1fr;\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"style",children:"Style"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://una.im/style-queries",children:(0,s.jsx)(e.code,{children:"style"})})," query direct parent:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"@container style(color: hotpink) {\n  .card {\n    background: white;\n  }\n}\n\n@container style(font-style: italic) {\n  span,\n  i,\n  .etc {\n    background: lavender;\n  }\n}\n\n@container style(border-color: lightblue) {\n  button {\n    border-color: royalblue;\n  }\n}\n\n@container style(--theme: dark) {\n  .card {\n    color: white;\n    background: royalblue;\n    border-color: navy;\n  }\n\n  .card button {\n    color: white;\n    background-color: dodgerblue;\n    border-color: navy;\n  }\n}\n\n/* Update the theme on hover */\n.card:hover,\n.card:focus {\n  --theme: dark-hover;\n}\n\n/* Apply darkHover theme styles */\n@container style(--theme: dark-hover) {\n  .card {\n    background: dodgerblue;\n    border-color: navy;\n  }\n\n  .card button {\n    background-color: royalblue;\n    border-color: lightblue;\n  }\n}\n\n@container (min-width: 420px) and style(--highlight: true) {\n  /* Styles for only highlight components at a minimum width of 420px */\n  .title {\n    color: var(--highlight-color);\n  }\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:"Non-direct parent:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-html",children:'<ul class="card-list">\n  <li class="card-container">\n    <div class="card"></div>\n  </li>\n</ul>\n\n<style>\n  .card-list {\n    container-name: cards;\n  }\n\n  @container cards style(--theme: warm) {\n    .card {\n      background-color: wheat;\n    }\n  }\n</style>\n'})}),"\n",(0,s.jsxs)(e.p,{children:["Use style query to\n",(0,s.jsxs)(e.a,{href:"https://kizu.dev/alternating-style-queries",children:["implement ",(0,s.jsx)(e.code,{children:"toggle()"})," function"]}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:":is(i, em, blockquote, code) {\n  font-style: var(--font-style);\n\n  --font-style: italic;\n\n  @container style(--font-style: italic) {\n    --font-style: normal;\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"scroll",children:"Scroll"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://developer.chrome.com/blog/css-scroll-state-queries",children:(0,s.jsx)(e.code,{children:"scroll-state"})}),"\nquery:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:".parent {\n  container-type: scroll-state;\n}\n\n.child {\n  /* styles */\n\n  @container scroll-state(<type>: <value>) {\n    /* scroll-based styles */\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"stuck",children:"Stuck"}),"\n",(0,s.jsx)(e.p,{children:"\u505c\u6ede (\u8fb9\u7f18\u56fa\u5b9a) \u65f6:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:".stuck-top {\n  position: sticky;\n  top: 0;\n  container-type: scroll-state;\n\n  @supports (container-type: scroll-state) {\n    > nav {\n      @container scroll-state(stuck: top) {\n        color: var(--color-highlight-foreground);\n        background: var(--color-highlight);\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"snapped",children:"Snapped"}),"\n",(0,s.jsx)(e.p,{children:"\u5df2\u8d34\u9760 (\u8f74\u4e0a\u5bf9\u9f50) \u65f6:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:".hidden-not-snapped {\n  overflow: auto hidden;\n  scroll-snap-type: x mandatory;\n\n  > article {\n    container-type: scroll-state;\n    scroll-snap-align: center;\n\n    @supports (container-type: scroll-state) {\n      > * {\n        transition: opacity 0.5s ease;\n\n        @container not scroll-state(snapped: x) {\n          opacity: 0.25;\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"scrollable",children:"Scrollable"}),"\n",(0,s.jsx)(e.p,{children:"\u53ef\u6eda\u52a8 (\u5185\u5bb9\u6ea2\u51fa) \u65f6:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:".scroll-container {\n  container-type: scroll-state size;\n  overflow: auto;\n\n  &::after {\n    content: ' ';\n    background: var(--shadow-top), var(--shadow-bottom);\n    transition:\n      --scroll-shadow-color-1-opacity 0.5s ease,\n      --scroll-shadow-color-2-opacity 0.5s ease;\n\n    @container scroll-state(scrollable: top) {\n      --scroll-shadow-color-1-opacity: var(--shadow-color-opacity, 25%);\n    }\n\n    @container scroll-state(scrollable: bottom) {\n      --scroll-shadow-color-2-opacity: var(--shadow-color-opacity, 25%);\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"scrolled",children:"Scrolled"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://una.im/scroll-state-scrolled",children:"\u5df2\u6eda\u52a8"}),"\u65f6:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"html {\n  container-type: scroll-state;\n}\n\nheader {\n  @container (not scroll-state(scrolled: none)) {\n    position: sticky;\n    top: 0;\n    transition: translate 0.2s;\n  }\n\n  /* Hide when scroll down */\n  @container scroll-state(scrolled: bottom) {\n    translate: 0 -100%;\n  }\n\n  /* Appear when scroll up */\n  @container scroll-state(scrolled: top) {\n    translate: 0 0;\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Interactive and comprehensive CSS container queries ",(0,s.jsx)(e.a,{href:"https://ishadeed.com/article/css-container-query-guide",children:"guide"}),"."]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},86145:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>c});var t=r(57140);const s={},l=t.createContext(s);function o(n){const e=t.useContext(l);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),t.createElement(l.Provider,{value:e},n.children)}}}]);