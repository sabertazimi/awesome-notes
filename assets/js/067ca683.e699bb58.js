"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[76809],{20606:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"web/css/media","title":"Media Query","description":"- Logical operators + media types + media features.","source":"@site/content/web/css/media.md","sourceDirName":"web/css","slug":"/web/css/media","permalink":"/notes/web/css/media","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/css/media.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"CSS","permalink":"/notes/tags/css"},{"inline":true,"label":"Responsive","permalink":"/notes/tags/responsive"},{"inline":true,"label":"Media","permalink":"/notes/tags/media"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":31,"frontMatter":{"sidebar_position":31,"tags":["Web","CSS","Responsive","Media"]},"sidebar":"tutorialSidebar","previous":{"title":"Responsive Design","permalink":"/notes/web/css/responsive"},"next":{"title":"Container Query","permalink":"/notes/web/css/container"}}');var r=t(35656),i=t(86145);const s={sidebar_position:31,tags:["Web","CSS","Responsive","Media"]},d="Media Query",c={},o=[{value:"Logical",id:"logical",level:2},{value:"Type",id:"type",level:2},{value:"Feature",id:"feature",level:2},{value:"Print",id:"print",level:2},{value:"Hover",id:"hover",level:2},{value:"Pointer",id:"pointer",level:2},{value:"Foldable",id:"foldable",level:2},{value:"Display Mode",id:"display-mode",level:2},{value:"Resolution",id:"resolution",level:2},{value:"Contrast",id:"contrast",level:2},{value:"Color Scheme",id:"color-scheme",level:2},{value:"Reduced Motion",id:"reduced-motion",level:2},{value:"Scripting",id:"scripting",level:2},{value:"APIs",id:"apis",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"media-query",children:"Media Query"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Logical operators + media types + media features."}),"\n",(0,r.jsx)(n.li,{children:"Only for improving compatibility with older browsers."}),"\n",(0,r.jsx)(n.li,{children:"Definition order matters when media query with a different selector."}),"\n",(0,r.jsxs)(n.li,{children:["JavaScript API: ",(0,r.jsx)(n.code,{children:"window.matchMedia()"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"/* screen size : 500px ~ 1000px */\n@media only screen and (width >= 500px) and (width <= 1000px) {\n  .container {\n    width: 750px;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"logical",children:"Logical"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/CSS/@media#logical_operators",children:"Logical operators"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"only"}),": only specific media type."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"not"}),": negate entire media query."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"and"}),": all."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:","}),": any."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/CSS/Media_Queries/Using_media_queries#syntax_improvements_in_level_4",children:"CSS Media Queries Level 4"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@media (height > 600px) {\n  body {\n    line-height: 1.4;\n  }\n}\n\n@media (400px <= width <= 700px) {\n  body {\n    line-height: 1.4;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"type",children:"Type"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/CSS/@media#media_types",children:"Media types"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Type"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Query"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"all"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u6240\u6709\u8bbe\u5907"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"print"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u6587\u6863\u6253\u5370\u6216\u6253\u5370\u9884\u89c8\u6a21\u5f0f"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"screen"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5f69\u8272\u7535\u8111\u5c4f\u5e55"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.strong,{children:"Deprecated Query"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"braille"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u76f2\u6587"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"embossed"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u76f2\u6587\u6253\u5370"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"handheld"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u624b\u6301\u8bbe\u5907"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"projection"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u9879\u76ee\u6f14\u793a, \u6bd4\u5982\u5e7b\u706f"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"speech"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u6f14\u8bb2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"tty"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u56fa\u5b9a\u5b57\u6bcd\u95f4\u8ddd\u7684\u7f51\u683c\u7684\u5a92\u4f53, \u6bd4\u5982\u7535\u4f20\u6253\u5b57\u673a"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"tv"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u7535\u89c6"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"feature",children:"Feature"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/CSS/@media#media_features",children:"Media features"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Feature"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Value"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Min/Max"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Query"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"grid"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"<integer>"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"no"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u662f\u5426\u57fa\u4e8e\u683c\u6805\u7684\u8bbe\u5907"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"orientation"}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,r.jsx)(n.code,{children:"portrait"}),"/",(0,r.jsx)(n.code,{children:"landscape"})]}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"no"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u6a2a\u5c4f\u6216\u7ad6\u5c4f"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"aspect-ratio"}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,r.jsx)(n.code,{children:"<integer>"}),"/",(0,r.jsx)(n.code,{children:"<integer>"})]}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u6e32\u67d3\u754c\u9762\u5bbd\u9ad8\u6bd4\u4f8b"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"device-aspect-ratio"}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,r.jsx)(n.code,{children:"<integer>"}),"/",(0,r.jsx)(n.code,{children:"<integer>"})]}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u8bbe\u5907\u5c4f\u5e55\u5bbd\u9ad8\u6bd4\u4f8b"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"monochrome"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"<integer>"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u7f13\u51b2\u5668\u4e2d\u6bcf\u50cf\u7d20\u5b57\u8282"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"resolution"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"<resolution>"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5206\u8fa8\u7387"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"width"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"<length>"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u6e32\u67d3\u754c\u9762\u7684\u5bbd\u5ea6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"height"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"<length>"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u6e32\u67d3\u754c\u9762\u7684\u9ad8\u5ea6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"device-width"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"<length>"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u8bbe\u5907\u5c4f\u5e55\u7684\u8f93\u51fa\u5bbd\u5ea6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"device-height"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"<length>"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u8bbe\u5907\u5c4f\u5e55\u7684\u8f93\u51fa\u9ad8\u5ea6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"color"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"<integer>"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u6bcf\u79cd\u8272\u5f69\u7684\u5b57\u8282\u6570"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"color-index"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"<integer>"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u8272\u5f69\u8868\u4e2d\u7684\u8272\u5f69\u6570"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"print",children:"Print"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@media print {\n  header,\n  footer {\n    display: none;\n  }\n\n  table {\n    color-adjust: exact;\n  }\n\n  h2 {\n    break-before: page;\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Page style standard ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/CSS/@page",children:"specification"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["PDF style ",(0,r.jsx)(n.a,{href:"https://www.smashingmagazine.com/2015/01/designing-for-print-with-css",children:"tutorial"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"hover",children:"Hover"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"hover"}),"/",(0,r.jsx)(n.code,{children:"any-hover"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"none"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"hover"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<a href="#">Try hovering over me!</a>\n\n<style>\n  @media (hover: hover) {\n    a:hover {\n      background: yellow;\n    }\n  }\n\n  @media (any-hover: hover) {\n    a:hover {\n      background: yellow;\n    }\n  }\n</style>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"pointer",children:"Pointer"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"pointer"}),"/",(0,r.jsx)(n.code,{children:"any-pointer"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"none"}),": no pointer device (e.g. phones)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"coarse"}),": limited accuracy pointer device (e.g. smart TV, video game consoles)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"fine"}),": accurate pointer device (e.g. mouse, touch pads, stylus)."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<input id=\"test\" type=\"checkbox\" /> <label for=\"test\">Look at me!</label>\n\n<style>\n  input[type='checkbox'] {\n    margin: 0;\n    appearance: none;\n    border: solid;\n  }\n\n  input[type='checkbox']:checked {\n    background: gray;\n  }\n\n  @media (pointer: fine) {\n    input[type='checkbox'] {\n      width: 15px;\n      height: 15px;\n      border-color: blue;\n      border-width: 1px;\n    }\n  }\n\n  @media (pointer: coarse) {\n    input[type='checkbox'] {\n      width: 30px;\n      height: 30px;\n      border-color: red;\n      border-width: 2px;\n    }\n  }\n\n  @media (any-pointer: fine) {\n    input[type='checkbox'] {\n      width: 15px;\n      height: 15px;\n      appearance: none;\n      border: 1px solid blue;\n    }\n  }\n\n  @media (any-pointer: coarse) {\n    input[type='checkbox'] {\n      width: 30px;\n      height: 30px;\n      appearance: none;\n      border: 2px solid red;\n    }\n  }\n</style>\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Hover and Pointer Query Combination",type:"tip",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Hover Query"}),(0,r.jsx)(n.th,{children:"Pointer Query"}),(0,r.jsx)(n.th,{children:"Device"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"none"}),(0,r.jsx)(n.td,{children:"coarse"}),(0,r.jsx)(n.td,{children:"smartphones, touch screens"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"none"}),(0,r.jsx)(n.td,{children:"fine"}),(0,r.jsx)(n.td,{children:"stylus-based screens"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"hover"}),(0,r.jsx)(n.td,{children:"coarse"}),(0,r.jsx)(n.td,{children:"smart TVs, video game consoles"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"hover"}),(0,r.jsx)(n.td,{children:"fine"}),(0,r.jsx)(n.td,{children:"desktop computers, laptops, touch pads"})]})]})]})}),"\n",(0,r.jsx)(n.h2,{id:"foldable",children:"Foldable"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/MicrosoftEdge/MSEdgeExplainers/blob/main/Foldables/explainer.md",children:(0,r.jsx)(n.code,{children:"viewport-segments"})}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"/* stylelint-disable-next-line media-feature-name-no-unknown */\n@media (horizontal-viewport-segments <= 2) and (vertical-viewport-segments <= 1) {\n  main article {\n    flex: 1 1 env(viewport-segment-width 0 0);\n  }\n\n  main aside {\n    flex: 1;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"display-mode",children:"Display Mode"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/CSS/@media/display-mode",children:(0,r.jsx)(n.code,{children:"display-mode"})}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"fullscreen"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"standalone"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"minimal-ui"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"browser"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@media all and (display-mode: fullscreen) {\n  body {\n    margin: 0;\n    border: 5px solid black;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"resolution",children:"Resolution"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/CSS/resolution",children:(0,r.jsx)(n.code,{children:"<resolution>"})}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<number>dpi"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<number>dpcm"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<number>x"}),"/",(0,r.jsx)(n.code,{children:"<number>dppx"}),": ",(0,r.jsx)(n.code,{children:"1dppx"})," = ",(0,r.jsx)(n.code,{children:"96dpi"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"/* Exact resolution */\n@media (resolution <= 150dpi) {\n  p {\n    color: red;\n  }\n}\n\n/* Minimum resolution */\n@media (resolution >= 72dpi) {\n  p {\n    text-decoration: underline;\n  }\n}\n\n/* Maximum resolution */\n@media (resolution <= 300dpi) {\n  p {\n    background: yellow;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"contrast",children:"Contrast"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"prefers-contrast"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"less"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"more"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@media (prefers-contrast: no-preference) {\n  html {\n    color: #333;\n    background-color: #eee;\n  }\n}\n\n@media (prefers-contrast: more) {\n  html {\n    color: #000;\n    background-color: white;\n  }\n}\n\n@media (prefers-contrast: less) {\n  html {\n    color: #555;\n    background: conic-gradient(from 90deg at 50% -10%, #bbb, 50%, #999, #bbb);\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"color-scheme",children:"Color Scheme"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"prefers-color-scheme"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"no-preference"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"light"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"dark"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:'html {\n  color-scheme: light dark; /* This site supports both light and dark mode */\n}\n\n:root {\n  /* light styles */\n  color-scheme: var(--color-scheme, light);\n\n  --primary-color: black;\n  --primary-background: white;\n\n  /* page preference is "dark" */\n  &:has(#color-scheme option[value=\'dark\']:checked) {\n    --color-scheme: dark;\n\n    /* any additional dark styles */\n    --primary-color: white;\n    --primary-background: black;\n  }\n\n  /* page preference is "system", and system preference is "dark" */\n  @media (prefers-color-scheme: dark) {\n    &:has(#color-scheme option[value=\'system\']:checked) {\n      --color-scheme: dark;\n\n      /* any additional dark styles, again */\n      --primary-color: white;\n      --primary-background: black;\n    }\n  }\n}\n\nbody {\n  color: var(--primary-color);\n  background: var(--primary-background);\n}\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const ColorSchemeStorageItemName = 'preferredColorScheme'\n\n/*\n * If a color scheme preference was previously stored,\n * select the corresponding option in the color scheme preference UI\n * unless it is already selected.\n */\nfunction restoreColorSchemePreference() {\n  const colorScheme = localStorage.getItem(ColorSchemeStorageItemName)\n\n  if (!colorScheme) {\n    // There is no stored preference to restore\n    return\n  }\n\n  const option = colorSchemeSelectorEl.querySelector(`[value=${colorScheme}]`)\n\n  if (!option) {\n    // The stored preference has no corresponding option in the UI.\n    localStorage.removeItem(ColorSchemeStorageItemName)\n    return\n  }\n\n  if (option.selected) {\n    // The stored preference's corresponding menu option is already selected\n    return\n  }\n\n  option.selected = true\n}\n\n/*\n * Store an event target's value in localStorage under ColorSchemeStorageItemName\n */\nfunction storeColorSchemePreference({ target }) {\n  const colorScheme = target.querySelector(':checked').value\n  localStorage.setItem(ColorSchemeStorageItemName, colorScheme)\n}\n\nfunction main() {\n  const colorSchemeSelectorEl = document.querySelector('#color-scheme')\n\n  if (colorSchemeSelectorEl) {\n    restoreColorSchemePreference()\n    colorSchemeSelectorEl.addEventListener('input', storeColorSchemePreference)\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"3 mode switch:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<select name=\"color-scheme-\">\n  <option value=\"system\">System</option>\n  <option value=\"light\">Forced Light</option>\n  <option value=\"dark\">Forced Dark</option>\n</select>\n\n<script>\n  document.querySelector('color-scheme').addEventListener('change', (e) => {\n    document.documentElement.setAttribute('data-force-color-mode', e.target.value)\n    localStorage.setItem('preferredColorScheme', e.target.value)\n  })\n\n  const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n  mediaQuery.addListener(() => {\n    // Make sure the dropdown is up-to-date based on mediaQuery.matches\n  })\n<\/script>\n\n<style>\n  :root,\n  :root[data-force-color-mode='light'] {\n    /* Default Light Mode colors + Forced Light Mode */\n    --primary-color: black;\n    --primary-background: white;\n  }\n\n  /* Dark Color Scheme (System Preference) */\n  @media (prefers-color-scheme: dark) {\n    :root {\n      --primary-color: white;\n      --primary-background: black;\n    }\n  }\n\n  /* Dark Color Scheme (Override) */\n  :root[data-force-color-mode='dark'] {\n    --primary-color: white;\n    --primary-background: black;\n  }\n</style>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"reduced-motion",children:"Reduced Motion"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"prefers-reduced-motion"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"no-preference"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"reduce"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@media (prefers-reduced-motion: reduce) {\n  .animated {\n    animation: none;\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n  *,\n  ::before,\n  ::after {\n    background-attachment: initial !important;\n    transition-delay: 0s !important;\n    transition-duration: 0s !important;\n    animation-duration: 1ms !important;\n    animation-delay: -1ms !important;\n    animation-iteration-count: 1 !important;\n    scroll-behavior: auto !important;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"scripting",children:"Scripting"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/@media/scripting",children:(0,r.jsx)(n.code,{children:"scripting"})}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@media (scripting: enabled) {\n  .my-element {\n    /* enhanced styles if JS is available */\n  }\n}\n\n@media (scripting: none) {\n  .my-element {\n    /* fallback styles when JS is not supported */\n  }\n}\n\n@media (scripting: enabled) and (prefers-reduced-motion: no-preference) {\n  /* JS available and motion OK */\n}\n\n@media (scripting: none), (prefers-reduced-motion) {\n  /* JS disabled or reduced motion enabled */\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"apis",children:"APIs"}),"\n",(0,r.jsxs)(n.p,{children:["Media query ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/API/Window/matchMedia",children:(0,r.jsx)(n.code,{children:"matchMedia"})}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// https://developer.mozilla.org/docs/Web/API/MediaQueryList\nconst mql = window.matchMedia(mediaQueryString)\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"if (window.matchMedia('(min-width: 400px)').matches) {\n  /* the view port is at least 400 pixels wide */\n} else {\n  /* the view port is less than 400 pixels wide */\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://polypane.app/blog/the-complete-guide-to-css-media-queries/#using-media-queries-in-javascript",children:"Respond to media query changes"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const match = window.matchMedia('(min-width: 400px)')\n\nmatch.addEventListener('change', (e) => {\n  if (e.matches) {\n    /* do a thing */\n  } else {\n    /* do another thing */\n  }\n})\n"})}),"\n",(0,r.jsxs)(n.admonition,{title:"Support Detection",type:"tip",children:[(0,r.jsx)(n.p,{children:"Detecting media query support in CSS:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"/* stylelint-disable-next-line media-feature-name-no-unknown */\n@media not all and (prefers-reduced-data), (prefers-reduced-data) {\n  color: blue;\n}\n"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No support:\nnot all and (prefers-reduced-data): false,\n(prefers-reduced-data): false,\nCombined: false."}),"\n",(0,r.jsx)(n.li,{children:"Support, but off:\nnot all and (prefers-reduced-data): true,\n(prefers-reduced-data): false,\nCombined: true."}),"\n",(0,r.jsx)(n.li,{children:"Support, and on:\nnot all and (prefers-reduced-data): false,\n(prefers-reduced-data): true,\nCombined: true."}),"\n"]}),(0,r.jsx)(n.p,{children:"Detecting media query support in JavaScript:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const query = '(prefers-reduced-data)'\n\n// window.matchMedia(query).media return 'not all' or original query string\nconst resolvedMediaQuery = window.matchMedia(query).media\n\nconst isSupported = query === resolvedMediaQuery\n"})})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},86145:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>d});var l=t(57140);const r={},i=l.createContext(r);function s(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);