"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[9875],{53880:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"web/css/variables","title":"Variables","description":"Inherited","source":"@site/content/web/css/variables.md","sourceDirName":"web/css","slug":"/web/css/variables","permalink":"/notes/web/css/variables","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/css/variables.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"CSS","permalink":"/notes/tags/css"},{"inline":true,"label":"Variable","permalink":"/notes/tags/variable"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"tags":["Web","CSS","Variable"]},"sidebar":"tutorialSidebar","previous":{"title":"Values","permalink":"/notes/web/css/values"},"next":{"title":"Colors","permalink":"/notes/web/css/colors"}}');var i=r(35656),s=r(86145);const l={sidebar_position:4,tags:["Web","CSS","Variable"]},t="Variables",o={},d=[{value:"Inherited",id:"inherited",level:2},{value:"Contextual Styling",id:"contextual-styling",level:2},{value:"Invalid and Empty",id:"invalid-and-empty",level:2},{value:"Limit",id:"limit",level:2},{value:"Dark Mode",id:"dark-mode",level:2},{value:"APIs",id:"apis",level:2},{value:"Property",id:"property",level:2}];function c(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"variables",children:"Variables"})}),"\n",(0,i.jsx)(e.h2,{id:"inherited",children:"Inherited"}),"\n",(0,i.jsx)(e.p,{children:"CSS Variables \u672c\u8d28\u4e0a\u5177\u6709\u7ee7\u627f\u7279\u6027,\nHTML \u6587\u6863\u6811\u4e2d, \u540e\u4ee3\u5143\u7d20\u53ef\u4ee5\u7ee7\u627f\u7956\u5148\u5143\u7d20\u7684 CSS Variables:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<div class="alert alert-info">\n  <div class="alert-content">\n    <h2 class="alert-title">Info</h2>\n    <div class="alert-body">\n      <p>Info Message.</p>\n    </div>\n  </div>\n</div>\n'})}),"\n",(0,i.jsx)(e.h2,{id:"contextual-styling",children:"Contextual Styling"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://simurai.com/blog/2018/04/01/contextual-styling",children:"Contextual styling themes"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:"[data-theme='dark'] {\n  --fg: hsl(0deg 10% 70%);\n  --border: hsl(0deg 10% 10%);\n  --bg: hsl(0deg 0% 20%);\n  --button-bg: hsl(0deg 0% 25%);\n  --input-bg: hsl(0deg 0% 15%);\n}\n\n[data-theme='hero'] {\n  --fg: hsl(240deg 50% 90%);\n  --border: hsl(240deg 50% 10%);\n  --bg: hsl(240deg 33% 30%);\n  --button-bg: hsl(240deg 33% 40%);\n  --input-bg: hsl(240deg 33% 20%);\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"Contextual styling buttons:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:":root {\n  --primary: hsl(260deg 95% 70%);\n  --secondary: hsl(320deg 95% 60%);\n}\n\n.button {\n  background-color: var(--button-background, transparent);\n}\n\n.button-primary {\n  --button-background: var(--primary);\n}\n\n.button-secondary {\n  --button-background: var(--secondary);\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"Contextual styling alerts:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:".alert {\n  --primary: #777;\n  --secondary: #ccc;\n\n  background-color: var(--secondary);\n  border: 1px solid var(--primary);\n}\n\n.alert::before {\n  background-color: var(--primary);\n}\n\n.alert-title {\n  color: var(--primary);\n}\n\n.alert-success {\n  --primary: #40c057;\n  --secondary: #d3f9d8;\n}\n\n.alert-info {\n  --primary: #228be6;\n  --secondary: #d0ebff;\n}\n\n.alert-warning {\n  --primary: #fab005;\n  --secondary: #fff3bf;\n}\n\n.alert-error {\n  --primary: #fa5252;\n  --secondary: #ffe3e3;\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"invalid-and-empty",children:"Invalid and Empty"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"--invalid-value: initial;"})," is ",(0,i.jsx)(e.code,{children:"invalid"})," value\nleading to ",(0,i.jsx)(e.code,{children:"var(--invalid-value)"})," called failed,\n",(0,i.jsx)(e.code,{children:"var(--invalid-value, backup-value)"})," get ",(0,i.jsx)(e.code,{children:"backup-value"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"--empty-value: ;"})," is valid ",(0,i.jsx)(e.code,{children:"empty"})," value\nleading to ",(0,i.jsx)(e.code,{children:"var(--empty-value)"})," called succeeded,\n",(0,i.jsx)(e.code,{children:"var(--empty-value, backup-value)"})," get ",(0,i.jsx)(e.code,{children:"unset"})," value\n(",(0,i.jsx)(e.code,{children:"inherit"})," or ",(0,i.jsx)(e.code,{children:"initial"})," value)."]}),"\n",(0,i.jsxs)(e.li,{children:["Use ",(0,i.jsx)(e.code,{children:"invalid"})," and ",(0,i.jsx)(e.code,{children:"empty"})," value to\nimplement ",(0,i.jsx)(e.code,{children:"if (true)"})," statement,\nyou can see real world case on ",(0,i.jsx)(e.code,{children:"tailwind.css"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:":root {\n  --on: initial;\n  --off: ;\n}\n\nbutton {\n  --is-raised: var(--off);\n\n  border: 1px solid var(--is-raised, rgb(0 0 0 / 10%));\n}\n\nbutton:hover,\nbutton:focus {\n  --is-raised: var(--on);\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:"/**\n * css-media-vars\n * BSD 2-Clause License\n * Copyright (c) James0x57, PropJockey, 2020\n */\n\nhtml {\n  --media-print: initial;\n  --media-screen: initial;\n  --media-speech: initial;\n  --media-xs: initial;\n  --media-sm: initial;\n  --media-md: initial;\n  --media-lg: initial;\n  --media-xl: initial;\n\n  /* ... */\n  --media-pointer-fine: initial;\n  --media-pointer-none: initial;\n}\n\n/* \u628a\u5f53\u524d\u53d8\u91cf\u53d8\u4e3a\u7a7a\u503c */\n@media print {\n  html {\n    --media-print: ;\n  }\n}\n\n@media screen {\n  html {\n    --media-screen: ;\n  }\n}\n\n/* \u628a\u5f53\u524d\u53d8\u91cf\u53d8\u4e3a\u7a7a\u503c */\n@media (width <= 37.499em) {\n  html {\n    --media-xs: ;\n    --media-lte-sm: ;\n    --media-lte-md: ;\n    --media-lte-lg: ;\n  }\n}\n\n/** \u79fb\u52a8\u4f18\u5148\u7684\u6837\u5f0f\u89c4\u5219 */\n.breakpoints-demo > * {\n  /** \u5c0f\u4e8e 37.5em, \u5bbd\u5ea6 100%  */\n  --xs-width: var(--media-xs) 100%;\n\n  /** \u5c0f\u4e8e 56.249em, \u5bbd\u5ea6 49%  */\n  --sm-width: var(--media-sm) 49%;\n  --md-width: var(--media-md) 32%;\n  --lg-width: var(--media-gte-lg) 24%;\n\n  width: var(--xs-width, var(--sm-width, var(--md-width, var(--lg-width))));\n\n  --sm-and-down-bg: var(--media-lte-sm) red;\n  --md-and-up-bg: var(--media-gte-md) green;\n\n  background: var(--sm-and-down-bg, var(--md-and-up-bg));\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://projects.verou.me/talks/dynamic-css-secrets",children:"Space toggle"}),"\nfor progressive enhancement"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:":root {\n  --in-oklab: ;\n}\n\n@supports (background: linear-gradient(in oklab, red, tan)) {\n  :root {\n    --in-oklab: in oklab;\n  }\n}\n\n/* Usage: */\n.card {\n  background: linear-gradient(var(--in-oklab) #f00, #0f0);\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"limit",children:"Limit"}),"\n",(0,i.jsxs)(e.p,{children:["For some CSS values and units have limits (e.g. ",(0,i.jsx)(e.code,{children:"<color>"}),"),\nuse variables to implement ",(0,i.jsx)(e.code,{children:"if else"})," statement."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:":root {\n  --red: 44;\n  --green: 135;\n  --blue: 255;\n\n  /**\n   * \u4eae\u5ea6\u7b97\u6cd5:\n   * lightness = (red * 0.2126 + green * 0.7152 + blue * 0.0722) / 255\n   */\n  --lightness: calc((var(--red) * 0.2126 + var(--green) * 0.7152 + var(--blue) * 0.0722) / 255);\n}\n\n.button {\n  /* \u6587\u5b57\u989c\u8272, \u53ea\u53ef\u80fd\u662f\u9ed1\u8272\u6216\u767d\u8272 */\n  color: hsl(0% 0% calc((var(--lightness) - 0.5) * -999999%));\n\n  /* \u6587\u5b57\u9634\u5f71, \u9ed1\u8272\u6587\u5b57\u624d\u4f1a\u51fa\u73b0 */\n  text-shadow: 1px 1px\n    rgb(calc(var(--red) + 50) calc(var(--green) + 50) calc(var(--blue) + 50) / calc((var(--lightness) - 0.5) * 9999));\n\n  /* \u80cc\u666f\u989c\u8272 */\n  background: rgb(var(--red) var(--green) var(--blue));\n\n  /* \u56fa\u5b9a\u6837\u5f0f */\n  border: 0.2em solid;\n\n  /* \u8fb9\u6846\u6837\u5f0f, \u4eae\u5ea6\u5927\u4e8e 0.8 \u624d\u51fa\u73b0 */\n  border-color: rgb(\n    calc(var(--red) - 50) calc(var(--green) - 50) calc(var(--blue) - 50) / calc((var(--lightness) - 0.8) * 100)\n  );\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"dark-mode",children:"Dark Mode"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:":root {\n  /* Themes */\n  --bg-light: #fff;\n  --text-light: #000;\n  --bg-dark: #000;\n  --text-dark: #fff;\n\n  /* Defaults */\n  --bg: var(--bg-light);\n  --text: var(--text-light);\n}\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --bg: var(--bg-dark);\n    --text: var(--text-dark);\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"apis",children:"APIs"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:".element {\n  height: 100vh; /* Fallback for browsers that do not support Custom Properties */\n  height: calc(var(--vh, 1vh) * 100);\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"window.addEventListener('resize', () => {\n  const vh = window.innerHeight * 0.01\n  document.documentElement.style.setProperty('--vh', `${vh}px`)\n})\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"const root = document.documentElement\nconst bgColor = getComputedStyle(root).getPropertyValue('--body-bg')\n"})}),"\n",(0,i.jsxs)(e.p,{children:["Change ",(0,i.jsx)(e.code,{children:"--cursor-x"})," and ",(0,i.jsx)(e.code,{children:"--cursor-y"})," via ",(0,i.jsx)(e.code,{children:"JavaScript"})," API:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:":root::before {\n  position: fixed;\n  z-index: 1000;\n  display: block;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  content: '';\n  background: radial-gradient(\n    circle 16vmax at var(--cursor-x) var(--cursor-y),\n    rgb(0 0 0 / 0%) 0%,\n    rgb(0 0 0 / 50%) 80%,\n    rgb(0 0 0 / 80%) 100%\n  );\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:["Change ",(0,i.jsx)(e.code,{children:"--percent"})," via ",(0,i.jsx)(e.code,{children:"JavaScript"})," API:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:".bar {\n  display: flex;\n  height: 20px;\n  background-color: #f5f5f5;\n}\n\n.bar::before {\n  display: flex;\n  justify-content: end;\n  width: calc(var(--percent) * 1%);\n  font-size: 12px;\n  color: #fff;\n  white-space: nowrap;\n  content: counter(progress) '%\\2002';\n  counter-reset: progress var(--percent);\n  background: #2486ff;\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"property",children:"Property"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://developer.mozilla.org/docs/Web/CSS/@property",children:(0,i.jsx)(e.code,{children:"@property"})}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:"@property --property-name {\n  syntax: '<color>';\n  inherits: false;\n  initial-value: #c0ffee;\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://developer.mozilla.org/docs/Web/API/CSS/RegisterProperty",children:(0,i.jsx)(e.code,{children:"CSS.registerProperty()"})}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"window.CSS.registerProperty({\n  name: '--my-color',\n  syntax: '<color>',\n  inherits: false,\n  initialValue: '#c0ffee',\n})\n"})}),"\n",(0,i.jsxs)(e.p,{children:["CSS \u4e0d\u652f\u6301\u80cc\u666f\u6e10\u53d8\u8272\u7684\u76f4\u63a5\u8fc7\u6e21\u52a8\u753b,\n\u9700\u8981\u4f7f\u7528",(0,i.jsx)(e.strong,{children:"\u4e24\u5c42"}),"\u80cc\u666f\u6e10\u53d8 (",(0,i.jsx)(e.code,{children:"background"})," + ",(0,i.jsx)(e.code,{children:"::before"}),"/",(0,i.jsx)(e.code,{children:"::after"})," ",(0,i.jsx)(e.code,{children:"background"}),")\n",(0,i.jsxs)(e.a,{href:"https://codepen.io/chriscoyier/pen/eRbLWP",children:[(0,i.jsx)(e.code,{children:"opacity"})," \u53d8\u5316"]}),"\n\u5b9e\u73b0\u6e10\u53d8\u80cc\u666f\u7684\u8fc7\u6e21\u52a8\u753b."]}),"\n",(0,i.jsxs)(e.p,{children:["\u73b0\u5728,\n\u53ef\u4ee5\u5bf9 ",(0,i.jsx)(e.a,{href:"https://juejin.cn/post/6951201528543707150",children:"CSS Houdini \u81ea\u5b9a\u4e49\u53d8\u91cf"}),"\n\u8bbe\u7f6e ",(0,i.jsx)(e.code,{children:"transition"}),"/",(0,i.jsx)(e.code,{children:"animation"}),",\n\u5feb\u901f\u5b9e\u73b0\u6e10\u53d8\u80cc\u666f\u7684\u8fc7\u6e21\u52a8\u753b:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:"@property --houdini-color-a {\n  syntax: '<color>';\n  inherits: false;\n  initial-value: #fff;\n}\n\n@property --houdini-color-b {\n  syntax: '<color>';\n  inherits: false;\n  initial-value: fuchsia;\n}\n\n.box {\n  background: linear-gradient(45deg, var(--houdini-color-a), var(--houdini-color-b));\n\n  /* stylelint-disable-next-line custom-property-no-missing-var-function */\n  transition: 1s --houdini-color-a;\n  animation: change 10s infinite linear;\n}\n\n.box:hover {\n  --houdini-color-a: yellowgreen;\n}\n\n@keyframes change {\n  20% {\n    --houdini-color-b: red;\n  }\n\n  40% {\n    --houdini-color-b: #ff3c41;\n  }\n\n  60% {\n    --houdini-color-b: orange;\n  }\n\n  80% {\n    --houdini-color-b: #ae63e4;\n  }\n}\n\n@property --per {\n  syntax: '<percentage>';\n  inherits: false;\n  initial-value: 25%;\n}\n\n.pie {\n  background: conic-gradient(yellowgreen, yellowgreen var(--per), transparent var(--per), transparent 100%);\n\n  /* stylelint-disable-next-line custom-property-no-missing-var-function */\n  transition: --per 300ms linear;\n}\n\n.pie:hover {\n  --per: 60%;\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"@property"})," feature detection and fallback:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:"@property --parent-em {\n  syntax: '<length>';\n  initial-value: 0;\n  inherits: true;\n}\n\n@property --no-at-property-fallback {\n  syntax: '*';\n  inherits: false;\n}\n\nselect {\n  --parent-em: 1em;\n  --no-at-property-fallback: 1em;\n}\n\noptgroup {\n  /* Will only inherit if `@property` not supported */\n  font-size: var(--no-at-property-fallback, 0);\n}\n\noptgroup > * {\n  font-size: var(--parent-em);\n}\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},86145:(n,e,r)=>{r.d(e,{R:()=>l,x:()=>t});var a=r(57140);const i={},s=a.createContext(i);function l(n){const e=a.useContext(s);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),a.createElement(s.Provider,{value:e},n.children)}}}]);