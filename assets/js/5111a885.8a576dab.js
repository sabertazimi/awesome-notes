"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[10753],{74846:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"web/typescript/modifier","title":"Modifiers","description":"Member Access","source":"@site/content/web/typescript/modifier.md","sourceDirName":"web/typescript","slug":"/web/typescript/modifier","permalink":"/notes/web/typescript/modifier","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/typescript/modifier.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"TypeScript","permalink":"/notes/tags/type-script"},{"inline":true,"label":"Modifier","permalink":"/notes/tags/modifier"},{"inline":true,"label":"Public","permalink":"/notes/tags/public"},{"inline":true,"label":"Protected","permalink":"/notes/tags/protected"},{"inline":true,"label":"Private","permalink":"/notes/tags/private"},{"inline":true,"label":"Readonly","permalink":"/notes/tags/readonly"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":7,"frontMatter":{"sidebar_position":7,"tags":["Web","TypeScript","Modifier","Public","Protected","Private","Readonly"]},"sidebar":"tutorialSidebar","previous":{"title":"Interface","permalink":"/notes/web/typescript/interface"},"next":{"title":"Signature","permalink":"/notes/web/typescript/signature"}}');var o=t(35656),s=t(86145);const i={sidebar_position:7,tags:["Web","TypeScript","Modifier","Public","Protected","Private","Readonly"]},a="Modifiers",c={},l=[{value:"Member Access",id:"member-access",level:2},{value:"Readonly",id:"readonly",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"modifiers",children:"Modifiers"})}),"\n",(0,o.jsx)(n.h2,{id:"member-access",children:"Member Access"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"public"}),", ",(0,o.jsx)(n.code,{children:"protected"})," and ",(0,o.jsx)(n.code,{children:"private"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"class Singleton {\n  private static instance: Singleton\n  private constructor() {\n    // ..\n  }\n\n  public static getInstance() {\n    if (!Singleton.instance)\n      Singleton.instance = new Singleton()\n\n    return Singleton.instance\n  }\n\n  someMethod() {}\n}\n\nconst someThing = new Singleton() // Error: constructor of 'singleton' is private\n\nconst instance = Singleton.getInstance() // do some thing with the instance\n"})}),"\n",(0,o.jsx)(n.h2,{id:"readonly",children:"Readonly"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"readonly"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"interface Foo {\n  readonly bar: number\n  readonly bas: number\n}\n\n// \u521d\u59cb\u5316\nconst foo: Foo = { bar: 123, bas: 456 }\n\n// \u4e0d\u80fd\u88ab\u6539\u53d8\nfoo.bar = 456 // Error: foo.bar \u4e3a\u4ec5\u8bfb\u5c5e\u6027\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"readonly"})," indexable signature:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"type Foo = Readonly<Record<number, number>>\n\n// \u4f7f\u7528\n\nconst foo: Foo = { 0: 123, 2: 345 }\nconsole.log(foo[0]) // ok (\u8bfb\u53d6)\nfoo[0] = 456 // Error: \u5c5e\u6027\u53ea\u8bfb\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"readonly"})," class properties:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"class Foo {\n  readonly bar = 1 // OK\n  readonly baz: string\n  constructor() {\n    this.baz = 'hello' // OK\n  }\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"readonly"})," generic type:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"interface Foo {\n  bar: number\n  bas: number\n}\n\ntype FooReadonly = Readonly<Foo>\n\nconst foo: Foo = { bar: 123, bas: 456 }\nconst fooReadonly: FooReadonly = { bar: 123, bas: 456 }\n\nfoo.bar = 456 // ok\nfooReadonly.bar = 456 // Error: bar \u5c5e\u6027\u53ea\u8bfb\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"readonly"})," ",(0,o.jsx)(n.code,{children:"React"})," props:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"class Something extends React.Component<{ foo: number }, { baz: number }> {\n  someMethod() {\n    this.props.foo = 123 // Error: props \u662f\u4e0d\u53ef\u53d8\u7684\n    this.state.baz = 456 // Error: \u4f60\u5e94\u8be5\u4f7f\u7528 this.setState()\n  }\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"readonly"})," is shallow:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"const dates: readonly Date[] = [new Date()]\ndates.push(new Date()) // Error\ndates[0].setFullYear(2037) // OK\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},86145:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var r=t(57140);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);