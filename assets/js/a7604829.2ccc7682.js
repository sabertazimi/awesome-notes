"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[79170],{83841:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>s});const t=JSON.parse('{"id":"programming/android/ui","title":"UI","description":"N activities can respond to a particular intent:","source":"@site/content/programming/android/ui.md","sourceDirName":"programming/android","slug":"/programming/android/ui","permalink":"/notes/programming/android/ui","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/android/ui.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"Android","permalink":"/notes/tags/android"},{"inline":true,"label":"UI","permalink":"/notes/tags/ui"},{"inline":true,"label":"Layout","permalink":"/notes/tags/layout"},{"inline":true,"label":"Component","permalink":"/notes/tags/component"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"tags":["Programming","Android","UI","Layout","Component"]},"sidebar":"tutorialSidebar","previous":{"title":"Lifecycle","permalink":"/notes/programming/android/lifecycle"},"next":{"title":"Broadcast","permalink":"/notes/programming/android/broadcast"}}');var a=i(35656),r=i(86145);const o={sidebar_position:3,tags:["Programming","Android","UI","Layout","Component"]},l="UI",d={},s=[{value:"Layout",id:"layout",level:2},{value:"Table",id:"table",level:3},{value:"Component",id:"component",level:2},{value:"AlertDialog",id:"alertdialog",level:3},{value:"List View",id:"list-view",level:3},{value:"Custom Layout",id:"custom-layout",level:4},{value:"Listener",id:"listener",level:4},{value:"Customization",id:"customization",level:3},{value:"Drawable",id:"drawable",level:2}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"ui",children:"UI"})}),"\n",(0,a.jsxs)(n.admonition,{type:"tip",children:[(0,a.jsx)(n.p,{children:"N activities can respond to a particular intent:"}),(0,a.jsx)(n.p,{children:"Android will pop(\u5f39\u51fa) up a little dialogue list(\u5bf9\u8bdd\u6846) to\nuser showing application icon defining the intent"}),(0,a.jsx)(n.p,{children:"\u5f53\u6709\u591a\u4e2a\u6d3b\u52a8\u53ef\u76f8\u5e94\u67d0\u4e2a\u7279\u5b9a\u610f\u56fe\u65f6\uff0c\u7cfb\u7edf\u5c06\u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\u63d0\u793a\u7528\u6237\u9009\u62e9\u4e00\u4e2a\u5e94\u7528\u7684\u6d3b\u52a8\u6216\u8005\u8bbe\u5b9a\u9ed8\u8ba4\u503c (default)"}),(0,a.jsx)(n.p,{children:"e.g. web browsers"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<intent-filter>\n  <action android:name="android.intent.action.MAIN" />\n  <category android:name="android.intent.category.LAUNCHER" />\n</intent-filter>\n'})})]}),"\n",(0,a.jsx)(n.h2,{id:"layout",children:"Layout"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"android:layout_weight"})," \u81ea\u9002\u914d\u5e03\u5c40"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"android:SingleLine"})," \u5355\u884c\u663e\u793a\u6a21\u5f0f"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:'android:ellipsize="end"'})," \u6587\u5b57\u8fc7\u591a\u65f6\u7f29\u7565\u65b9\u5f0f"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"LayoutInflater \u4f5c\u7528\u662f\u5c06 layout \u7684 xml \u5e03\u5c40\u6587\u4ef6\u5b9e\u4f8b\u5316\u4e3a View \u7c7b\u5bf9\u8c61\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"View view = LayoutInflater.from(context).inflate(R.layout.title, this/null);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"table",children:"Table"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:'<TableLayout android:stretchColumns="1">'})," \u62c9\u4f38\u7b2c 2 \u5217"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:'android:layout_span="2"'})," \u5360 2 \u5217"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"component",children:"Component"}),"\n",(0,a.jsx)(n.p,{children:"View(ViewGroup): e.g. button\u3001textbox(\u6587\u672c\u6846)\u3001checkbox(\u590d\u9009\u6846)"}),"\n",(0,a.jsx)(n.h3,{id:"alertdialog",children:"AlertDialog"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'//builder pattern\nAlertDialog.Builder dialogBuilder = new AlertDialog.Builder(context);\n\ndialogBuilder.setTitle("Warning");\ndialogBuilder.setMessage("You are forced to be offline. Please try to login again.");\ndialogBuilder.setCancelable(false);\ndialogBuilder.setPositiveButton("OK", new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        ActivityCollector.finishAll(); // \u9500\u6bc1\u6240\u6709\u6d3b\u52a8\n        Intent intent = new Intent(context, LoginActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(intent); // \u91cd\u65b0\u542f\u52a8LoginActivity\n    }\n});\n\nAlertDialog alertDialog = dialogBuilder.create();\n\n// \u9700\u8981\u8bbe\u7f6eAlertDialog\u7684\u7c7b\u578b,\u4fdd\u8bc1\u5728\u5e7f\u64ad\u63a5\u6536\u5668\u4e2d\u53ef\u4ee5\u6b63\u5e38\u5f39\u51fa\nalertDialog.getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_ALERT);\n\nalertDialog.show();\n'})}),"\n",(0,a.jsx)(n.h3,{id:"list-view",children:"List View"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"ArrayAdapter<String> adapter = new ArrayAdapter<String>(\n    MainActivity.this, android.R.layout.simple_list_item_1, data\n);\nlistView.setAdapter(adapter);\n"})}),"\n",(0,a.jsx)(n.h4,{id:"custom-layout",children:"Custom Layout"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Custom class"}),"\n",(0,a.jsx)(n.li,{children:"Custom Sub Xml(\u5355\u9879)"}),"\n",(0,a.jsxs)(n.li,{children:["Custom ArrayAdapter","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u91cd\u5199\u6784\u9020\u51fd\u6570"}),"\n",(0,a.jsxs)(n.li,{children:["\u91cd\u5199 getView \u65b9\u6cd5","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u91cd\u7528 convertView \u63d0\u5347\u6027\u80fd"}),"\n",(0,a.jsx)(n.li,{children:"ViewHolder \u63d0\u5347\u6027\u80fd"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"\n//\u5185\u90e8\u7c7b\uff0c\u5176\u4e2d\u5b57\u6bb5\u4e0e\u81ea\u5b9a\u4e49class\u7684\u5b57\u6bb5\u4e00\u81f4\nclass ViewHolder {\n    ImageView fruitImage;\n    TextView fruitName;\n}\npublic FruitAdapter(\n  Context context,\n  int textViewResourceId,\n  List<Fruit> objects) {\n    super(context, textViewResourceId, objects);\n    resourceId = textViewResourceId;\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n\n    Fruit fruit = getItem(position); // \u83b7\u53d6\u5f53\u524d\u9879\u7684Fruit\u5b9e\u4f8b\n    View view;\n    ViewHolder viewHolder;\n\n    //\u5927\u5e45\u63d0\u5347\u6027\u80fd\n    if (convertView == null) {\n        view = LayoutInflater.from(getContext()).inflate(resourceId, null);\n\n        viewHolder = new ViewHolder();\n        viewHolder.fruitImage = (ImageView) view.findViewById(R.id.fruit_image);\n        viewHolder.fruitName = (TextView) view.findViewById(R.id.fruit_name);\n        view.setTag(viewHolder); // \u5c06ViewHolder\u5b58\u50a8\u5728View\u4e2d\n\n    } else {\n        view = convertView;\n        viewHolder = (ViewHolder) view.getTag(); // \u91cd\u65b0\u83b7\u53d6ViewHolder\n    }\n\n    ImageView fruitImage = (ImageView) view.findViewById(R.id.fruit_image);\n    TextView fruitName = (TextView) view.findViewById(R.id.fruit_name);\n    fruitImage.setImageResource(fruit.getImageId());\n    fruitName.setText(fruit.getName());\n    return view;\n}\n"})}),"\n",(0,a.jsx)(n.h4,{id:"listener",children:"Listener"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"listView.setOnItemClickListener(new OnItemClickListener() {\n    @Override\n    public void onItemClick(\n      AdapterView<?> parent,\n      View view,\n      int position,\n      long id) {\n        Fruit fruit = fruitList.get(position);\n        Toast.makeText(MainActivity.this, fruit.getName(), Toast.LENGTH_SHORT).show();\n    }\n});\n\nadapter.notifyDataSetChanged();           // \u5f53\u6709\u65b0\u6d88\u606f\u65f6,\u5237\u65b0ListView\u4e2d\u7684\u663e\u793a\nmsgListView.setSelection(msgList.size()); // \u5c06ListView\u5b9a\u4f4d\u5230\u6700\u540e\u4e00\u884c\n"})}),"\n",(0,a.jsx)(n.h3,{id:"customization",children:"Customization"}),"\n",(0,a.jsx)(n.p,{children:"custom XML"}),"\n",(0,a.jsx)(n.p,{children:"title.xml"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<LinearLayout\n  xmlns:android="http://schemas.android.com/apk/res/android"\n  android:layout_width="match_parent"\n  android:layout_height="wrap_content"\n  android:background="@drawable/title_bg"\n>\n  <button\n    android:id="@+id/title_back"\n    android:layout_width="wrap_content"\n    android:layout_height="wrap_content"\n    android:layout_gravity="center"\n    android:layout_margin="5dip"\n    android:background="@drawable/back_bg"\n    android:text="Back"\n    android:textColor="#fff"\n  />\n  <TextView\n    android:id="@+id/title_text"\n    android:layout_width="0dip"\n    android:layout_height="wrap_content"\n    android:layout_gravity="center"\n    android:layout_weight="1"\n    android:gravity="center"\n    android:text="Title Text"\n    android:textColor="#fff"\n    android:textSize="24sp"\n  />\n  <button\n    android:id="@+id/title_edit"\n    android:layout_width="wrap_content"\n    android:layout_height="wrap_content"\n    android:layout_gravity="center"\n    android:layout_margin="5dip"\n    android:background="@drawable/edit_bg"\n    android:text="Edit"\n    android:textColor="#fff"\n  />\n</LinearLayout>\n'})}),"\n",(0,a.jsx)(n.p,{children:"custom class"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class TitleLayout extends LinearLayout {\n    public TitleLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        LayoutInflater.from(context).inflate(R.layout.title, this);\n\n        //Register button click Listener\n        titleBack.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ((Activity) getContext()).finish();\n            }\n        });\n        titleEdit.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getContext(), "You clicked Edit button", Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        //other awesome things\n        //like material design ripple effect\n        //animations and music\n    }\n\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"drawable",children:"Drawable"}),"\n",(0,a.jsx)(n.p,{children:"\u4fee\u6539\u7279\u5b9a\u7ec4\u4ef6\u7684\u80cc\u666f\u989c\u8272"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"Resources myColor = getBaseContext().getResources();\n// getBaseContext()\u83b7\u5f97\u57fa\u7840Context\n// getResources()\u83b7\u5f97\u8d44\u6e90\nDrawable color_M = myColor.getDrawable(R.color. lightGreen);\n// \u7531\u8d44\u6e90 myColor\u6765\u83b7\u5f97Drawable\n// R.color.lightGreen\u662f\u989c\u8272\u503c\u7684ID\u5f15\u7528\ntext.setBackgroundDrawable(color_M);\n//\u8bbe\u7f6e\u80cc\u666f\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},86145:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(57140);const a={},r=t.createContext(a);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);