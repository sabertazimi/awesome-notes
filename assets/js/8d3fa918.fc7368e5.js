"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[51189],{4947:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"web/electron/electron","title":"Electron","description":"Getting Started","source":"@site/content/web/electron/electron.md","sourceDirName":"web/electron","slug":"/web/electron/","permalink":"/notes/web/electron/","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/electron/electron.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"Electron","permalink":"/notes/tags/electron"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"frontMatter":{"tags":["Web","Electron"]},"sidebar":"tutorialSidebar","previous":{"title":"Bundlers","permalink":"/notes/web/devops/bundler"},"next":{"title":"GraphQL","permalink":"/notes/web/graphql/"}}');var i=r(35656),l=r(86145);const s={tags:["Web","Electron"]},o="Electron",c={},d=[{value:"Getting Started",id:"getting-started",level:2},{value:"Basic Concepts",id:"basic-concepts",level:2},{value:"Process",id:"process",level:3},{value:"Shared Data",id:"shared-data",level:3},{value:"Process Communication",id:"process-communication",level:2},{value:"Main to Render",id:"main-to-render",level:3},{value:"Render to Main",id:"render-to-main",level:3},{value:"Render to Render",id:"render-to-render",level:3},{value:"Native UI",id:"native-ui",level:2},{value:"Menu",id:"menu",level:3},{value:"Application Menu",id:"application-menu",level:4},{value:"Contextual Menu",id:"contextual-menu",level:4},{value:"Dialog",id:"dialog",level:3},{value:"Security",id:"security",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"electron",children:"Electron"})}),"\n",(0,i.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsxs)(n.p,{children:["Scaffold an Electron project with ",(0,i.jsx)(n.a,{href:"https://github.com/electron/forge",children:"Electron Forge"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm create electron-app@latest\n"})}),"\n",(0,i.jsx)(n.h2,{id:"basic-concepts",children:"Basic Concepts"}),"\n",(0,i.jsx)(n.h3,{id:"process",children:"Process"}),"\n",(0,i.jsx)(n.p,{children:"\u4e3b\u8fdb\u7a0b\u901a\u8fc7\u5b9e\u4f8b\u5316 BrowserWindow\uff0c\u6bcf\u4e2a BrowserWindow \u5b9e\u4f8b\u90fd\u5728\u5b83\u81ea\u5df1\u7684\u6e32\u67d3\u8fdb\u7a0b\u5185\u8fd4\u56de\u4e00\u4e2a web \u9875\u9762\u3002\n\u5f53 BrowserWindow \u5b9e\u4f8b\u9500\u6bc1\u65f6\uff0c\u76f8\u5e94\u7684\u6e32\u67d3\u8fdb\u7a0b\u4e5f\u4f1a\u7ec8\u6b62\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4e3b\u8fdb\u7a0b\u8d1f\u8d23\u638c\u7ba1\u6240\u6709\u7684 web \u9875\u9762\u548c\u5b83\u4eec\u76f8\u5e94\u7684\u6e32\u67d3\u8fdb\u7a0b\u3002\n\u6bcf\u4e2a\u6e32\u67d3\u8fdb\u7a0b\u90fd\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u5b83\u4eec\u53ea\u5173\u5fc3\u81ea\u5df1\u6240\u8fd0\u884c\u7684 web \u9875\u9762\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u9875\u9762\uff08\u6e32\u67d3\u8fdb\u7a0b\uff09\u4e2d\u4e0d\u5141\u8bb8\u8c03\u7528\u539f\u751f GUI \u76f8\u5173\u7684 API\uff0c\u90a3\u662f\u56e0\u4e3a\u5728\u7f51\u9875\uff08\u6e32\u67d3\u8fdb\u7a0b\uff09\u4e2d\u4e2d\u638c\u7ba1\u539f\u751f GUI \u5f88\u5371\u9669\uff0c\u6613\u9020\u6210\u5185\u5b58\u6cc4\u9732\u3002\n\u5982\u679c\u60f3\u5728\u7f51\u9875\u4e2d\u8fdb\u884c GUI \u7684\u64cd\u4f5c\uff0c\u6e32\u67d3\u8fdb\u7a0b\u5fc5\u987b\u5411\u4e3b\u8fdb\u7a0b\u4f20\u8fbe\u8bf7\u6c42\uff0c\u7136\u540e\u5728\u4e3b\u8fdb\u7a0b\u4e2d\u5b8c\u6210\u64cd\u4f5c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5728 Electron \u4e2d\uff0c\u6709\u51e0\u79cd\u8fde\u63a5\u4e3b\u8fdb\u7a0b\u548c\u6e32\u67d3\u8fdb\u7a0b\u7684\u65b9\u6cd5\uff0c\n\u4f8b\u5982\u7528\u4e8e\u4f20\u9001\u6d88\u606f\u7684 ipcRenderer \u548c ipcMain \u6a21\u5757\uff0c\u4ee5\u53ca\u7528\u4e8e RPC \u7684 remote \u6a21\u5757."}),"\n",(0,i.jsx)(n.h3,{id:"shared-data",children:"Shared Data"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/API/Storage",children:"Web Storage API"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/API/IndexedDB_API",children:"IndexedDB"})}),"\n",(0,i.jsx)(n.li,{children:"Electron IPC"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// main process\nglobalThis.sharedObject = {\n  someProperty: 'default value',\n}\n\n// render process 1\nrequire('remote').getGlobal('sharedObject').someProperty = 'new value'\n\n// render process 2\nconsole.log(require('remote').getGlobal('sharedObject').someProperty)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"process-communication",children:"Process Communication"}),"\n",(0,i.jsx)(n.h3,{id:"main-to-render",children:"Main to Render"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"webContents.executeJavaScript"}),"\n",(0,i.jsx)(n.li,{children:"ipcRenderer"}),"\n",(0,i.jsx)(n.li,{children:"ipcMain"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"render-to-main",children:"Render to Main"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"remote module"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const { BrowserWindow } = require('electron').remote\n\nconst win = new BrowserWindow({ width: 800, height: 600 })\nwin.loadURL('https://github.com')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"render-to-render",children:"Render to Render"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Web Storage API"}),"\n",(0,i.jsx)(n.li,{children:"IndexedDB"}),"\n",(0,i.jsx)(n.li,{children:"Electron IPC e.g. remote.getGlobal"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"native-ui",children:"Native UI"}),"\n",(0,i.jsx)(n.h3,{id:"menu",children:"Menu"}),"\n",(0,i.jsx)(n.h4,{id:"application-menu",children:"Application Menu"}),"\n",(0,i.jsx)(n.h4,{id:"contextual-menu",children:"Contextual Menu"}),"\n",(0,i.jsx)(n.h3,{id:"dialog",children:"Dialog"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"openFile"}),"\n",(0,i.jsx)(n.li,{children:"openDirectory"}),"\n",(0,i.jsx)(n.li,{children:"multiSelections"}),"\n",(0,i.jsx)(n.li,{children:"createDirectory"}),"\n",(0,i.jsx)(n.li,{children:"showHiddenFiles"}),"\n",(0,i.jsx)(n.li,{children:"promptToCreate: windows only."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"only load secure content (HTTPS/WSS/FTPS)"}),"\n",(0,i.jsx)(n.li,{children:"verify integrity of scripts via CSP and SRI"}),"\n",(0,i.jsx)(n.li,{children:"don't trust external resources"}),"\n",(0,i.jsx)(n.li,{children:"disable nodejs in renderers that display remote content"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"let win\n\nfunction createBrowserWindow() {\n  win = new BrowserWindow({\n    width: 800,\n    height: 600,\n    title: 'Electron App',\n    webPreferences: {\n      nodeIntegration: false,\n      preload: path.join(__dirname, 'preload.js'),\n    },\n  })\n}\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// preload.js\nconst fs = require('node:fs')\n\nglobalThis.desktop = {\n  files: () => fs.readdirSync(__dirname),\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},86145:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>o});var t=r(57140);const i={},l=t.createContext(i);function s(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);