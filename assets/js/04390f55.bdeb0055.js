"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[3359],{21729:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"programming/design/patterns/mediator","title":"Mediator","description":"\u4e00\u4e2a Mediator \u5bf9\u8c61\u5c01\u88c5\u5bf9\u8c61\u95f4\u7684\u534f\u8bae (\u4e2d\u592e\u96c6\u6743\u7684\u63a7\u5236\u4e2d\u5fc3):","source":"@site/content/programming/design/patterns/mediator.md","sourceDirName":"programming/design/patterns","slug":"/programming/design/patterns/mediator","permalink":"/notes/programming/design/patterns/mediator","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/design/patterns/mediator.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"Design","permalink":"/notes/tags/design"},{"inline":true,"label":"Design Pattern","permalink":"/notes/tags/design-pattern"},{"inline":true,"label":"Behavioral Pattern","permalink":"/notes/tags/behavioral-pattern"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":16,"frontMatter":{"sidebar_position":16,"tags":["Programming","Design","Design Pattern","Behavioral Pattern"]},"sidebar":"tutorialSidebar","previous":{"title":"Iterator","permalink":"/notes/programming/design/patterns/iterator"},"next":{"title":"Observer","permalink":"/notes/programming/design/patterns/observer"}}');var o=t(35656),r=t(86145);const i={sidebar_position:16,tags:["Programming","Design","Design Pattern","Behavioral Pattern"]},a="Mediator",l={},c=[];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"mediator",children:"Mediator"})}),"\n",(0,o.jsx)(n.p,{children:"\u4e00\u4e2a Mediator \u5bf9\u8c61\u5c01\u88c5\u5bf9\u8c61\u95f4\u7684\u534f\u8bae (\u4e2d\u592e\u96c6\u6743\u7684\u63a7\u5236\u4e2d\u5fc3):"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Defines an object that encapsulates how a set of objects interact."}),"\n",(0,o.jsx)(n.li,{children:"\u6240\u6709\u89c2\u5bdf\u8005\u5171\u4eab\u4e00\u4e2a\u5171\u6709\u7684\u88ab\u89c2\u5bdf\u8005 (\u6240\u6709\u8ba2\u9605\u8005\u8ba2\u9605\u540c\u4e00\u4e2a\u8282\u70b9)."}),"\n",(0,o.jsx)(n.li,{children:"\u89e3\u9664\u5bf9\u8c61\u95f4\u7684\u5f3a\u8026\u5408\u5173\u7cfb (\u6700\u5c11\u77e5\u8bc6\u539f\u5219), \u72ec\u7acb\u5730\u6539\u53d8\u5bf9\u8c61\u95f4\u7684\u4ea4\u4e92\u65b9\u5f0f."}),"\n",(0,o.jsx)(n.li,{children:"\u7f51\u72b6\u7684\u591a\u5bf9\u591a\u5173\u7cfb => \u76f8\u5bf9\u7b80\u5355\u7684\u4e00\u5bf9\u591a\u5173\u7cfb."}),"\n",(0,o.jsxs)(n.li,{children:["\u5b58\u5728\u5355\u70b9\u6545\u969c (",(0,o.jsx)(n.code,{children:"Single Point of Failure"}),") \u53ef\u80fd, \u9700\u8981\u5bb9\u707e\u5907\u4efd."]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{title:"Mediator Use Case",type:"tip",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u804a\u5929\u5ba4."}),"\n",(0,o.jsx)(n.li,{children:"\u4ea4\u901a\u7cfb\u7edf."}),"\n",(0,o.jsx)(n.li,{children:"\u6307\u6325\u4e2d\u5fc3."}),"\n",(0,o.jsx)(n.li,{children:"\u6e38\u620f\u670d\u52a1\u5668."}),"\n",(0,o.jsxs)(n.li,{children:["DOM event bubbling and delegation: ",(0,o.jsx)(n.code,{children:"document"})," serves as a ",(0,o.jsx)(n.code,{children:"Mediator"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Global state store: A action => store => B change."}),"\n"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"class Person {\n  constructor(name) {\n    this.name = name\n    this.chatLog = []\n  }\n\n  receive(sender, message) {\n    const s = `${sender}: '${message}'`\n    console.log(`[${this.name}'s chat session] ${s}`)\n    this.chatLog.push(s)\n  }\n\n  say(message) {\n    this.room.broadcast(this.name, message)\n  }\n\n  pm(who, message) {\n    this.room.message(this.name, who, message)\n  }\n}\n\nclass ChatRoom {\n  constructor() {\n    this.people = []\n  }\n\n  broadcast(source, message) {\n    for (const p of this.people) {\n      if (p.name !== source)\n        p.receive(source, message)\n    }\n  }\n\n  join(p) {\n    const joinMsg = `${p.name} joins the chat`\n    this.broadcast('room', joinMsg)\n    p.room = this\n    this.people.push(p)\n  }\n\n  message(source, destination, message) {\n    for (const p of this.people) {\n      if (p.name === destination)\n        p.receive(source, message)\n    }\n  }\n}\n\nconst room = new ChatRoom()\nconst zee = new Person('Zee')\nconst shan = new Person('Shan')\n\nroom.join(zee)\nroom.join(shan)\nzee.say('Hello!!')\n\nconst doe = new Person('Doe')\nroom.join(doe)\ndoe.say('Hello everyone!')\n"})})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},86145:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(57140);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);