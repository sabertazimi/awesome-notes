"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[65909],{22530:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>c,metadata:()=>i,toc:()=>s});const i=JSON.parse('{"id":"programming/android/lifecycle","title":"Lifecycle","description":"Activity","source":"@site/content/programming/android/lifecycle.md","sourceDirName":"programming/android","slug":"/programming/android/lifecycle","permalink":"/notes/programming/android/lifecycle","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/android/lifecycle.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"Android","permalink":"/notes/tags/android"},{"inline":true,"label":"Lifecycle","permalink":"/notes/tags/lifecycle"},{"inline":true,"label":"Activity","permalink":"/notes/tags/activity"},{"inline":true,"label":"Fragment","permalink":"/notes/tags/fragment"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"tags":["Programming","Android","Lifecycle","Activity","Fragment"]},"sidebar":"tutorialSidebar","previous":{"title":"Toolchain","permalink":"/notes/programming/android/toolchain"},"next":{"title":"UI","permalink":"/notes/programming/android/ui"}}');var a=t(35656),r=t(86145);const c={sidebar_position:2,tags:["Programming","Android","Lifecycle","Activity","Fragment"]},l="Lifecycle",d={},s=[{value:"Activity",id:"activity",level:2},{value:"Base",id:"base",level:3},{value:"Collector",id:"collector",level:3},{value:"Start",id:"start",level:3},{value:"Fragment",id:"fragment",level:2},{value:"XML",id:"xml",level:3},{value:"Create",id:"create",level:3},{value:"Add",id:"add",level:3},{value:"Transfer Information",id:"transfer-information",level:2},{value:"In Activity",id:"in-activity",level:3},{value:"In Fragment",id:"in-fragment",level:3},{value:"Runtime Loop",id:"runtime-loop",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"lifecycle",children:"Lifecycle"})}),"\n",(0,a.jsx)(n.h2,{id:"activity",children:"Activity"}),"\n",(0,a.jsx)(n.h3,{id:"base",children:"Base"}),"\n",(0,a.jsx)(n.p,{children:"\u67e5\u770b\u5f53\u524d\u754c\u9762\u5c5e\u4e8e\u54ea\u4e2a Activity\uff0c\u81ea\u5b9a\u4e49 Activity \u7ee7\u627f BaseActivity"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class BaseActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Log.d("BaseActivity", getClass().getSimpleName());\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"collector",children:"Collector"}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u6240\u6709 Activity \u7684 onCreate \u65b9\u6cd5\u8c03\u7528\u9759\u6001\u7684 addActivity \u65b9\u6cd5\uff0conDestroy \u65b9\u6cd5\u8c03\u7528\u9759\u6001\u7684 removeActivity \u65b9\u6cd5\u3002"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"ActivityCollector.addActivity(this);"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"ActivityCollector.removeActivity(this);"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"public class ActivityCollector {\n\n    public static List<Activity> activities = new ArrayList<Activity>();\n\n    public static void addActivity(Activity activity) {\n        activities.add(activity);\n\n    }\n\n    public static void removeActivity(Activity activity) {\n        activities.remove(activity);\n\n    }\n\n    public static void finishAll() {\n        for (Activity activity : activities) {\n            if (!activity.isFinishing()) {\n                activity.finish();\n            }\n        }\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"start",children:"Start"}),"\n",(0,a.jsx)(n.p,{children:"\u4e3a\u6bcf\u4e2a Activity \u6dfb\u52a0\u9759\u6001\u7684 actionStart \u65b9\u6cd5\uff0c\u4f9b\u5176\u4ed6 Activity \u542f\u7528\u6b64 Activity"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public static void actionStart(Context context, String data1, String data2) {\n    Intent intent = new Intent(context, thisActivity.class);\n    intent.putExtra("param1", data1);\n    intent.putExtra("param2", data2);\n    context.startActivity(intent);\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"fragment",children:"Fragment"}),"\n",(0,a.jsx)(n.p,{children:"android.app.Fragment"}),"\n",(0,a.jsx)(n.h3,{id:"xml",children:"XML"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<fragment\n  android:id="@+id/right_fragment"\n  android:name="com.example.fragmentTest.RightFragment"\n  android:layout_width="0dp"\n  android:layout_height="match_parent"\n  android:layout_weight="1"\n></fragment>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"create",children:"Create"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"@Override\npublic View onCreateView(\n  LayoutInflater inflater,\n  ViewGroup container,\n  Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.left_fragment, container, false);\n    return view;\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"add",children:"Add"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"AnotherRightFragment fragment = new AnotherRightFragment();\nFragmentTransaction transaction = getFragmentManager.beginTransaction();\n\n//\u5bb9\u5668\u7684 id \u548c\u5f85\u6dfb\u52a0\u7684\u788e\u7247\u5b9e\u4f8b\ntransaction.replace(R.id.right_layout, fragment);\n//\u6a21\u62df\u8fd4\u56de\u6808\ntransaction.addToBackStack(null);\ntransaction.commit();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"transfer-information",children:"Transfer Information"}),"\n",(0,a.jsx)(n.h3,{id:"in-activity",children:"In Activity"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"getFragmentManager().findFragmentById(R.id.right_fragment);"})}),"\n",(0,a.jsx)(n.h3,{id:"in-fragment",children:"In Fragment"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"MainActivity activity = (MainActivity) getActivity();"})}),"\n",(0,a.jsx)(n.h2,{id:"runtime-loop",children:"Runtime Loop"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"onAttach()"}),"\n\u5f53\u788e\u7247\u548c\u6d3b\u52a8\u5efa\u7acb\u5173\u8054\u7684\u65f6\u5019\u8c03\u7528\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"onCreateView()"}),"\n\u4e3a\u788e\u7247\u521b\u5efa\u89c6\u56fe(\u52a0\u8f7d\u5e03\u5c40)\u65f6\u8c03\u7528\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"onActivityCreated()"}),"\n\u786e\u4fdd\u4e0e\u788e\u7247\u76f8\u5173\u8054\u7684\u6d3b\u52a8\u4e00\u5b9a\u5df2\u7ecf\u521b\u5efa\u5b8c\u6bd5\u7684\u65f6\u5019\u8c03\u7528\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"onDestroyView()"}),"\n\u5f53\u4e0e\u788e\u7247\u5173\u8054\u7684\u89c6\u56fe\u88ab\u79fb\u9664\u7684\u65f6\u5019\u8c03\u7528\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"onDetach()"}),"\n\u5f53\u788e\u7247\u548c\u6d3b\u52a8\u89e3\u9664\u5173\u8054\u7684\u65f6\u5019\u8c03\u7528\u3002"]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},86145:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>l});var i=t(57140);const a={},r=i.createContext(a);function c(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);