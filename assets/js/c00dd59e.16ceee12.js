"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[63545],{55223:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"programming/linux/shell","title":"Shell Scripts","description":"Warnings","source":"@site/content/programming/linux/shell.md","sourceDirName":"programming/linux","slug":"/programming/linux/shell","permalink":"/notes/programming/linux/shell","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/linux/shell.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"OS","permalink":"/notes/tags/os"},{"inline":true,"label":"Linux","permalink":"/notes/tags/linux"},{"inline":true,"label":"Shell","permalink":"/notes/tags/shell"}],"version":"current","lastUpdatedBy":"sabertazimi","lastUpdatedAt":1769528151000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"tags":["Programming","OS","Linux","Shell"]},"sidebar":"tutorialSidebar","previous":{"title":"Core","permalink":"/notes/programming/linux/core"},"next":{"title":"Terminal","permalink":"/notes/programming/linux/terminal"}}');var s=i(35656),t=i(86145);const r={sidebar_position:2,tags:["Programming","OS","Linux","Shell"]},d="Shell Scripts",c={},a=[{value:"Warnings",id:"warnings",level:2},{value:"\u6587\u4ef6\u91cd\u5b9a\u5411",id:"\u6587\u4ef6\u91cd\u5b9a\u5411",level:2},{value:"Here Document",id:"here-document",level:3},{value:"Variables",id:"variables",level:2},{value:"Built-in",id:"built-in",level:3},{value:"Environment",id:"environment",level:3},{value:"Expansions",id:"expansions",level:2},{value:"Flow Control",id:"flow-control",level:2},{value:"If",id:"if",level:3},{value:"Case",id:"case",level:3},{value:"For",id:"for",level:3},{value:"While and Until",id:"while-and-until",level:3},{value:"Do While",id:"do-while",level:3},{value:"Array",id:"array",level:2},{value:"Function",id:"function",level:2},{value:"I/O",id:"io",level:2},{value:"Signal",id:"signal",level:2},{value:"Debugging",id:"debugging",level:2},{value:"Interaction",id:"interaction",level:2},{value:"Root Validation",id:"root-validation",level:3},{value:"Help Option",id:"help-option",level:3},{value:"Silent Option",id:"silent-option",level:3},{value:"Command Validation",id:"command-validation",level:3},{value:"Get Absolute Path",id:"get-absolute-path",level:3},{value:"Error Handle",id:"error-handle",level:3},{value:"Loading Progress",id:"loading-progress",level:3},{value:"Zsh",id:"zsh",level:2},{value:"Best Practices",id:"best-practices",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"shell-scripts",children:"Shell Scripts"})}),"\n",(0,s.jsx)(n.h2,{id:"warnings",children:"Warnings"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"="})," \u5de6\u53f3\u65e0\u7a7a\u683c."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"()"})," ",(0,s.jsx)(n.code,{children:"[]"})," \u5185\u90e8\u6700\u597d\u6709\u7a7a\u683c."]}),"\n",(0,s.jsxs)(n.li,{children:["\u6570\u503c\u8fd0\u7b97\u7528 ",(0,s.jsx)(n.code,{children:"(())"})," \u6216 ",(0,s.jsx)(n.code,{children:"$(())"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u6587\u4ef6\u91cd\u5b9a\u5411",children:"\u6587\u4ef6\u91cd\u5b9a\u5411"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"> \u6587\u4ef6\u8bbe\u5907\u540d"}),": \u8986\u76d6\u6807\u51c6\u8f93\u51fa\u91cd\u5b9a\u5411."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:">> \u6587\u4ef6\u8bbe\u5907\u540d"}),": \u8ffd\u52a0\u6807\u51c6\u8f93\u51fa\u91cd\u5b9a\u5411."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"2>\u6587\u4ef6\u8bbe\u5907\u540d"}),": \u8986\u76d6\u9519\u8bef\u8f93\u51fa\u91cd\u5b9a\u5411."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"2>>\u6587\u4ef6\u8bbe\u5907\u540d"}),": \u8ffd\u52a0\u9519\u8bef\u8f93\u51fa\u91cd\u5b9a\u5411."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:">/>> \u6587\u4ef6 2>&1 &>/&>>\u6587\u4ef6"}),": \u8986\u76d6/\u8ffd\u52a0\u6b63\u786e\u8f93\u51fa\u4e0e\u9519\u8bef\u8f93\u51fa\u540c\u65f6\u91cd\u5b9a\u5411."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"< \u6587\u4ef6\u8bbe\u5907\u540d"}),"/",(0,s.jsx)(n.code,{children:"<< \u6587\u4ef6\u8bbe\u5907\u540d"}),": \u8986\u76d6/\u8ffd\u52a0\u6807\u51c6\u8f93\u5165\u91cd\u5b9a\u5411."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"here-document",children:"Here Document"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"command << END\n...\nEND\n\ncommand << EOF\n...\nEOF\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\ngnuplot -persist <<EOF\nset data style linespoints\nshow timestamp\nset title "$1"\nset xlabel "time (seconds)"\nset ylabel "Segments (cwnd, ssthresh)"\nplot "$1" using 1:7 title "snd_cwnd", \\\\\n     "$1" using 1:($8>=2147483647 ? 0 : $8) title "snd_ssthresh"\nEOF\n'})}),"\n",(0,s.jsx)(n.h2,{id:"variables",children:"Variables"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"="})," : \u5de6\u53f3\u4e24\u7aef\u4e0d\u53ef\u6709\u7a7a\u683c."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"' '"}),": \u5b8c\u5168\u6807\u51c6\u5b57\u7b26\u4e32."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'" "'}),": \u683c\u5f0f\u5316\u5b57\u7b26\u4e32."]}),"\n",(0,s.jsxs)(n.li,{children:["\u8c03\u7528\u53d8\u91cf\u503c\uff1a",(0,s.jsx)(n.code,{children:"$\u53d8\u91cf\u540d"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"set"}),"/",(0,s.jsx)(n.code,{children:"unset"}),": \u8bbe\u7f6e/\u53d6\u6d88\u53d8\u91cf."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"built-in",children:"Built-in"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$*"}),"/",(0,s.jsx)(n.code,{children:"$@"}),": ",(0,s.jsx)(n.code,{children:"argv[1], ..., argv[n]"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$0/$1/../$n"}),": ",(0,s.jsx)(n.code,{children:"argv[0], ..., argv[n]"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$#"}),": argc"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$?"}),": exit code of last command"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'if [ "$?" -ne "0" ];then\n    echo "sorry, command execution failed!"\nfi\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u6bcf\u6b21 ",(0,s.jsx)(n.code,{children:"shift"})," \u547d\u4ee4\u6267\u884c\u7684\u65f6\u5019,\n\u53d8\u91cf ",(0,s.jsx)(n.code,{children:"$2"})," \u7684\u503c\u4f1a\u79fb\u52a8\u5230\u53d8\u91cf ",(0,s.jsx)(n.code,{children:"$1"})," \u4e2d,\n\u53d8\u91cf ",(0,s.jsx)(n.code,{children:"$3"})," \u7684\u503c\u4f1a\u79fb\u52a8\u5230\u53d8\u91cf ",(0,s.jsx)(n.code,{children:"$2"})," \u4e2d.\n\u53d8\u91cf ",(0,s.jsx)(n.code,{children:"$#"})," \u7684\u503c\u4e5f\u4f1a\u76f8\u5e94\u7684\u51cf 1."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# posit-param2: script to display all arguments\ncount=1\nwhile [[ $# -gt 0 ]]; do\n    echo "Argument $count = $1"\n    count=$((count + 1))\n    shift\ndone\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'usage () {\n    echo "$PROGNAME: usage: $PROGNAME [-f file | -i]"\n    return\n}\n# process command line options\ninteractive=\nfilename=\nwhile [[ -n $1 ]]; do\n    case $1 in\n    -f | --file)            shift\n                            filename=$1\n                            ;;\n    -i | --interactive)     interactive=1\n                            ;;\n    -h | --help)            usage\n                            exit\n                            ;;\n    *)                      usage >&2\n                            exit 1\n                            ;;\n    esac\n    shift\ndone\n'})}),"\n",(0,s.jsx)(n.h3,{id:"environment",children:"Environment"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/etc/profile.d/*.sh"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"~/.bash_profile"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"~/.bashrc"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/etc/profile"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/etc/bash.bashrc"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/etc/issue"}),": shell \u767b\u5f55\u4fe1\u606f."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"PS1"})," \u73af\u5883\u53d8\u91cf: shell \u5934\u884c\u6253\u5370\u4fe1\u606f."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"PATH"})," \u73af\u5883\u53d8\u91cf."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"export PATH=$PATH:/usr/local/bin\nenv\nprintenv\n"})}),"\n",(0,s.jsx)(n.h2,{id:"expansions",children:"Expansions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$(())"})," or ",(0,s.jsx)(n.code,{children:"$[]"}),": arithmetic expansion"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4e00\u822c\u5730, \u5c06\u6570\u503c\u8fd0\u7b97\u7528 ",(0,s.jsx)(n.code,{children:"(())"})," ",(0,s.jsx)(n.code,{children:"[[]]"})," \u6216 ",(0,s.jsx)(n.code,{children:"$(())"})," \u62ec\u8d77, \u53ef\u4ee5\u786e\u4fdd\u53d8\u91cf\u4e0d\u4f1a\u88ab\u8bc6\u522b\u4e3a string"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'read x\nread y\n\necho $((x + y))\necho $((a < b ? a : b))\n\nif ((a > b))\nthen\n    echo "a > b"\nfi\n\nif [[ a -gt b ]]\nthen\n    echo "a > b"\nfi\n\nif [ "$a" -gt "$b" ]\nthen\n    echo "a > b"\nfi\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"[[ xxx ]]"}),": condition"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"(( xxx ))"}),": arithmetic condition"]}),"\n"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"operator"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"function"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"! EXPRESSION"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"The EXPRESSION is false"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"-n STRING"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"The length of STRING is greater than zero"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"-z STRING"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"The length of STRING is zero (ie it is empty)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"STRING1 == STRING2"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"STRING1 is equal to STRING2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"STRING1 != STRING2"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"STRING1 is not equal to STRING2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"STRING1 > STRING2"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"STRING1 sorts after STRING2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"STRING1 < STRING2"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"STRING1 sorts before STRING2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"INTEGER1 -eq INTEGER2"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"INTEGER1 is numerically equal to INTEGER2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"INTEGER1 -gt INTEGER2"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"INTEGER1 is numerically greater than INTEGER2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"INTEGER1 -lt INTEGER2"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"INTEGER1 is numerically less than INTEGER2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"-d FILE"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"FILE exists and is a directory"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"-e FILE"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"FILE exists"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"-r FILE"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"FILE exists and the read permission is granted"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"-s FILE"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"FILE exists and it's size is greater than zero"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"-w FILE"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"FILE exists and the write permission is granted"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"-x FILE"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"FILE exists and the execute permission is granted"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"AND -a &&"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"OR -o ||"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"NOT ! !"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:": group regexp"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo a{A{1,2},B{3,4}}b\naA1b aA2b aB3b aB4b\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${}"}),": string expansion","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter:-word}"}),": \u82e5 parameter \u6ca1\u6709\u8bbe\u7f6e\uff08\u4f8b\u5982\uff0c\u4e0d\u5b58\u5728\uff09\u6216\u8005\u4e3a\u7a7a\uff0c\u5c55\u5f00\u7ed3\u679c\u662f word \u7684\u503c\u3002\n\u82e5 parameter \u4e0d\u4e3a\u7a7a\uff0c\u5219\u5c55\u5f00\u7ed3\u679c\u662f parameter \u7684\u503c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter:+word}"}),": \u82e5 parameter \u6ca1\u6709\u8bbe\u7f6e\u6216\u4e3a\u7a7a\uff0c\u5c55\u5f00\u7ed3\u679c\u4e3a\u7a7a\u3002\n\u82e5 parameter \u4e0d\u4e3a\u7a7a\uff0c \u5c55\u5f00\u7ed3\u679c\u662f word \u7684\u503c\u4f1a\u66ff\u6362\u6389 parameter \u7684\u503c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter:=word}"}),": \u82e5 parameter \u6ca1\u6709\u8bbe\u7f6e\u6216\u4e3a\u7a7a\uff0c\u5c55\u5f00\u7ed3\u679c\u662f word \u7684\u503c\u3002\n\u53e6\u5916\uff0cword \u7684\u503c\u4f1a\u8d4b\u503c\u7ed9 parameter\u3002\n\u82e5 parameter \u4e0d\u4e3a\u7a7a\uff0c\u5c55\u5f00\u7ed3\u679c\u662f parameter \u7684\u503c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter:?word}"}),": \u82e5 parameter \u6ca1\u6709\u8bbe\u7f6e\u6216\u4e3a\u7a7a\uff0c\u8fd9\u79cd\u5c55\u5f00\u5bfc\u81f4\u811a\u672c\u5e26\u6709\u9519\u8bef\u9000\u51fa\uff0c\n\u5e76\u4e14 word \u7684\u5185\u5bb9\u4f1a\u53d1\u9001\u5230\u6807\u51c6\u9519\u8bef\u3002\n\u82e5 parameter \u4e0d\u4e3a\u7a7a\uff0c \u5c55\u5f00\u7ed3\u679c\u662f parameter \u7684\u503c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${!prefix*}"})," ",(0,s.jsx)(n.code,{children:"${!prefix@}"}),": \u8fd9\u79cd\u5c55\u5f00\u4f1a\u8fd4\u56de\u4ee5 prefix \u5f00\u5934\u7684\u5df2\u6709\u53d8\u91cf\u540d"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${#parameter}"}),": \u5c55\u5f00\u6210\u7531 parameter \u6240\u5305\u542b\u7684\u5b57\u7b26\u4e32\u7684\u957f\u5ea6"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter:offset}"})," ",(0,s.jsx)(n.code,{children:"${parameter:offset:length}"}),": \u63d0\u53d6\u4e00\u90e8\u5206\u5b57\u7b26"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter,,}"})," \u628a parameter \u7684\u503c\u5168\u90e8\u5c55\u5f00\u6210\u5c0f\u5199\u5b57\u6bcd"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter,}"})," \u4ec5\u4ec5\u628a parameter \u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5c55\u5f00\u6210\u5c0f\u5199\u5b57\u6bcd"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter^^}"})," \u628a parameter \u7684\u503c\u5168\u90e8\u8f6c\u6362\u6210\u5927\u5199\u5b57\u6bcd"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter^}"})," \u4ec5\u4ec5\u628a parameter \u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u8f6c\u6362\u6210\u5927\u5199\u5b57\u6bcd"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter#pattern}"})," ",(0,s.jsx)(n.code,{children:"${parameter##pattern}"}),",\n",(0,s.jsx)(n.code,{children:"${parameter%pattern}"})," ",(0,s.jsx)(n.code,{children:"${parameter%%pattern}"}),": \u4ece parameter \u6240\u5305\u542b\u7684\u5b57\u7b26\u4e32\u4e2d\u6e05\u9664\u5f00\u5934/\u672b\u5c3e\u4e00\u90e8\u5206\u6587\u672c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${parameter/pattern/string}"}),", ",(0,s.jsx)(n.code,{children:"${parameter//pattern/string}"}),",\n",(0,s.jsx)(n.code,{children:"${parameter/#pattern/string}"}),", ",(0,s.jsx)(n.code,{children:"${parameter/%pattern/string}"}),": replace"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"foo=file.txt.zip\necho ${foo#*.}\ntxt.zip\necho ${foo##*.}\nzip\n\nfoo=file.txt.zip\necho ${foo%.*}\nfile.txt\necho ${foo%%.*}\nfile\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"foo=JPG.JPG\necho ${foo/JPG/jpg}\njpg.JPG\necho ${foo//JPG/jpg}\njpg.jpg\necho ${foo/#JPG/jpg}\njpg.JPG\necho ${foo/%JPG/jpg}\nJPG.jpg\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$()"}),": command result."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'""'}),": allow expansions string."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"''"}),": disallow expansions string."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"flow-control",children:"Flow Control"}),"\n",(0,s.jsx)(n.h3,{id:"if",children:"If"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"if [[ \u6761\u4ef6\u5224\u65ad\u5f0f ]] ; then\n    \u7a0b\u5e8f\nfi\nif [[ \u6761\u4ef6\u5224\u65ad\u5f0f ]]\n    then\n        \u7a0b\u5e8f\n    else\n        \u7a0b\u5e8f\nfi\n\nif [[ \u6761\u4ef6\u5224\u65ad\u5f0f1 ]]\n    then\n        \u7a0b\u5e8f1\nelif [[ \u6761\u4ef6\u5224\u65ad\u5f0f2 ]]\n    then\n        \u7a0b\u5e8f2\nelse\n        \u7a0b\u5e8fn\nfi\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/usr/bin/bash\n\ni=1;\nfor flag in "$@"\ndo\n  if [[ $flag == "-o" ]]\n  then\n    open=1;\n  fi\ndone\n\nexclude="--exclude-dir=node_modules --exclude-dir=build  --exclude-dir=.yarn --exclude-dir=.cache --exclude-dir=.next --exclude-dir=coverage --exclude-dir=public --exclude-dir=.git --exclude-dir=dist --exclude=package-lock.json --exclude=yarn.lock --exclude=CHANGELOG.md"\n\nif [[ -n $open ]]\nthen\n  grep -r $1 $exclude | awk -F : \'{print $1}\' | xargs code;\nelse\n  grep -r $1 $exclude;\nfi\n'})}),"\n",(0,s.jsx)(n.h3,{id:"case",children:"Case"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"case $\u53d8\u91cf\u540d in\n    \u201c\u503c1\u201d)\n            \u7a0b\u5e8f\n            ;;\n    \u201c\u503c2\u201d)\n            \u7a0b\u5e8f\n            ;;\n    *)\n            \u7a0b\u5e8f\n;;\nesac\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"case pattern"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"function"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"a)"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:'word equals "a"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"[[:alpha:]])"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"word is a single alphabetic character"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"???)"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"word is exactly three characters long"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"*.txt)"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"word ends with the characters \u201c.txt\u201d"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"*)"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"any value of word"})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# case-menu: a menu driven system information program\nclear\necho "\nPlease Select:\n1. Display System Information\n2. Display Disk Space\n3. Display Home Space Utilization\n0. Quit\n"\nread -p "Enter selection [0-3] > "\ncase $REPLY in\n    0)  echo "Program terminated."\n        exit\n        ;;\n    1)  echo "Hostname: $HOSTNAME"\n        uptime\n        ;;\n    2)  df -h\n        ;;\n    3)  if [[ $(id -u) -eq 0 ]]; then\n            echo "Home Space Utilization (All Users)"\n            du -sh /home/*\n        else\n            echo "Home Space Utilization ($USER)"\n            du -sh $HOME\n        fi\n        ;;\n    *)  echo "Invalid entry" >&2\n        exit 1\n        ;;\nesac\n'})}),"\n",(0,s.jsx)(n.p,{children:"or case pattern"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# case-menu: a menu driven system information program\nclear\necho "\nPlease Select:\nA. Display System Information\nB. Display Disk Space\nC. Display Home Space Utilization\nQ. Quit\n"\nread -p "Enter selection [A, B, C or Q] > "\ncase $REPLY in\nq|Q) echo "Program terminated."\n     exit\n     ;;\na|A) echo "Hostname: $HOSTNAME"\n     uptime\n     ;;\nb|B) df -h\n     ;;\nc|C) if [[ $(id -u) -eq 0 ]]; then\n         echo "Home Space Utilization (All Users)"\n         du -sh /home/*\n     else\n         echo "Home Space Utilization ($USER)"\n         du -sh $HOME\n     fi\n     ;;\n*)   echo "Invalid entry" >&2\n     exit 1\n     ;;\nesac\n'})}),"\n",(0,s.jsxs)(n.p,{children:["fall through case pattern (",(0,s.jsx)(n.code,{children:";;&"}),")"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# case4-2: test a character\nread -n 1 -p "Type a character > "\necho\ncase $REPLY in\n    [[:upper:]])    echo "\'$REPLY\' is upper case." ;;&\n    [[:lower:]])    echo "\'$REPLY\' is lower case." ;;&\n    [[:alpha:]])    echo "\'$REPLY\' is alphabetic." ;;&\n    [[:digit:]])    echo "\'$REPLY\' is a digit." ;;&\n    [[:graph:]])    echo "\'$REPLY\' is a visible character." ;;&\n    [[:punct:]])    echo "\'$REPLY\' is a punctuation symbol." ;;&\n    [[:space:]])    echo "\'$REPLY\' is a whitespace character." ;;&\n    [[:xdigit:]])   echo "\'$REPLY\' is a hexadecimal digit." ;;&\nesac\n'})}),"\n",(0,s.jsx)(n.h3,{id:"for",children:"For"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"for \u53d8\u91cf in \u503c1 \u503c2 \u503c3 \u2026\u2026 \u503cn\n    do\n        \u7a0b\u5e8f\n    done\n\n$(seq 1 50)  # 1 2 ... 50\n{1..50}     # 1 2 ... 50\n{0..10..2}  # 0 2 4 6 8 10\n\nfor (( \u521d\u59cb\u503c;\u5faa\u73af\u63a7\u5236\u6761\u4ef6;\u53d8\u91cf\u53d8\u5316 )); do\n    \u7a0b\u5e8f\ndone\n"})}),"\n",(0,s.jsx)(n.h3,{id:"while-and-until",children:"While and Until"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"while [[ \u6761\u4ef6\u5224\u65ad\u5f0f ]]\n    do\n        \u7a0b\u5e8f\n    done\n\nuntil [[ \u6761\u4ef6\u5224\u65ad\u5f0f ]]\n    do\n        \u7a0b\u5e8f\n    done\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"(( expression1 ))\nwhile (( expression2 )); do\n    commands\n    (( expression3 ))\ndone\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# while-menu: a menu driven system information program\nDELAY=3 # Number of seconds to display results\nwhile [[ $REPLY != 0 ]]; do\n    clear\n    cat <<- _EOF_\n        Please Select:\n        1. Display System Information\n        2. Display Disk Space\n        3. Display Home Space Utilization\n        0. Quit\n    _EOF_\n    read -p "Enter selection [0-3] > "\n    if [[ $REPLY =~ ^[0-3]$ ]]; then\n        if [[ $REPLY == 1 ]]; then\n            echo "Hostname: $HOSTNAME"\n            uptime\n            sleep $DELAY\n        fi\n        if [[ $REPLY == 2 ]]; then\n            df -h\n            sleep $DELAY\n        fi\n        if [[ $REPLY == 3 ]]; then\n            if [[ $(id -u) -eq 0 ]]; then\n                echo "Home Space Utilization (All Users)"\n                du -sh /home/*\n            else\n                echo "Home Space Utilization ($USER)"\n                du -sh $HOME\n            fi\n            sleep $DELAY\n        fi\n    else\n        echo "Invalid entry."\n        sleep $DELAY\n    fi\ndone\necho "Program terminated."\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# while-read: read lines from a file\nwhile read dist version release; do\n    printf "Dist: %s\\tVersion: %s\\tReleased: %s\\n" \\\n        $dist \\\n        $version \\\n        $release\ndone < dist.txt\n'})}),"\n",(0,s.jsx)(n.h3,{id:"do-while",children:"Do While"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"while : ; do\n    actions\n    [[ current_time <= $cutoff ]] || break\ndone\n"})}),"\n",(0,s.jsx)(n.h2,{id:"array",children:"Array"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"http://billie66.github.io/TLCL/book/chap36.html",children:"Array Reference"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"function",children:"Function"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u51fd\u6570\u5c40\u90e8\u53d8\u91cf ",(0,s.jsx)(n.code,{children:"local \u53d8\u91cf\u540d"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["\u51fd\u6570\u53c2\u6570 : ",(0,s.jsx)(n.code,{children:"$"}),"/",(0,s.jsx)(n.code,{children:"+"}),"/",(0,s.jsx)(n.code,{children:"#"}),"/",(0,s.jsx)(n.code,{children:"?"}),"/",(0,s.jsx)(n.code,{children:"@"}),"/",(0,s.jsx)(n.code,{children:"n"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["\u5f15\u7528\u51fd\u6570\u5e93\u6587\u4ef6: ",(0,s.jsx)(n.code,{children:"source sh \u6587\u4ef6\u540d"}),"/",(0,s.jsx)(n.code,{children:". sh \u6587\u4ef6\u540d"}),", \u53ef\u4fee\u6539 ",(0,s.jsx)(n.code,{children:"~/.bashrc"})," \u6587\u4ef6."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"io",children:"I/O"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# read-validate: validate input\ninvalid_input () {\n    echo "Invalid input \'$REPLY\'" >&2\n    exit 1\n}\nread -p "Enter a single item > "\n# input is empty (invalid)\n[[ -z $REPLY ]] && invalid_input\n# input is multiple items (invalid)\n(( $(echo $REPLY | wc -w) > 1 )) && invalid_input\n# is input a valid filename?\nif [[ $REPLY =~ ^[-[:alnum:]\\._]+$ ]]; then\n    echo "\'$REPLY\' is a valid filename."\n    if [[ -e $REPLY ]]; then\n        echo "And file \'$REPLY\' exists."\n    else\n        echo "However, file \'$REPLY\' does not exist."\n    fi\n    # is input a floating point number?\n    if [[ $REPLY =~ ^-?[[:digit:]]*\\.[[:digit:]]+$ ]]; then\n        echo "\'$REPLY\' is a floating point number."\n    else\n        echo "\'$REPLY\' is not a floating point number."\n    fi\n    # is input an integer?\n    if [[ $REPLY =~ ^-?[[:digit:]]+$ ]]; then\n        echo "\'$REPLY\' is an integer."\n    else\n        echo "\'$REPLY\' is not an integer."\n    fi\nelse\n    echo "The string \'$REPLY\' is not a valid filename."\nfi\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# read-menu: a menu driven system information program\nclear\necho "\nPlease Select:\n\n    1. Display System Information\n    2. Display Disk Space\n    3. Display Home Space Utilization\n    0. Quit\n"\nread -p "Enter selection [0-3] > "\n\nif [[ $REPLY =~ ^[0-3]$ ]]; then\n    if [[ $REPLY == 0 ]]; then\n        echo "Program terminated."\n        exit\n    fi\n    if [[ $REPLY == 1 ]]; then\n        echo "Hostname: $HOSTNAME"\n        uptime\n        exit\n    fi\n    if [[ $REPLY == 2 ]]; then\n        df -h\n        exit\n    fi\n    if [[ $REPLY == 3 ]]; then\n        if [[ $(id -u) -eq 0 ]]; then\n            echo "Home Space Utilization (All Users)"\n            du -sh /home/*\n        else\n            echo "Home Space Utilization ($USER)"\n            du -sh $HOME\n        fi\n        exit\n    fi\nelse\n    echo "Invalid entry." >&2\n    exit 1\nfi\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# interactive mode\nif [[ -n $interactive ]]; then\n    while true; do\n        read -p "Enter name of output file: " filename\n        if [[ -e $filename ]]; then\n            read -p "\'$filename\' exists. Overwrite? [y/n/q] > "\n            case $REPLY in\n            Y|y)    break\n                    ;;\n            Q|q)    echo "Program terminated."\n                    exit\n                    ;;\n            *)      continue\n                    ;;\n            esac\n        elif [[ -z $filename ]]; then\n            continue\n        else\n            break\n        fi\n    done\nfi\n'})}),"\n",(0,s.jsx)(n.h2,{id:"signal",children:"Signal"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"man 7 signal"}),": \u4f20\u9012\u4fe1\u53f7\u7ed9\u8fdb\u7a0b."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CTRL + C"}),": SIGINT."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CTRL + Z"}),": SIGSTP."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"kill/killall"}),": SIGINT."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"trap SIG*"}),"/",(0,s.jsx)(n.code,{children:"trap EXIT"}),": \u6355\u6349\u4fe1\u53f7(\u540e + \u5ffd\u7565\u4fe1\u53f7/\u9ed8\u8ba4\u5904\u7406\u4fe1\u53f7/\u81ea\u5b9a\u4e49\u5904\u7406\u4fe1\u53f7)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"trap \u2013 SIG*"}),"/",(0,s.jsx)(n.code,{children:"trap - EXIT"}),": \u79fb\u9664\u4fe1\u53f7."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"debugging",children:"Debugging"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"-x"})," option:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash -x\n# trouble: script to demonstrate common errors\nnumber=1\nif [ $number = 1 ]; then\n    echo "Number is equal to 1."\nelse\n    echo "Number is not equal to 1."\nfi\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# trouble: script to demonstrate common errors\nnumber=1\necho "number=$number" # DEBUG\nset -x # Turn on tracing\nif [ $number = 1 ]; then\n    echo "Number is equal to 1."\nelse\n    echo "Number is not equal to 1."\nfi\nset +x # Turn off tracing\n'})}),"\n",(0,s.jsx)(n.h2,{id:"interaction",children:"Interaction"}),"\n",(0,s.jsx)(n.h3,{id:"root-validation",children:"Root Validation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'if (( $EUID != 0 )); then\n    echo "Please run as root!"\n    exit\nfi\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# run as root directly\nsudo chown root <filename>\nsudo chmod +s <filename>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"help-option",children:"Help Option"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/sh\nif [[ ${#@} -ne 0 ]] && [[ "${@#"--help"}" = "" ]]; then\n  printf -- \'...help...\\n\';\n  exit 0;\nfi;\n'})}),"\n",(0,s.jsx)(n.h3,{id:"silent-option",children:"Silent Option"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/sh\nif [[ ${#@} -ne 0 ]] && [[ "${@#"--silent"}" = "" ]]; then\n  stty -echo;\nfi;\n# ...\n# before point of intended output:\nstty +echo && printf -- \'intended output\\n\';\n# silence it again till end of script\nstty -echo;\n# ...\nstty +echo;\nexit 0;\n'})}),"\n",(0,s.jsx)(n.h3,{id:"command-validation",children:"Command Validation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"#!/bin/sh\n_=$(command -v docker);\nif [[ \"$?\" != \"0\" ]]; then\n  printf -- 'You don\\'t seem to have Docker installed.\\n';\n  printf -- 'Get it: https://www.docker.com/community-edition\\n';\n  printf -- 'Exiting with code 127...\\n';\n  exit 127;\nfi;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"get-absolute-path",children:"Get Absolute Path"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/sh\nCUR_DIR="$(dirname $0);"\nprintf -- \'moving application to /opt/app.jar\';\nmv "${CUR_DIR}/application.jar" /opt/app.jar;\n'})}),"\n",(0,s.jsx)(n.h3,{id:"error-handle",children:"Error Handle"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'#!/bin/sh\nerror_handle() {\n  stty echo;\n}\n\nif [[ ${#@} -ne 0 ]] && [[ "${@#"--silent"}" = "" ]]; then\n  stty -echo;\n  trap error_handle INT;\n  trap error_handle TERM;\n  trap error_handle KILL;\n  trap error_handle EXIT;\nfi;\n# ...\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loading-progress",children:"Loading Progress"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"#!/bin/sh\nprintf -- 'Performing asynchronous action..';\n./trigger-action;\nDONE=0;\nwhile [ $DONE -eq 0 ]; do\n  ./async-checker;\n  if [ \"$?\" = \"0\" ]; then DONE=1; fi;\n  printf -- '.';\n  sleep 1;\ndone;\nprintf -- ' DONE!\\n';\n"})}),"\n",(0,s.jsx)(n.h2,{id:"zsh",children:"Zsh"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Install zsh and powerline\nsudo apt install zsh powerline powerline-status\n\n# Install oh-my-zsh\nsh -c "$(wget -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"\n\n# Install zsh themes\ngit clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k\ngit clone --depth=1 https://github.com/sabertazimi/dragon-zsh-theme.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/dragon\n\nplugins=(fzf git history vi-mode)\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Install zsh on ",(0,s.jsx)(n.a,{href:"https://gist.github.com/fworks/af4c896c9de47d827d4caa6fd7154b6b",children:"Windows"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Download zsh and extract into "C:\\Program Files\\Git":\ncurl -O https://mirror.msys2.org/msys/x86_64/zsh-5.9-3-x86_64.pkg.tar.zst\n\n# Open git bash and configure zsh:\nzsh\n\n# Install oh-my-zsh:\ngit clone https://github.com/ohmyzsh/ohmyzsh\nbash ohmyzsh/tools/install.sh\n\n# Edit ~/.bashrc:\n# Launch Zsh\nif [ -t 1 ]; then\nexec zsh\nfi\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://google.github.io/styleguide/shellguide.html",children:"Google Shell Style Guide"})}),"\n",(0,s.jsxs)(n.li,{children:["\u6307\u5b9a\u9ed8\u8ba4\u89e3\u91ca\u5668",(0,s.jsx)(n.code,{children:"cat /etc/shells"})]}),"\n",(0,s.jsxs)(n.li,{children:["\u8bbe\u7f6e",(0,s.jsx)(n.code,{children:"bash strict mode"})]}),"\n",(0,s.jsxs)(n.li,{children:["\u6761\u4ef6\u5224\u65ad\u4f7f\u7528",(0,s.jsx)(n.code,{children:"[[ ]]"})]}),"\n",(0,s.jsxs)(n.li,{children:["\u4f7f\u7528\u53d8\u91cf\u65f6\u7528\u53cc\u5f15\u53f7\u628a\u53d8\u91cf\u5305\u8d77\u6765 ",(0,s.jsx)(n.code,{children:'cp -r "$src_dir" "$dest_dir"'})]}),"\n",(0,s.jsxs)(n.li,{children:["\u4f7f\u7528",(0,s.jsx)(n.code,{children:"$()"}),"\u83b7\u53d6\u8868\u8fbe\u5f0f\u7684\u503c"]}),"\n",(0,s.jsxs)(n.li,{children:["\u4f7f\u7528",(0,s.jsx)(n.code,{children:"${arr[@]}"}),"\u8fdb\u884c\u5217\u8868\u5faa\u73af"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"#!/usr/bin/env bash\n\n# \u8bbe\u7f6e\u547d\u4ee4\u56de\u663e\nset -x\n\n# \u9047\u5230\u672a\u58f0\u660e\u7684\u53d8\u91cf\u5219\u62a5\u9519\u505c\u6b62\nset -u\n# \u9047\u5230\u6267\u884c\u9519\u8bef\u5219\u505c\u6b62\nset -e\n# \u7ba1\u9053\u547d\u4ee4\u5176\u4e2d\u4e00\u6b65\u5931\u8d25\u5219\u4e2d\u6b62\nset -o pipefail\n"})})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},86145:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>d});var l=i(57140);const s={},t=l.createContext(s);function r(e){const n=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);