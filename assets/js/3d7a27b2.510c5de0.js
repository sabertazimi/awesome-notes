"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[37767],{13530:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"web/react/patterns","title":"Patterns","description":"Higher Order Components","source":"@site/content/web/react/patterns.md","sourceDirName":"web/react","slug":"/web/react/patterns","permalink":"/notes/web/react/patterns","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/react/patterns.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"React","permalink":"/notes/tags/react"},{"inline":true,"label":"Pattern","permalink":"/notes/tags/pattern"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5,"tags":["Web","React","Pattern"]},"sidebar":"tutorialSidebar","previous":{"title":"Types","permalink":"/notes/web/react/types"},"next":{"title":"Features","permalink":"/notes/web/react/features"}}');var s=t(35656),r=t(86145);const l={sidebar_position:5,tags:["Web","React","Pattern"]},o="Patterns",a={},c=[{value:"Higher Order Components",id:"higher-order-components",level:2},{value:"Render Props",id:"render-props",level:2},{value:"Hooks",id:"hooks",level:2},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"patterns",children:"Patterns"})}),"\n",(0,s.jsx)(n.h2,{id:"higher-order-components",children:"Higher Order Components"}),"\n",(0,s.jsx)(n.p,{children:"Higher Order Components (HoC) to solve:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reuse code with using ES6 classes."}),"\n",(0,s.jsx)(n.li,{children:"Compose multiple HOCs."}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Pros",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reusable (abstract same logic)."}),"\n",(0,s.jsx)(n.li,{children:"HOC is flexible with input data\n(pass input data as parameters or derive it from props)."}),"\n"]})}),"\n",(0,s.jsx)(n.admonition,{title:"Cons",type:"caution",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Wrapper hell: ",(0,s.jsx)(n.code,{children:"withA(withB(withC(withD(Comp))))"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Implicit dependencies: which HOC providing a certain prop."}),"\n",(0,s.jsx)(n.li,{children:"Name collision/overlap props: overwrite the same name prop silently."}),"\n",(0,s.jsx)(n.li,{children:"HOC is not flexible with output data (to WrappedComponent)."}),"\n"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// ToggleableMenu.jsx\nfunction withToggleable(Clickable) {\n  return class Toggleable extends React.Component<{ children: ReactElement }> {\n    constructor() {\n      super()\n      this.toggle = this.toggle.bind(this)\n      this.state = { show: false }\n    }\n\n    toggle() {\n      this.setState(prevState => ({ show: !prevState.show }))\n    }\n\n    render() {\n      return (\n        <div>\n          <Clickable {...this.props} onClick={this.toggle} />\n          {this.state.show && this.props.children}\n        </div>\n      )\n    }\n  }\n}\n\nclass NormalMenu extends React.Component<{ onClick: Function, title: string }> {\n  render() {\n    return (\n      <div onClick={this.props.onClick}>\n        <h1>{this.props.title}</h1>\n      </div>\n    )\n  }\n}\n\nconst ToggleableMenu = withToggleable(NormalMenu)\nexport default ToggleableMenu\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'class Menu extends React.Component {\n  render() {\n    return (\n      <div>\n        <ToggleableMenu title="First Menu">\n          <p>Some content</p>\n        </ToggleableMenu>\n        <ToggleableMenu title="Second Menu">\n          <p>Another content</p>\n        </ToggleableMenu>\n        <ToggleableMenu title="Third Menu">\n          <p>More content</p>\n        </ToggleableMenu>\n      </div>\n    )\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"render-props",children:"Render Props"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"children"}),"/",(0,s.jsx)(n.code,{children:"props"})," as render function to solve:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reuse code with using ES6 classes."}),"\n",(0,s.jsx)(n.li,{children:"Lowest level of indirection."}),"\n",(0,s.jsx)(n.li,{children:"No naming collision."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["e.g. ",(0,s.jsx)(n.code,{children:"Context"})," or ",(0,s.jsx)(n.code,{children:"ThemesProvider"})," is designed base on Render Props."]}),"\n",(0,s.jsx)(n.admonition,{title:"Pros",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Separate presentation from logic."}),"\n",(0,s.jsx)(n.li,{children:"Extendable."}),"\n",(0,s.jsx)(n.li,{children:"Reusable (abstract same logic)."}),"\n",(0,s.jsx)(n.li,{children:"Render Props is flexible with output data\n(children parameters definition free)."}),"\n"]})}),"\n",(0,s.jsx)(n.admonition,{title:"Cons",type:"caution",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Wrapper hell (when many cross-cutting concerns are applied to a component)."}),"\n",(0,s.jsx)(n.li,{children:"Minor memory issues when defining a closure for every render."}),"\n",(0,s.jsxs)(n.li,{children:["Unable to optimize code with ",(0,s.jsx)(n.code,{children:"React.memo"}),"/",(0,s.jsx)(n.code,{children:"React.PureComponent"}),"\ndue to ",(0,s.jsx)(n.code,{children:"render()"})," function always changes."]}),"\n",(0,s.jsx)(n.li,{children:"Render Props is not flexible with input data\n(restricts children components from using the data at outside field)."}),"\n"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"interface Props {\n  title: string\n  children: ReactElement\n}\n\nclass Toggleable extends React.Component<Props> {\n  constructor() {\n    super()\n    this.toggle = this.toggle.bind(this)\n    this.state = { show: false }\n  }\n\n  toggle() {\n    this.setState(prevState => ({ show: !prevState.show }))\n  }\n\n  render() {\n    return this.props.children(this.state.show, this.toggle)\n  }\n}\n\nexport default function ToggleableMenu({ title, children }: Props) {\n  return (\n    <Toggleable>\n      {(show, onClick) => (\n        <div>\n          <div onClick={onClick}>\n            <h1>{title}</h1>\n          </div>\n          {show && children}\n        </div>\n      )}\n    </Toggleable>\n  )\n}\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'class Menu extends React.Component {\n  render() {\n    return (\n      <div>\n        <ToggleableMenu title="First Menu">\n          <p>Some content</p>\n        </ToggleableMenu>\n        <ToggleableMenu title="Second Menu">\n          <p>Another content</p>\n        </ToggleableMenu>\n        <ToggleableMenu title="Third Menu">\n          <p>More content</p>\n        </ToggleableMenu>\n      </div>\n    )\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"hooks",children:"Hooks"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"No wrapper hell: every hook is just one line of code."}),"\n",(0,s.jsx)(n.li,{children:"No implicit dependencies: explicit one certain call for one certain hook."}),"\n",(0,s.jsx)(n.li,{children:"No name collision and overlap props due to flexible data usage."}),"\n",(0,s.jsxs)(n.li,{children:["No need for ",(0,s.jsx)(n.code,{children:"JSX"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Flexible data usage."}),"\n",(0,s.jsxs)(n.li,{children:["Flexible optimization methods:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Avoid re-render with hook deps list."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"useMemo"})," hook for memorized values."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"useCallback"})," hook for memorized functions."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"useRef"})," hook for lifecycle persistent values."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Recap related-logic into separate well-structured hooks."}),"\n",(0,s.jsx)(n.li,{children:"Reuse same stateful logic with custom hooks."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["React component library ",(0,s.jsx)(n.a,{href:"https://www.gabe.pizza/notes-on-component-libraries",children:"patterns"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["React interview ",(0,s.jsx)(n.a,{href:"https://github.com/semlinker/reactjs-interview-questions",children:"questions"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},86145:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var i=t(57140);const s={},r=i.createContext(s);function l(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);