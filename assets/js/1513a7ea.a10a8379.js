"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[3095],{38141:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"web/redis/redis","title":"Redis","description":"Redis Commands","source":"@site/content/web/redis/redis.md","sourceDirName":"web/redis","slug":"/web/redis/","permalink":"/notes/web/redis/","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/redis/redis.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"Redis","permalink":"/notes/tags/redis"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"frontMatter":{"tags":["Web","Redis"]},"sidebar":"tutorialSidebar","previous":{"title":"Commit","permalink":"/notes/web/react/commit"},"next":{"title":"Security","permalink":"/notes/web/security/"}}');var d=s(35656),i=s(86145);const c={tags:["Web","Redis"]},r="Redis",a={},t=[{value:"Redis Commands",id:"redis-commands",level:2},{value:"Basic Commands",id:"basic-commands",level:3},{value:"List Commands",id:"list-commands",level:3},{value:"Set Commands",id:"set-commands",level:3},{value:"SortedSet Commands",id:"sortedset-commands",level:3},{value:"Hash Commands",id:"hash-commands",level:3},{value:"Pub/Sub Commands",id:"pubsub-commands",level:3},{value:"Stream Commands",id:"stream-commands",level:3},{value:"Geospatial Commands",id:"geospatial-commands",level:3},{value:"HyperLogLog Commands",id:"hyperloglog-commands",level:3},{value:"Bitmap Commands",id:"bitmap-commands",level:3},{value:"Bitfield Commands",id:"bitfield-commands",level:3},{value:"Transaction Commands",id:"transaction-commands",level:3},{value:"Replication Commands",id:"replication-commands",level:3},{value:"Sentinel Commands",id:"sentinel-commands",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"redis",children:"Redis"})}),"\n",(0,d.jsx)(n.h2,{id:"redis-commands",children:"Redis Commands"}),"\n",(0,d.jsx)(n.h3,{id:"basic-commands",children:"Basic Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SET key value"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SET key value EX seconds"}),": set key with expire time."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SET key value NX"}),": only set key not exists."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"DEL key"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"GET key"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"EXISTS key"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"KEYS pattern"}),": ",(0,d.jsx)(n.code,{children:"KEYS *message*"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"EXPIRE key seconds"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"TTL key"}),": ",(0,d.jsx)(n.code,{children:"-1"})," for no expire time."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"FLUSHALL"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"FLUSHDB"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"list-commands",children:"List Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"LPUSH key element"}),": add head value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"RPUSH key element"}),": add tail value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"LPOP key [count]"}),": remove and return head value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"RPOP key [count]"}),": remove and return tail value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"LRANGE key start stop"}),": get elements."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"LRANGE key 0 -1"}),": get all elements."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"LTRIM key start stop"}),": trim list to range."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"LLEN key"}),": get length."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"set-commands",children:"Set Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SADD key member"}),": add value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SREM key member"}),": remove value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SPOP key [count]"}),": remove and return random value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SMEMBERS key"}),": get all values."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SRANDMEMBER key [count]"}),": get random value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SISMEMBER key member"}),": check value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SCARD key"}),": get length."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"sortedset-commands",children:"SortedSet Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ZADD key score member"}),": add value with score."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ZREM key member"}),": remove value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ZSCORE key member"}),": get score."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ZRANK key member"}),": get rank."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ZREVRANK key member"}),": get reverse rank."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ZRANGE key start stop"}),": get values."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ZRANGE key start stop WITHSCORES"}),": get values with scores."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ZCARD key"}),": get length."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"hash-commands",children:"Hash Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"HSET key field value"}),": set field and value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"HDEL key field"}),": delete field."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"HGET key field"}),": get field value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"HKEYS key"}),": get all fields."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"HVALS key"}),": get all values."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"HGETALL key"}),": get all fields and values."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"HEXISTS key field"}),": check field."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"HLEN key"}),": get length."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"pubsub-commands",children:"Pub/Sub Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SUBSCRIBE channel"}),": subscribe channel."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"PUBLISH channel message"}),": publish message to channel."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"UNSUBSCRIBE channel"}),": unsubscribe channel."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"stream-commands",children:"Stream Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"XADD key id field value"}),": add value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"XDEL key id"}),": delete value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"XRANGE key start end"}),": get values."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"XRANGE key - +"}),": get all values."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"XREAD COUNT count BLOCK milliseconds STREAMS key id"}),": read values."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"XLEN key"}),": get length."]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Stream group:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"XGROUP CREATE key group id"}),": create group."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"XGROUP CREATECONSUMER key group consumer"}),": create consumer."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"XREADGROUP GROUP group consumer COUNT count BLOCK milliseconds STREAMS key id"}),": read values."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"XINFO GROUPS key"}),": get groups info."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"geospatial-commands",children:"Geospatial Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"GEOADD key longitude latitude member"}),": add value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"GEOPOS key member"}),": get value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"GEODIST key member1 member2"}),": get distance."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"GEOSEARCH key FROMMEMBER member BYRADIUS radius"}),": search by radius."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"GEORADIUS key longitude latitude radius"}),": search by radius."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"GEORADIUSBYMEMBER key member radius"}),": search by radius."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"hyperloglog-commands",children:"HyperLogLog Commands"}),"\n",(0,d.jsx)(n.p,{children:"\u4f7f\u7528\u968f\u673a\u6570\u6765\u7edf\u8ba1\u6570\u91cf (\u57fa\u6570), \u727a\u7272\u7cbe\u5ea6\u6362\u53d6\u6027\u80fd:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"PFADD key element"}),": add value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"PFCOUNT key"}),": get count."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"PFMERGE destkey [sourcekey [sourcekey ...]]"}),": merge."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"bitmap-commands",children:"Bitmap Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"SETBIT key offset value"}),": set value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"GETBIT key offset"}),": get value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BITCOUNT key"}),": get count."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BITPOS key bit"}),": get first position."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'> SET mykey "\\xff\\xf0\\x00"\nOK\n\n> BITPOS mykey 0\n(integer) 12\n'})}),"\n",(0,d.jsx)(n.h3,{id:"bitfield-commands",children:"Bitfield Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BITFIELD key SET type offset value"}),": set value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BITFIELD key GET type offset"}),": get value."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BITFIELD key INCRBY type offset increment"}),": increment value."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-md",children:"BITFIELD mystring SET i8 #0 100 SET i8 #1 200\nBITFIELD mystring INCRBY i8 #0 10\n"})}),"\n",(0,d.jsx)(n.h3,{id:"transaction-commands",children:"Transaction Commands"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"MULTI"}),": start transaction."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"EXEC"}),": execute transaction."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"DISCARD"}),": discard transaction."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"WATCH key"}),": watch key."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"UNWATCH"}),": unwatch key."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"replication-commands",children:"Replication Commands"}),"\n",(0,d.jsx)(n.p,{children:"\u4e3b\u4ece\u590d\u5236:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"REPLICAOF NO ONE"}),": master instance."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"REPLICAOF host port"}),": slave instance."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"INFO"}),": get info."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'> REPLICAOF NO ONE\n"OK"\n\n> REPLICAOF 127.0.0.1 6799\n"OK"\n'})}),"\n",(0,d.jsx)(n.h3,{id:"sentinel-commands",children:"Sentinel Commands"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'> ROLE\n1) "sentinel"\n2) 1) "resque-master"\n   2) "html-fragments-master"\n   3) "stats-master"\n   4) "metadata-master"\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},86145:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>r});var l=s(57140);const d={},i=l.createContext(d);function c(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);