"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[24610],{80744:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"web/javascript/symbol","title":"Symbol","description":"- A Symbol is a unique and immutable primitive value","source":"@site/content/web/javascript/symbol.md","sourceDirName":"web/javascript","slug":"/web/javascript/symbol","permalink":"/notes/web/javascript/symbol","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/javascript/symbol.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"JavaScript","permalink":"/notes/tags/java-script"},{"inline":true,"label":"ECMAScript","permalink":"/notes/tags/ecma-script"},{"inline":true,"label":"Symbol","permalink":"/notes/tags/symbol"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"tags":["Web","JavaScript","ECMAScript","Symbol"]},"sidebar":"tutorialSidebar","previous":{"title":"String","permalink":"/notes/web/javascript/string"},"next":{"title":"BigInt","permalink":"/notes/web/javascript/bigint"}}');var r=s(35656),o=s(86145);const l={sidebar_position:4,tags:["Web","JavaScript","ECMAScript","Symbol"]},c="Symbol",i={},d=[{value:"Conversion",id:"conversion",level:2},{value:"Iterator",id:"iterator",level:2},{value:"HasInstance",id:"hasinstance",level:2},{value:"Species",id:"species",level:2},{value:"ToPrimitive",id:"toprimitive",level:2},{value:"ToStringTag",id:"tostringtag",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"symbol",children:"Symbol"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A Symbol is a ",(0,r.jsx)(n.strong,{children:"unique"})," and ",(0,r.jsx)(n.strong,{children:"immutable"})," primitive value\nand may be used as the key of an Object property."]}),"\n",(0,r.jsx)(n.li,{children:"Symbols don't auto-convert to strings and can't convert to numbers."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Symbol.for(key)"})," create global Symbol registry."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// eslint-disable-next-line symbol-description -- empty symbol description\nconst genericSymbol = Symbol()\n// eslint-disable-next-line symbol-description -- empty symbol description\nconst otherGenericSymbol = Symbol()\nconsole.log(genericSymbol === otherGenericSymbol) // false\n\nconst fooSymbol = Symbol('foo')\nconst otherFooSymbol = Symbol('foo')\nconsole.log(fooSymbol === otherFooSymbol) // false\n\nconst fooGlobalSymbol = Symbol.for('foobar') // \u521b\u5efa\u65b0\u7b26\u53f7\nconst otherFooGlobalSymbol = Symbol.for('foobar') // \u91cd\u7528\u5df2\u6709\u7b26\u53f7\nconsole.log(fooGlobalSymbol === otherFooGlobalSymbol) // true\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Symbol ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Symbol#static_properties",children:"methods"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[Symbol.iterator]()"}),": ",(0,r.jsx)(n.code,{children:"for of"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[Symbol.asyncIterator]()"}),": ",(0,r.jsx)(n.code,{children:"for await of"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[Symbol.match/replace/search/split](target)"}),": ",(0,r.jsx)(n.code,{children:"string.match/replace/search/split(classWithSymbolFunction)"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[Symbol.hasInstance](instance)"}),": ",(0,r.jsx)(n.code,{children:"instance of"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[Symbol.species]()"}),": constructor for making derived objects."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[Symbol.toPrimitive](hint)"}),": \u5f3a\u5236\u7c7b\u578b\u8f6c\u6362."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[Symbol.toStringTag]()"}),": string used by ",(0,r.jsx)(n.code,{children:"Object.prototype.toString()"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"conversion",children:"Conversion"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Convert To"}),(0,r.jsx)(n.th,{children:"Explicit Conversion"}),(0,r.jsx)(n.th,{children:"Coercion (Implicit Conversion)"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Boolean(sym)"})," \u2192 OK"]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"!sym"})," \u2192 OK"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Number(sym)"})," \u2192 TypeError"]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"sym * 2"})," \u2192 TypeError"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"String(sym)"})," \u2192 OK"]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"'' + sym"})," \u2192 TypeError"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"sym.toString()"})," \u2192 OK"]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"${sym}"})," \u2192 TypeError"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"object"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Object(sym)"})," \u2192 OK"]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Object.keys(sym)"})," \u2192 OK"]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"iterator",children:"Iterator"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const arr = ['a', 'b', 'c']\nconst iter = arr[Symbol.iterator]()\n\niter.next() // { value: 'a', done: false }\niter.next() // { value: 'b', done: false }\niter.next() // { value: 'c', done: false }\niter.next() // { value: undefined, done: true }\n"})}),"\n",(0,r.jsx)(n.h2,{id:"hasinstance",children:"HasInstance"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"class Bar {}\nclass Baz extends Bar {\n  static [Symbol.hasInstance](instance) {\n    return false\n  }\n}\n\nconst b = new Baz()\n\nconsole.log(Bar[Symbol.hasInstance](b)) // true\nconsole.log(b instanceof Bar) // true\nconsole.log(Baz[Symbol.hasInstance](b)) // false\nconsole.log(b instanceof Baz) // false\n\nconst ReferenceType = {\n  [Symbol.hasInstance](value) {\n    return (\n      value !== null\n      && (typeof value === 'object' || typeof value === 'function')\n    )\n  },\n}\n\nconst obj1 = {}\nconsole.log(obj1 instanceof Object) // true\nconsole.log(obj1 instanceof ReferenceType) // true\n\nconst obj2 = Object.create(null)\nconsole.log(obj2 instanceof Object) // false\nconsole.log(obj2 instanceof ReferenceType) // true\n"})}),"\n",(0,r.jsx)(n.h2,{id:"species",children:"Species"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"class MyClass {\n  static get [Symbol.species]() {\n    return this\n  }\n\n  constructor(value) {\n    this.value = value\n  }\n\n  clone() {\n    return new this.constructor[Symbol.species](this.value)\n  }\n}\n\nclass MyDerivedClass1 extends MyClass {\n  // empty\n}\n\nclass MyDerivedClass2 extends MyClass {\n  static get [Symbol.species]() {\n    return MyClass\n  }\n}\n\nconst instance1 = new MyDerivedClass1('foo')\nconst instance2 = new MyDerivedClass2('bar')\nconst clone1 = instance1.clone()\nconst clone2 = instance2.clone()\n\nconsole.log(clone1 instanceof MyClass) // true\nconsole.log(clone1 instanceof MyDerivedClass1) // true\nconsole.log(clone2 instanceof MyClass) // true\nconsole.log(clone2 instanceof MyDerivedClass2) // false\n"})}),"\n",(0,r.jsx)(n.h2,{id:"toprimitive",children:"ToPrimitive"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"class Temperature {\n  constructor(degrees) {\n    this.degrees = degrees\n  }\n\n  [Symbol.toPrimitive](hint) {\n    switch (hint) {\n      case 'string':\n        return `${this.degrees}\\u00B0` // degrees symbol\n      case 'number':\n        return this.degrees\n      case 'default':\n        return `${this.degrees} degrees`\n    }\n  }\n}\n\nconst freezing = new Temperature(32)\n\nconsole.log(`${freezing}!`) // \"32 degrees!\"\nconsole.log(freezing / 2) // 16\nconsole.log(String(freezing)) // \"32\uc9f8\"\n"})}),"\n",(0,r.jsx)(n.h2,{id:"tostringtag",children:"ToStringTag"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"class Person {\n  constructor(name) {\n    this.name = name\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Person'\n  }\n}\n\nconst me = new Person('Me')\n\nconsole.log(me.toString()) // \"[object Person]\"\nconsole.log(Object.prototype.toString.call(me)) // \"[object Person]\"\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Value"}),(0,r.jsxs)(n.th,{children:[(0,r.jsx)(n.code,{children:"toString"})," Tag"]})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"undefined"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Undefined"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"null"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Null"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Array object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Array"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"string object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"String"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"arguments"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Arguments"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"callable"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Function"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"error object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Error"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Boolean"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"number object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Number"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"date object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Date"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"regular expression object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RegExp"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"(Otherwise)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Object"})})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},86145:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var t=s(57140);const r={},o=t.createContext(r);function l(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);