"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[11996],{93957:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"programming/design/patterns/adapter","title":"Adapter","description":"\u9002\u914d\u5668\u901a\u8fc7\u5185\u90e8\u4f7f\u7528\u65b0\u63a5\u53e3\u89c4\u5b9a\u7684\u5c5e\u6027/\u65b9\u6cd5, \u521b\u5efa\u4e00\u4e2a\u5916\u89c2\u4e0e\u65e7\u63a5\u53e3\u4e00\u81f4\u7684\u65b9\u6cd5","source":"@site/content/programming/design/patterns/adapter.md","sourceDirName":"programming/design/patterns","slug":"/programming/design/patterns/adapter","permalink":"/notes/programming/design/patterns/adapter","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/design/patterns/adapter.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"Design","permalink":"/notes/tags/design"},{"inline":true,"label":"Design Pattern","permalink":"/notes/tags/design-pattern"},{"inline":true,"label":"Structural Pattern","permalink":"/notes/tags/structural-pattern"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"tags":["Programming","Design","Design Pattern","Structural Pattern"]},"sidebar":"tutorialSidebar","previous":{"title":"Singleton","permalink":"/notes/programming/design/patterns/singleton"},"next":{"title":"Bridge","permalink":"/notes/programming/design/patterns/bridge"}}');var r=t(35656),a=t(86145);const s={sidebar_position:6,tags:["Programming","Design","Design Pattern","Structural Pattern"]},o="Adapter",l={},c=[];function d(n){const e={admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"adapter",children:"Adapter"})}),"\n",(0,r.jsx)(e.p,{children:"\u9002\u914d\u5668\u901a\u8fc7\u5185\u90e8\u4f7f\u7528\u65b0\u63a5\u53e3\u89c4\u5b9a\u7684\u5c5e\u6027/\u65b9\u6cd5, \u521b\u5efa\u4e00\u4e2a\u5916\u89c2\u4e0e\u65e7\u63a5\u53e3\u4e00\u81f4\u7684\u65b9\u6cd5\n(\u517c\u5bb9\u65e7\u4ee3\u7801):"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"old.method()"}),"."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"adapter.method()"}),":\n\u5b9e\u73b0\u6b64 method \u65f6, \u4f7f\u7528\u4e86\u65b0\u63a5\u53e3\u89c4\u5b9a\u7684\u5c5e\u6027/\u65b9\u6cd5."]}),"\n",(0,r.jsx)(e.li,{children:"\u7b26\u5408\u5f00\u653e\u5c01\u95ed\u539f\u5219."}),"\n"]}),"\n",(0,r.jsx)(e.admonition,{title:"Adapter Use Case",type:"tip",children:(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"API adapter."}),"\n",(0,r.jsx)(e.li,{children:"3rd-party code adapter."}),"\n",(0,r.jsx)(e.li,{children:"Legacy code adapter (version compatibility)."}),"\n",(0,r.jsx)(e.li,{children:"Testing and mocking."}),"\n"]})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class Calculator1 {\n  constructor() {\n    this.operations = function (value1, value2, operation) {\n      switch (operation) {\n        case 'add':\n          return value1 + value2\n        case 'sub':\n          return value1 - value2\n        default:\n          throw new Error('Unsupported operations!')\n      }\n    }\n  }\n}\n\nclass Calculator2 {\n  constructor() {\n    this.add = function (value1, value2) {\n      return value1 + value2\n    }\n\n    this.sub = function (value1, value2) {\n      return value1 - value2\n    }\n  }\n}\n\nclass CalcAdapter {\n  constructor() {\n    const cal2 = new Calculator2()\n\n    this.operations = function (value1, value2, operation) {\n      switch (operation) {\n        case 'add':\n          return cal2.add(value1, value2)\n        case 'sub':\n          return cal2.sub(value1, value2)\n        default:\n          throw new Error('Unsupported operations!')\n      }\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"// old interface\nfunction Shipping() {\n  this.request = function (zipStart, zipEnd, weight) {\n    // ...\n    return '$49.75'\n  }\n}\n\n// new interface\nfunction AdvancedShipping() {\n  this.login = function (credentials) {\n    /* ... */\n  }\n  this.setStart = function (start) {\n    /* ... */\n  }\n  this.setDestination = function (destination) {\n    /* ... */\n  }\n  this.calculate = function (weight) {\n    return '$39.50'\n  }\n}\n\n// adapter interface\nfunction AdapterShipping(credentials) {\n  const shipping = new AdvancedShipping()\n\n  shipping.login(credentials)\n\n  return {\n    request(zipStart, zipEnd, weight) {\n      shipping.setStart(zipStart)\n      shipping.setDestination(zipEnd)\n      return shipping.calculate(weight)\n    },\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"const shipping = new Shipping()\nconst adapterShipping = new AdapterShipping(credentials)\n\n// original shipping object and interface\nlet cost = shipping.request('78701', '10010', '2 lbs')\nlog.add(`Old cost: ${cost}`)\n// new shipping object with adapted interface\ncost = adapter.request('78701', '10010', '2 lbs')\n"})})]})}function p(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},86145:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>o});var i=t(57140);const r={},a=i.createContext(r);function s(n){const e=i.useContext(a);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),i.createElement(a.Provider,{value:e},n.children)}}}]);